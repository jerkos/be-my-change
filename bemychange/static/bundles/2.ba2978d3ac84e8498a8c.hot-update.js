webpackHotUpdate_name_(2,{

/***/ 11:
/* unknown exports provided */
/* all exports used */
/*!******************************!*\
  !*** ./src/actions/utils.js ***!
  \******************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.fillUptag = fillUptag;\nexports.getTagsNumber = getTagsNumber;\nexports.updateSidebarTags = updateSidebarTags;\nexports.getFullTag = getFullTag;\nfunction fillUptag(tags) {\n    var val = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n    var _iteratorNormalCompletion = true;\n    var _didIteratorError = false;\n    var _iteratorError = undefined;\n\n    try {\n        for (var _iterator = tags[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n            var tag = _step.value;\n\n            var value = val ? val + '-' + tag.id : tag.id + '';\n            tag.tag_slug = value;\n\n            if (tag.sons && tag.sons.length) {\n                fillUptag(tag.sons, value);\n            }\n        }\n    } catch (err) {\n        _didIteratorError = true;\n        _iteratorError = err;\n    } finally {\n        try {\n            if (!_iteratorNormalCompletion && _iterator.return) {\n                _iterator.return();\n            }\n        } finally {\n            if (_didIteratorError) {\n                throw _iteratorError;\n            }\n        }\n    }\n}\n\nfunction getTagsNumber(actions, result) {\n    function plusOne(key) {\n        if (!Object.keys(result).includes(key)) {\n            result[key] = 0;\n        }\n        result[key] += 1;\n    }\n\n    var _iteratorNormalCompletion2 = true;\n    var _didIteratorError2 = false;\n    var _iteratorError2 = undefined;\n\n    try {\n        for (var _iterator2 = actions[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n            var action = _step2.value;\n            var _iteratorNormalCompletion3 = true;\n            var _didIteratorError3 = false;\n            var _iteratorError3 = undefined;\n\n            try {\n                for (var _iterator3 = action.tags[Symbol.iterator](), _step3; !(_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done); _iteratorNormalCompletion3 = true) {\n                    var tag = _step3.value;\n\n                    var targetTag = tag.tag_slug;\n                    if (!targetTag) {\n                        return;\n                    }\n                    plusOne(targetTag);\n\n                    var val = targetTag.split('-');\n                    val.pop();\n                    while (val.length !== 0) {\n                        plusOne(val.join('-'));\n                        val.pop();\n                    }\n                }\n            } catch (err) {\n                _didIteratorError3 = true;\n                _iteratorError3 = err;\n            } finally {\n                try {\n                    if (!_iteratorNormalCompletion3 && _iterator3.return) {\n                        _iterator3.return();\n                    }\n                } finally {\n                    if (_didIteratorError3) {\n                        throw _iteratorError3;\n                    }\n                }\n            }\n        }\n    } catch (err) {\n        _didIteratorError2 = true;\n        _iteratorError2 = err;\n    } finally {\n        try {\n            if (!_iteratorNormalCompletion2 && _iterator2.return) {\n                _iterator2.return();\n            }\n        } finally {\n            if (_didIteratorError2) {\n                throw _iteratorError2;\n            }\n        }\n    }\n}\n\nfunction updateSidebarTags(state) {\n    //if (!this.state.tagSlugToCreate) {\n    //    return;\n    //}\n    var newTags = state.tagsToCreate.split('/');\n    var existingTags = state.tags;\n    var currRank = 1;\n\n    var tagsSlug = '';\n    var tagsToCreate = [];\n\n    var _iteratorNormalCompletion4 = true;\n    var _didIteratorError4 = false;\n    var _iteratorError4 = undefined;\n\n    try {\n        var _loop = function _loop() {\n            var newTag = _step4.value;\n\n            var tag = existingTags.find(function (existingTag) {\n                return existingTag.name === newTag;\n            });\n\n            if (!tag) {\n                var obj = {\n                    name: newTag,\n                    parent_id: +tagsSlug.split('-').slice(-1) || null,\n                    rank: currRank\n                };\n                tagsToCreate.push(obj);\n                // existingTags.push(obj);\n\n                // updated later to test ?\n                //this.store.updateState({tags: existingTags}, 'SIDEBAR_TO_UPDATE');\n            }\n            var newId = !tag ? 0 : tag.id;\n            tagsSlug = tagsSlug ? tagsSlug + '-' + newId : tagsSlug + newId;\n            existingTags = tag ? tag.sons || [] : [];\n            currRank++;\n        };\n\n        for (var _iterator4 = newTags[Symbol.iterator](), _step4; !(_iteratorNormalCompletion4 = (_step4 = _iterator4.next()).done); _iteratorNormalCompletion4 = true) {\n            _loop();\n        }\n    } catch (err) {\n        _didIteratorError4 = true;\n        _iteratorError4 = err;\n    } finally {\n        try {\n            if (!_iteratorNormalCompletion4 && _iterator4.return) {\n                _iterator4.return();\n            }\n        } finally {\n            if (_didIteratorError4) {\n                throw _iteratorError4;\n            }\n        }\n    }\n\n    return { tagsSlug: tagsSlug, tagsToCreate: tagsToCreate, actualizedTags: existingTags };\n}\n\nfunction getFullTag(userAction, tagsInput) {\n    var _this = this;\n\n    /*const userActionTags = userAction.tag.split('-');\n    let tags = tagsInput.slice();\n    let result = [];\n    while (userActionTags.length) {\n        const currTag = userActionTags.shift();\n        const targetTag = tags.find(tag => '' + tag.id === currTag);\n        result.push(targetTag.name);\n        if (targetTag && targetTag.sons) {\n            tags = targetTag.sons;\n            continue;\n        }\n        break;\n    }\n    return result.join('/');\n    */\n    return userAction.tags.map(function (tag) {\n        var userActionTags = tag.tag_slug.split('-');\n        var tags = _this.state.tags.slice();\n        var result = [];\n\n        var _loop2 = function _loop2() {\n            var currTag = userActionTags.shift();\n            var targetTag = tags.find(function (tag) {\n                return '' + tag.id === currTag;\n            });\n            result.push(targetTag.name);\n            if (targetTag && targetTag.sons) {\n                tags = targetTag.sons;\n                return 'continue';\n            }\n            return 'break';\n        };\n\n        _loop3: while (userActionTags.length) {\n            var _ret2 = _loop2();\n\n            switch (_ret2) {\n                case 'continue':\n                    continue;\n\n                case 'break':\n                    break _loop3;}\n        }\n\n        return result.join('/');\n    });\n}//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMTEuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL2FjdGlvbnMvdXRpbHMuanM/ZTMwNyJdLCJzb3VyY2VzQ29udGVudCI6WyJcbmV4cG9ydCBmdW5jdGlvbiBmaWxsVXB0YWcodGFncywgdmFsPScnKSB7XG4gICAgZm9yIChsZXQgdGFnIG9mIHRhZ3MpIHtcbiAgICAgICAgbGV0IHZhbHVlID0gdmFsID8gdmFsICsgJy0nICsgdGFnLmlkIDogdGFnLmlkICsgJyc7XG4gICAgICAgIHRhZy50YWdfc2x1ZyA9IHZhbHVlO1xuXG4gICAgICAgIGlmICh0YWcuc29ucyAmJiB0YWcuc29ucy5sZW5ndGgpIHtcbiAgICAgICAgICAgIGZpbGxVcHRhZyh0YWcuc29ucywgdmFsdWUpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0VGFnc051bWJlcihhY3Rpb25zLCByZXN1bHQpIHtcbiAgICBmdW5jdGlvbiBwbHVzT25lKGtleSkge1xuICAgICAgICBpZiAoIU9iamVjdC5rZXlzKHJlc3VsdCkuaW5jbHVkZXMoa2V5KSkge1xuICAgICAgICAgICAgcmVzdWx0W2tleV0gPSAwO1xuICAgICAgICB9XG4gICAgICAgIHJlc3VsdFtrZXldICs9IDE7XG4gICAgfVxuXG4gICAgZm9yIChsZXQgYWN0aW9uIG9mIGFjdGlvbnMpIHtcbiAgICAgICAgZm9yIChsZXQgdGFnIG9mIGFjdGlvbi50YWdzKSB7XG4gICAgICAgICAgICBjb25zdCB0YXJnZXRUYWcgPSB0YWcudGFnX3NsdWc7XG4gICAgICAgICAgICBpZiAoIXRhcmdldFRhZykge1xuICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHBsdXNPbmUodGFyZ2V0VGFnKTtcblxuICAgICAgICAgICAgbGV0IHZhbCA9IHRhcmdldFRhZy5zcGxpdCgnLScpO1xuICAgICAgICAgICAgdmFsLnBvcCgpO1xuICAgICAgICAgICAgd2hpbGUgKHZhbC5sZW5ndGggIT09IDApIHtcbiAgICAgICAgICAgICAgICBwbHVzT25lKHZhbC5qb2luKCctJykpO1xuICAgICAgICAgICAgICAgIHZhbC5wb3AoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn1cblxuZXhwb3J0IGZ1bmN0aW9uIHVwZGF0ZVNpZGViYXJUYWdzKHN0YXRlKSB7XG4gICAgLy9pZiAoIXRoaXMuc3RhdGUudGFnU2x1Z1RvQ3JlYXRlKSB7XG4gICAgLy8gICAgcmV0dXJuO1xuICAgIC8vfVxuICAgIGNvbnN0IG5ld1RhZ3MgPSBzdGF0ZS50YWdzVG9DcmVhdGUuc3BsaXQoJy8nKTtcbiAgICBsZXQgZXhpc3RpbmdUYWdzID0gc3RhdGUudGFncztcbiAgICBsZXQgY3VyclJhbmsgPSAxO1xuXG4gICAgbGV0IHRhZ3NTbHVnID0gJyc7XG4gICAgY29uc3QgdGFnc1RvQ3JlYXRlID0gW107XG5cbiAgICBmb3IgKGNvbnN0IG5ld1RhZyBvZiBuZXdUYWdzKSB7XG4gICAgICAgIGNvbnN0IHRhZyA9IGV4aXN0aW5nVGFncy5maW5kKGV4aXN0aW5nVGFnID0+IGV4aXN0aW5nVGFnLm5hbWUgPT09IG5ld1RhZyk7XG5cbiAgICAgICAgaWYgKCEgdGFnKSB7XG4gICAgICAgICAgICBjb25zdCBvYmogPSB7XG4gICAgICAgICAgICAgICAgbmFtZTogbmV3VGFnLFxuICAgICAgICAgICAgICAgIHBhcmVudF9pZDogKyh0YWdzU2x1Zy5zcGxpdCgnLScpLnNsaWNlKC0xKSkgfHwgbnVsbCxcbiAgICAgICAgICAgICAgICByYW5rOiBjdXJyUmFuayxcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICB0YWdzVG9DcmVhdGUucHVzaChvYmopO1xuICAgICAgICAgICAgLy8gZXhpc3RpbmdUYWdzLnB1c2gob2JqKTtcblxuICAgICAgICAgICAgLy8gdXBkYXRlZCBsYXRlciB0byB0ZXN0ID9cbiAgICAgICAgICAgIC8vdGhpcy5zdG9yZS51cGRhdGVTdGF0ZSh7dGFnczogZXhpc3RpbmdUYWdzfSwgJ1NJREVCQVJfVE9fVVBEQVRFJyk7XG4gICAgICAgIH1cbiAgICAgICAgY29uc3QgbmV3SWQgPSAhdGFnID8gMCA6IHRhZy5pZDtcbiAgICAgICAgdGFnc1NsdWcgPSB0YWdzU2x1ZyA/ICh0YWdzU2x1ZyArICctJyArIG5ld0lkKSA6IHRhZ3NTbHVnICsgbmV3SWQ7XG4gICAgICAgIGV4aXN0aW5nVGFncyA9IHRhZyA/ICh0YWcuc29ucyB8fCBbXSkgOiBbXTtcbiAgICAgICAgY3VyclJhbmsgKys7XG4gICAgfVxuICAgIHJldHVybiB7dGFnc1NsdWcsIHRhZ3NUb0NyZWF0ZSwgYWN0dWFsaXplZFRhZ3M6IGV4aXN0aW5nVGFnc307XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBnZXRGdWxsVGFnKHVzZXJBY3Rpb24sIHRhZ3NJbnB1dCkge1xuICAgIC8qY29uc3QgdXNlckFjdGlvblRhZ3MgPSB1c2VyQWN0aW9uLnRhZy5zcGxpdCgnLScpO1xuICAgIGxldCB0YWdzID0gdGFnc0lucHV0LnNsaWNlKCk7XG4gICAgbGV0IHJlc3VsdCA9IFtdO1xuICAgIHdoaWxlICh1c2VyQWN0aW9uVGFncy5sZW5ndGgpIHtcbiAgICAgICAgY29uc3QgY3VyclRhZyA9IHVzZXJBY3Rpb25UYWdzLnNoaWZ0KCk7XG4gICAgICAgIGNvbnN0IHRhcmdldFRhZyA9IHRhZ3MuZmluZCh0YWcgPT4gJycgKyB0YWcuaWQgPT09IGN1cnJUYWcpO1xuICAgICAgICByZXN1bHQucHVzaCh0YXJnZXRUYWcubmFtZSk7XG4gICAgICAgIGlmICh0YXJnZXRUYWcgJiYgdGFyZ2V0VGFnLnNvbnMpIHtcbiAgICAgICAgICAgIHRhZ3MgPSB0YXJnZXRUYWcuc29ucztcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0LmpvaW4oJy8nKTtcbiAgICAqL1xuICAgIHJldHVybiB1c2VyQWN0aW9uLnRhZ3MubWFwKHRhZyA9PiB7XG4gICAgICAgIGNvbnN0IHVzZXJBY3Rpb25UYWdzID0gdGFnLnRhZ19zbHVnLnNwbGl0KCctJyk7XG4gICAgICAgIGxldCB0YWdzID0gdGhpcy5zdGF0ZS50YWdzLnNsaWNlKCk7XG4gICAgICAgIGxldCByZXN1bHQgPSBbXTtcbiAgICAgICAgd2hpbGUgKHVzZXJBY3Rpb25UYWdzLmxlbmd0aCkge1xuICAgICAgICAgICAgY29uc3QgY3VyclRhZyA9IHVzZXJBY3Rpb25UYWdzLnNoaWZ0KCk7XG4gICAgICAgICAgICBjb25zdCB0YXJnZXRUYWcgPSB0YWdzLmZpbmQodGFnID0+ICcnICsgdGFnLmlkID09PSBjdXJyVGFnKTtcbiAgICAgICAgICAgIHJlc3VsdC5wdXNoKHRhcmdldFRhZy5uYW1lKTtcbiAgICAgICAgICAgIGlmICh0YXJnZXRUYWcgJiYgdGFyZ2V0VGFnLnNvbnMpIHtcbiAgICAgICAgICAgICAgICB0YWdzID0gdGFyZ2V0VGFnLnNvbnM7XG4gICAgICAgICAgICAgICAgY29udGludWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0LmpvaW4oJy8nKTtcbiAgICB9KVxufVxuXG5cbi8vIFdFQlBBQ0sgRk9PVEVSIC8vXG4vLyBzcmMvYWN0aW9ucy91dGlscy5qcyJdLCJtYXBwaW5ncyI6Ijs7Ozs7QUFDQTtBQVdBO0FBMEJBO0FBa0NBO0FBdkVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQURBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFSQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBU0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFQQTtBQUFBO0FBQUE7QUFDQTtBQURBO0FBUUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBREE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQWRBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFlQTtBQXZCQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBd0JBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBVkE7QUFBQTtBQUFBO0FBQ0E7QUFEQTtBQUFBO0FBQUE7QUFDQTtBQVdBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUhBO0FBS0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUE3QkE7QUFDQTtBQVVBO0FBQUE7QUFtQkE7QUE5QkE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBOEJBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBOzs7Ozs7Ozs7Ozs7Ozs7QUFlQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSkE7QUFLQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVpBO0FBQ0E7QUFEQTtBQUlBO0FBQ0E7QUFEQTtBQUFBO0FBTUE7QUFDQTtBQVBBO0FBUUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9");

/***/ })

})