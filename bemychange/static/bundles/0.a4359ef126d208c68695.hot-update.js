webpackHotUpdate_name_(0,{

/***/ 36:
/* unknown exports provided */
/* all exports used */
/*!******************************!*\
  !*** ./src/actions/step1.js ***!
  \******************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.CreateAction = undefined;\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\n__webpack_require__(/*! ../home */ 3);\n\nvar _simpledomComponent = __webpack_require__(/*! simpledom-component */ 2);\n\nvar SimpleDom = _interopRequireWildcard(_simpledomComponent);\n\nvar _veil = __webpack_require__(/*! ../components/veil/veil */ 4);\n\nvar _composedComponent = __webpack_require__(/*! ../composedComponent */ 8);\n\n__webpack_require__(/*! ./createAction.less */ 52);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar moment = __webpack_require__(/*! moment */ 5);\nvar flatpickr = __webpack_require__(/*! flatpickr */ 35);\n__webpack_require__(/*! moment/locale/fr */ 7);\n__webpack_require__(/*! ../css/steps.less */ 56);\n__webpack_require__(/*! ../css/tooltips.less */ 12);\n__webpack_require__(/*! ../css/popovers.less */ 27);\n\nvar CreateActionStep1 = function (_ComposedComponent) {\n    _inherits(CreateActionStep1, _ComposedComponent);\n\n    function CreateActionStep1() {\n        _classCallCheck(this, CreateActionStep1);\n\n        return _possibleConstructorReturn(this, (CreateActionStep1.__proto__ || Object.getPrototypeOf(CreateActionStep1)).apply(this, arguments));\n    }\n\n    _createClass(CreateActionStep1, [{\n        key: 'eventsToSubscribe',\n        value: function eventsToSubscribe() {\n            return ['STEP1_REFRESH'];\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            var _this2 = this;\n\n            return SimpleDom.el(\n                'div',\n                null,\n                SimpleDom.el(\n                    'h3',\n                    null,\n                    'Premi\\xE8re \\xE9tape ',\n                    SimpleDom.el(\n                        'small',\n                        null,\n                        '\\xE7a ne sera pas long...'\n                    )\n                ),\n                SimpleDom.el(\n                    'div',\n                    { 'class': 'row' },\n                    SimpleDom.el(\n                        'p',\n                        { style: 'font-size: 1.2em;' },\n                        'Quel est le titre de votre nouvelle action ?'\n                    ),\n                    SimpleDom.el(\n                        'div',\n                        { 'class': 'input-field col s12', style: 'margin-top: -10px' },\n                        SimpleDom.el('input', {\n                            type: 'text',\n                            placeholder: 'le titre de votre nouvelle action !',\n                            value: this.cstate.actionTitle || '',\n                            onchange: function onchange(e) {\n                                return _this2.updateCState({ actionTitle: e.target.value });\n                            }\n                        }),\n                        SimpleDom.predicate(!!this.cstate.errorTitle, function () {\n                            return SimpleDom.el(\n                                'p',\n                                { 'class': 'red-text', style: 'margin-top: -10px' },\n                                _this2.cstate.errorTitle\n                            );\n                        })\n                    )\n                ),\n                SimpleDom.el(\n                    'div',\n                    { 'class': 'row' },\n                    SimpleDom.el(\n                        'p',\n                        { style: 'font-size: 1.2em;' },\n                        'Quelques mots pour d\\xE9crire votre action ou \\xE9v\\xE8nement'\n                    ),\n                    SimpleDom.el(\n                        'div',\n                        { 'class': 'input-field col s12', style: 'margin-top: -10px' },\n                        SimpleDom.el(\n                            'textarea',\n                            { 'class': 'materialize-textarea',\n                                onchange: function onchange(e) {\n                                    return _this2.updateCState({ actionDescription: e.target.value });\n                                },\n                                placecholder: !!this.cstate.actionDescription ? undefined : \"Entrez une description innovante...\"\n                            },\n                            this.cstate.actionDescription\n                        )\n                    ),\n                    SimpleDom.predicate(!!this.cstate.errorDescription, function () {\n                        return SimpleDom.el(\n                            'p',\n                            { 'class': 'red-text', style: 'margin-top: -15px' },\n                            _this2.cstate.errorDescription\n                        );\n                    })\n                ),\n                SimpleDom.el(\n                    'div',\n                    { 'class': 'row' },\n                    SimpleDom.el(\n                        'p',\n                        { style: 'font-size: 1.2em;' },\n                        'Choisissez une image !',\n                        SimpleDom.predicate(!!this.cstate.actionImageUrl, function () {\n                            return SimpleDom.el('img', { src: _this2.cstate.actionImageUrl, 'class': 'responsive-img' });\n                        })\n                    ),\n                    SimpleDom.el(\n                        'div',\n                        { 'class': 'input-field col s12', style: 'margin-top: -10px' },\n                        SimpleDom.el('input', {\n                            type: 'url',\n                            placeholder: 'l\\'image de votre action !',\n                            value: this.cstate.actionImageUrl || '',\n                            onchange: function onchange(e) {\n                                return _this2.updateCState({ actionImageUrl: e.target.value });\n                            }\n                        })\n                    )\n                ),\n                SimpleDom.el(\n                    'div',\n                    { 'class': 'row' },\n                    SimpleDom.el(\n                        'div',\n                        { 'class': 'popover popover-right' },\n                        SimpleDom.el(\n                            'a',\n                            { 'class': 'right hbtn hbtn-big',\n                                onclick: function onclick(e) {\n                                    var hasError = false;\n                                    var errors = {};\n                                    if (!!!_this2.cstate.actionTitle) {\n                                        hasError = true;\n                                        errors = _extends({}, errors, { errorTitle: 'Titre vide !' });\n                                    }\n                                    if (!!!_this2.cstate.actionDescription) {\n                                        hasError = true;\n                                        errors = _extends({}, errors, { errorDescription: 'Description vide !' });\n                                    }\n                                    if (hasError) {\n                                        _this2.updateCState({\n                                            errorDescription: errors.errorDescription,\n                                            errorTitle: errors.errorTitle\n                                        }, 'STEP1_REFRESH');\n                                    } else {\n                                        _this2.updateCState({ currStep: 2 }, 'CHANGE_STATE');\n                                    }\n                                } },\n                            'Passer \\xE0 la suite'\n                        )\n                    )\n                )\n            );\n        }\n    }]);\n\n    return CreateActionStep1;\n}(_composedComponent.ComposedComponent);\n\nvar TagSelector = function (_SimpleDom$Component) {\n    _inherits(TagSelector, _SimpleDom$Component);\n\n    function TagSelector() {\n        _classCallCheck(this, TagSelector);\n\n        return _possibleConstructorReturn(this, (TagSelector.__proto__ || Object.getPrototypeOf(TagSelector)).apply(this, arguments));\n    }\n\n    _createClass(TagSelector, [{\n        key: 'eventsToSubscribe',\n        value: function eventsToSubscribe() {\n            return ['TAG_SELECTOR_UPDATE'];\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            var _this4 = this;\n\n            return SimpleDom.el(\n                'div',\n                { 'class': 'row' },\n                SimpleDom.el(\n                    'div',\n                    { 'class': 'tag-selector' },\n                    SimpleDom.el(\n                        'div',\n                        { 'class': 'input-field tag-selector-input' },\n                        SimpleDom.el('input', { type: 'text',\n                            value: '#',\n                            onchange: function onchange(e) {\n                                _this4.store.updateState({ tagsToCreate: e.target.value });\n                            }\n                        })\n                    )\n                )\n            );\n        }\n    }]);\n\n    return TagSelector;\n}(SimpleDom.Component);\n\nvar CreateActionStep2 = function (_ComposedComponent2) {\n    _inherits(CreateActionStep2, _ComposedComponent2);\n\n    function CreateActionStep2() {\n        _classCallCheck(this, CreateActionStep2);\n\n        return _possibleConstructorReturn(this, (CreateActionStep2.__proto__ || Object.getPrototypeOf(CreateActionStep2)).apply(this, arguments));\n    }\n\n    _createClass(CreateActionStep2, [{\n        key: 'eventsToSubscribe',\n        value: function eventsToSubscribe() {\n            return ['STEP2_REFRESH'];\n        }\n    }, {\n        key: 'componentDidMount',\n        value: function componentDidMount() {\n            flatpickr('.flatpicker-starter');\n        }\n    }, {\n        key: 'updateSidebarTags',\n        value: function updateSidebarTags() {\n            var _this6 = this;\n\n            //if (!this.state.tagSlugToCreate) {\n            //    return;\n            //}\n            var newTags = this.state.tagsToCreate.slice(1).split('/');\n            console.log(this.state.tagsToCreate, newTags);\n            var existingTags = this.state.tags;\n            var currRank = 1;\n\n            var tagsSlug = '';\n            var tagsToCreate = [];\n\n            var _iteratorNormalCompletion = true;\n            var _didIteratorError = false;\n            var _iteratorError = undefined;\n\n            try {\n                var _loop = function _loop() {\n                    var newTag = _step.value;\n\n                    var tag = existingTags.find(function (existingTag) {\n                        return existingTag.name === newTag;\n                    });\n\n                    if (!tag) {\n                        var obj = {\n                            name: newTag,\n                            parentId: +tagsSlug.split('-').slice(-1) || null,\n                            rank: currRank\n                        };\n                        tagsToCreate.push(obj);\n                        existingTags.push(obj);\n                        _this6.store.updateState({ tags: existingTags }, 'SIDEBAR_TO_UPDATE');\n                    }\n                    var newId = !tag ? 0 : tag.id;\n                    tagsSlug = tagsSlug ? tagsSlug + '-' + newId : tagsSlug + newId;\n                    existingTags = tag ? tag.sons || [] : [];\n                    currRank++;\n                };\n\n                for (var _iterator = newTags[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n                    _loop();\n                }\n            } catch (err) {\n                _didIteratorError = true;\n                _iteratorError = err;\n            } finally {\n                try {\n                    if (!_iteratorNormalCompletion && _iterator.return) {\n                        _iterator.return();\n                    }\n                } finally {\n                    if (_didIteratorError) {\n                        throw _iteratorError;\n                    }\n                }\n            }\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            var _this7 = this;\n\n            return SimpleDom.el(\n                'div',\n                null,\n                SimpleDom.el(\n                    'h3',\n                    null,\n                    'Dans le vif du sujet'\n                ),\n                SimpleDom.el(\n                    'div',\n                    { 'class': 'row' },\n                    SimpleDom.el(\n                        'p',\n                        { 'class': 'prompt' },\n                        'Classifier votre action ?',\n                        SimpleDom.el('span', { style: 'padding-left: 10px',\n                            'class': 'lnr lnr-question-circle tooltip tooltip-right',\n                            'data-tooltip': 'Séparer vos tags par des \"/\".' + 'Si vous créez un nouveau tag, il apparaitra ' + 'automatiquement dans vos filtres.' })\n                    ),\n                    SimpleDom.el(\n                        'div',\n                        { 'class': 'col s12', style: 'max-height: 72px' },\n                        SimpleDom.el(TagSelector, null)\n                    )\n                ),\n                SimpleDom.el(\n                    'div',\n                    { 'class': 'row' },\n                    SimpleDom.el(\n                        'p',\n                        { 'class': 'prompt' },\n                        'Votre action est-publique ?'\n                    ),\n                    SimpleDom.el(\n                        'div',\n                        { 'class': 'input-field col s12', style: 'margin-top: -10px; margin-bottom: 40px;' },\n                        SimpleDom.el(\n                            'div',\n                            { 'class': 'switch' },\n                            SimpleDom.el(\n                                'label',\n                                null,\n                                'Non',\n                                SimpleDom.el('input', { type: 'checkbox',\n                                    checked: this.cstate.isPublic || false ? true : undefined,\n                                    onchange: function onchange(e) {\n                                        _this7.updateCState({ isPublic: !(_this7.cstate.isPublic || false) });\n                                    } }),\n                                SimpleDom.el('span', { 'class': 'lever' }),\n                                'Oui'\n                            )\n                        )\n                    )\n                ),\n                SimpleDom.el(\n                    'div',\n                    { 'class': 'row' },\n                    SimpleDom.el(\n                        'p',\n                        { 'class': 'prompt' },\n                        'Combien de temps durera votre action (r\\xE9currence quotidienne ?):',\n                        SimpleDom.el(\n                            'span',\n                            { style: 'padding-left: 10px' },\n                            SimpleDom.el(\n                                'em',\n                                null,\n                                (this.cstate.actionDuration || 21) + ' jours'\n                            )\n                        )\n                    ),\n                    SimpleDom.el(\n                        'p',\n                        { 'class': 'range-field' },\n                        SimpleDom.el('input', { type: 'range',\n                            value: this.cstate.actionDuration || 21,\n                            onchange: function onchange(e) {\n                                return _this7.updateCState({ actionDuration: e.target.value }, 'STEP2_REFRESH');\n                            }, min: '0', max: '30'\n                        })\n                    )\n                ),\n                SimpleDom.el(\n                    'div',\n                    { 'class': 'row' },\n                    SimpleDom.el(\n                        'p',\n                        { 'class': 'prompt' },\n                        ' Quand souhaitez-vous commencer votre action ?',\n                        SimpleDom.el('input', { type: 'date', style: 'display: inline !important', 'class': 'flatpicker-starter', onchange: function onchange(e) {\n                                return _this7.updateCState({ startDate: e.target.value });\n                            } })\n                    )\n                ),\n                SimpleDom.el(\n                    'div',\n                    { 'class': 'row' },\n                    SimpleDom.el(\n                        'a',\n                        { 'class': 'left hbtn hbtn-big',\n                            onclick: function onclick(e) {\n                                _this7.updateCState({ currStep: 1 }, 'CHANGE_STATE');\n                            } },\n                        'Retour en arri\\xE8re'\n                    ),\n                    SimpleDom.el(\n                        'a',\n                        { 'class': 'right hbtn hbtn-big',\n                            onclick: function onclick(e) {\n                                e.preventDefault();\n                                _this7.updateSidebarTags();\n                                // withVeilAndMessages(\n                                //     window.fetchJsonData('/users/actions/create',\n                                //         {\n                                //             method: 'POST',\n                                //             body: JSON.stringify({\n                                //                 ...this.cstate, \n                                //                 tagSlugToCreate: this.state.tagSlugToCreate,\n                                //                 tagsToCreate: this.state.tagsToCreate\n                                //             })\n                                //         }), true\n                                // ).then(data => {\n                                //     console.log('action properly saved !')\n                                //     $('#createAction').modal('close');\n                                //})\n                            } },\n                        'Cr\\xE9er l\\'action'\n                    )\n                )\n            );\n        }\n    }]);\n\n    return CreateActionStep2;\n}(_composedComponent.ComposedComponent);\n\nvar Step = function (_SimpleDom$Component2) {\n    _inherits(Step, _SimpleDom$Component2);\n\n    function Step() {\n        _classCallCheck(this, Step);\n\n        return _possibleConstructorReturn(this, (Step.__proto__ || Object.getPrototypeOf(Step)).apply(this, arguments));\n    }\n\n    _createClass(Step, [{\n        key: 'render',\n        value: function render() {\n            return SimpleDom.el(\n                'ul',\n                { 'class': 'step' },\n                SimpleDom.el(\n                    'li',\n                    { 'class': 'step-item ' + (this.props.currStep === 1 ? 'active' : undefined) },\n                    SimpleDom.el('a', { href: '#', 'class': 'tooltip tooltip-bottom', 'data-tooltip': 'Description de votre nouvelle action' })\n                ),\n                SimpleDom.el(\n                    'li',\n                    { 'class': 'step-item ' + (this.props.currStep === 2 ? 'active' : undefined) },\n                    SimpleDom.el('a', { href: '#', 'class': 'tooltip tooltip-bottom', 'data-tooltip': 'Param\\xE8tres de l\\'action' })\n                )\n            );\n        }\n    }]);\n\n    return Step;\n}(SimpleDom.Component);\n\nvar CreateAction = exports.CreateAction = function (_ParentComponent) {\n    _inherits(CreateAction, _ParentComponent);\n\n    function CreateAction(props, store) {\n        _classCallCheck(this, CreateAction);\n\n        return _possibleConstructorReturn(this, (CreateAction.__proto__ || Object.getPrototypeOf(CreateAction)).call(this, props, store));\n    }\n\n    _createClass(CreateAction, [{\n        key: 'eventsToSubscribe',\n        value: function eventsToSubscribe() {\n            return ['CHANGE_STATE'];\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            var stepDiv = null;\n            switch (this.cstate.currStep) {\n                case 1:\n                case undefined:\n                    stepDiv = SimpleDom.el(CreateActionStep1, { parent: this });\n                    break;\n                case 2:\n                    stepDiv = SimpleDom.el(CreateActionStep2, { parent: this });\n                    break;\n            }\n            return SimpleDom.el(\n                'div',\n                { id: 'top', 'class': 'action' },\n                SimpleDom.el(\n                    'div',\n                    { 'class': 'row' },\n                    SimpleDom.el(Step, { currStep: this.cstate.currStep || 1 })\n                ),\n                SimpleDom.el(\n                    'div',\n                    { 'class': 'row' },\n                    SimpleDom.el(\n                        'div',\n                        { 'class': 'col s12' },\n                        stepDiv\n                    )\n                )\n            );\n        }\n    }]);\n\n    return CreateAction;\n}(_composedComponent.ParentComponent);//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzYuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL2FjdGlvbnMvc3RlcDEuanM/OTJmZCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgJy4uL2hvbWUnO1xuY29uc3QgbW9tZW50ID0gcmVxdWlyZSgnbW9tZW50JylcbmNvbnN0IGZsYXRwaWNrciA9IHJlcXVpcmUoJ2ZsYXRwaWNrcicpO1xucmVxdWlyZSgnbW9tZW50L2xvY2FsZS9mcicpO1xucmVxdWlyZSgnLi4vY3NzL3N0ZXBzLmxlc3MnKTtcbnJlcXVpcmUoJy4uL2Nzcy90b29sdGlwcy5sZXNzJyk7XG5yZXF1aXJlKCcuLi9jc3MvcG9wb3ZlcnMubGVzcycpO1xuaW1wb3J0ICogYXMgU2ltcGxlRG9tIGZyb20gJ3NpbXBsZWRvbS1jb21wb25lbnQnO1xuaW1wb3J0IHsgd2l0aFZlaWxBbmRNZXNzYWdlcyB9IGZyb20gJy4uL2NvbXBvbmVudHMvdmVpbC92ZWlsJztcbmltcG9ydCB7IENvbXBvc2VkQ29tcG9uZW50LCBQYXJlbnRDb21wb25lbnQgfSBmcm9tICcuLi9jb21wb3NlZENvbXBvbmVudCdcbmltcG9ydCAnLi9jcmVhdGVBY3Rpb24ubGVzcydcblxuY2xhc3MgQ3JlYXRlQWN0aW9uU3RlcDEgZXh0ZW5kcyBDb21wb3NlZENvbXBvbmVudCB7XG4gICAgZXZlbnRzVG9TdWJzY3JpYmUoKSB7XG4gICAgICAgIHJldHVybiBbJ1NURVAxX1JFRlJFU0gnXTtcbiAgICB9XG4gICAgcmVuZGVyKCkge1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICA8aDM+UHJlbWnDqHJlIMOpdGFwZSA8c21hbGw+w6dhIG5lIHNlcmEgcGFzIGxvbmcuLi48L3NtYWxsPjwvaDM+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInJvd1wiPlxuICAgICAgICAgICAgICAgICAgICA8cCBzdHlsZT1cImZvbnQtc2l6ZTogMS4yZW07XCI+UXVlbCBlc3QgbGUgdGl0cmUgZGUgdm90cmUgbm91dmVsbGUgYWN0aW9uID88L3A+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJpbnB1dC1maWVsZCBjb2wgczEyXCIgc3R5bGU9XCJtYXJnaW4tdG9wOiAtMTBweFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdHlwZT1cInRleHRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwibGUgdGl0cmUgZGUgdm90cmUgbm91dmVsbGUgYWN0aW9uICFcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPXt0aGlzLmNzdGF0ZS5hY3Rpb25UaXRsZSB8fCAnJ31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbmNoYW5nZT17ZSA9PiB0aGlzLnVwZGF0ZUNTdGF0ZSh7IGFjdGlvblRpdGxlOiBlLnRhcmdldC52YWx1ZSB9KX1cbiAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICB7U2ltcGxlRG9tLnByZWRpY2F0ZShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAhIXRoaXMuY3N0YXRlLmVycm9yVGl0bGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKCkgPT4gPHAgY2xhc3M9XCJyZWQtdGV4dFwiIHN0eWxlPVwibWFyZ2luLXRvcDogLTEwcHhcIj57dGhpcy5jc3RhdGUuZXJyb3JUaXRsZX08L3A+XG4gICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwicm93XCI+XG4gICAgICAgICAgICAgICAgICAgIDxwIHN0eWxlPVwiZm9udC1zaXplOiAxLjJlbTtcIj5RdWVscXVlcyBtb3RzIHBvdXIgZMOpY3JpcmUgdm90cmUgYWN0aW9uIG91IMOpdsOobmVtZW50PC9wPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaW5wdXQtZmllbGQgY29sIHMxMlwiIHN0eWxlPVwibWFyZ2luLXRvcDogLTEwcHhcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDx0ZXh0YXJlYSBjbGFzcz1cIm1hdGVyaWFsaXplLXRleHRhcmVhXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbmNoYW5nZT17ZSA9PiB0aGlzLnVwZGF0ZUNTdGF0ZSh7IGFjdGlvbkRlc2NyaXB0aW9uOiBlLnRhcmdldC52YWx1ZSB9KX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWNob2xkZXI9eyEhdGhpcy5jc3RhdGUuYWN0aW9uRGVzY3JpcHRpb24gPyB1bmRlZmluZWQgOiBcIkVudHJleiB1bmUgZGVzY3JpcHRpb24gaW5ub3ZhbnRlLi4uXCJ9XG4gICAgICAgICAgICAgICAgICAgICAgICA+e3RoaXMuY3N0YXRlLmFjdGlvbkRlc2NyaXB0aW9ufTwvdGV4dGFyZWE+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICB7U2ltcGxlRG9tLnByZWRpY2F0ZShcbiAgICAgICAgICAgICAgICAgICAgICAgICEhdGhpcy5jc3RhdGUuZXJyb3JEZXNjcmlwdGlvbixcbiAgICAgICAgICAgICAgICAgICAgICAgICgpID0+IDxwIGNsYXNzPVwicmVkLXRleHRcIiBzdHlsZT1cIm1hcmdpbi10b3A6IC0xNXB4XCI+e3RoaXMuY3N0YXRlLmVycm9yRGVzY3JpcHRpb259PC9wPlxuICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJyb3dcIj5cbiAgICAgICAgICAgICAgICAgICAgPHAgc3R5bGU9XCJmb250LXNpemU6IDEuMmVtO1wiPkNob2lzaXNzZXogdW5lIGltYWdlICFcbiAgICAgICAgICAgICAgICAgICAgICAgIHtTaW1wbGVEb20ucHJlZGljYXRlKCEhdGhpcy5jc3RhdGUuYWN0aW9uSW1hZ2VVcmwsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKCkgPT4gPGltZyBzcmM9e3RoaXMuY3N0YXRlLmFjdGlvbkltYWdlVXJsfSBjbGFzcz1cInJlc3BvbnNpdmUtaW1nXCIgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImlucHV0LWZpZWxkIGNvbCBzMTJcIiBzdHlsZT1cIm1hcmdpbi10b3A6IC0xMHB4XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlPVwidXJsXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cImwnaW1hZ2UgZGUgdm90cmUgYWN0aW9uICFcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPXt0aGlzLmNzdGF0ZS5hY3Rpb25JbWFnZVVybCB8fCAnJ31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbmNoYW5nZT17ZSA9PiB0aGlzLnVwZGF0ZUNTdGF0ZSh7IGFjdGlvbkltYWdlVXJsOiBlLnRhcmdldC52YWx1ZSB9KX1cbiAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJyb3dcIj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInBvcG92ZXIgcG9wb3Zlci1yaWdodFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGEgY2xhc3M9XCJyaWdodCBoYnRuIGhidG4tYmlnXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbmNsaWNrPXtlID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGhhc0Vycm9yID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBlcnJvcnMgPSB7fTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEgISF0aGlzLmNzdGF0ZS5hY3Rpb25UaXRsZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGFzRXJyb3IgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3JzID0geyAuLi5lcnJvcnMsIGVycm9yVGl0bGU6ICdUaXRyZSB2aWRlICEnIH07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEgISF0aGlzLmNzdGF0ZS5hY3Rpb25EZXNjcmlwdGlvbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGFzRXJyb3IgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3JzID0geyAuLi5lcnJvcnMsIGVycm9yRGVzY3JpcHRpb246ICdEZXNjcmlwdGlvbiB2aWRlICEnIH07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGhhc0Vycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZUNTdGF0ZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3JEZXNjcmlwdGlvbjogZXJyb3JzLmVycm9yRGVzY3JpcHRpb24sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3JUaXRsZTogZXJyb3JzLmVycm9yVGl0bGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sICdTVEVQMV9SRUZSRVNIJylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlQ1N0YXRlKHsgY3VyclN0ZXA6IDIgfSwgJ0NIQU5HRV9TVEFURScpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfX0+UGFzc2VyIMOgIGxhIHN1aXRlPC9hPlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICApO1xuICAgIH1cbn1cblxuY2xhc3MgVGFnU2VsZWN0b3IgZXh0ZW5kcyBTaW1wbGVEb20uQ29tcG9uZW50IHtcbiAgICBldmVudHNUb1N1YnNjcmliZSgpIHtcbiAgICAgICAgcmV0dXJuIFsnVEFHX1NFTEVDVE9SX1VQREFURSddO1xuICAgIH1cblxuICAgIHJlbmRlcigpIHtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJyb3dcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwidGFnLXNlbGVjdG9yXCI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJpbnB1dC1maWVsZCB0YWctc2VsZWN0b3ItaW5wdXRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwidGV4dFwiIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPVwiI1wiIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uY2hhbmdlPXtlID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdG9yZS51cGRhdGVTdGF0ZSh7dGFnc1RvQ3JlYXRlOiBlLnRhcmdldC52YWx1ZX0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICk7XG4gICAgfVxufVxuXG5cbmNsYXNzIENyZWF0ZUFjdGlvblN0ZXAyIGV4dGVuZHMgQ29tcG9zZWRDb21wb25lbnQge1xuXG4gICAgZXZlbnRzVG9TdWJzY3JpYmUoKSB7XG4gICAgICAgIHJldHVybiBbJ1NURVAyX1JFRlJFU0gnXTtcbiAgICB9XG5cbiAgICBjb21wb25lbnREaWRNb3VudCgpIHsgICAgICAgXG4gICAgICAgIGZsYXRwaWNrcignLmZsYXRwaWNrZXItc3RhcnRlcicpO1xuICAgIH1cblxuICAgIHVwZGF0ZVNpZGViYXJUYWdzKCkge1xuICAgICAgICAvL2lmICghdGhpcy5zdGF0ZS50YWdTbHVnVG9DcmVhdGUpIHtcbiAgICAgICAgLy8gICAgcmV0dXJuO1xuICAgICAgICAvL31cbiAgICAgICAgY29uc3QgbmV3VGFncyA9IHRoaXMuc3RhdGUudGFnc1RvQ3JlYXRlLnNsaWNlKDEpLnNwbGl0KCcvJyk7XG4gICAgICAgIGNvbnNvbGUubG9nKHRoaXMuc3RhdGUudGFnc1RvQ3JlYXRlLCBuZXdUYWdzKTtcbiAgICAgICAgbGV0IGV4aXN0aW5nVGFncyA9IHRoaXMuc3RhdGUudGFncztcbiAgICAgICAgbGV0IGN1cnJSYW5rID0gMTtcblxuICAgICAgICBsZXQgdGFnc1NsdWcgPSAnJztcbiAgICAgICAgY29uc3QgdGFnc1RvQ3JlYXRlID0gW107XG4gICAgICAgIFxuICAgICAgICBmb3IgKGNvbnN0IG5ld1RhZyBvZiBuZXdUYWdzKSB7XG4gICAgICAgICAgICBjb25zdCB0YWcgPSBleGlzdGluZ1RhZ3MuZmluZChleGlzdGluZ1RhZyA9PiBleGlzdGluZ1RhZy5uYW1lID09PSBuZXdUYWcpO1xuXG4gICAgICAgICAgICBpZiAoISB0YWcpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBvYmogPSB7XG4gICAgICAgICAgICAgICAgICAgIG5hbWU6IG5ld1RhZyxcbiAgICAgICAgICAgICAgICAgICAgcGFyZW50SWQ6ICsodGFnc1NsdWcuc3BsaXQoJy0nKS5zbGljZSgtMSkpIHx8IG51bGwsXG4gICAgICAgICAgICAgICAgICAgIHJhbms6IGN1cnJSYW5rXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB0YWdzVG9DcmVhdGUucHVzaChvYmopO1xuICAgICAgICAgICAgICAgIGV4aXN0aW5nVGFncy5wdXNoKG9iaik7XG4gICAgICAgICAgICAgICAgdGhpcy5zdG9yZS51cGRhdGVTdGF0ZSh7dGFnczogZXhpc3RpbmdUYWdzfSwgJ1NJREVCQVJfVE9fVVBEQVRFJyk7XG4gICAgICAgICAgICB9ICAgICAgICAgICAgXG4gICAgICAgICAgICBjb25zdCBuZXdJZCA9ICF0YWcgPyAwIDogdGFnLmlkXG4gICAgICAgICAgICB0YWdzU2x1ZyA9IHRhZ3NTbHVnID8gKHRhZ3NTbHVnICsgJy0nICsgbmV3SWQpIDogdGFnc1NsdWcgKyBuZXdJZDtcbiAgICAgICAgICAgIGV4aXN0aW5nVGFncyA9IHRhZyA/ICh0YWcuc29ucyB8fCBbXSkgOiBbXVxuICAgICAgICAgICAgY3VyclJhbmsgKys7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZW5kZXIoKSB7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgIDxoMz5EYW5zIGxlIHZpZiBkdSBzdWpldDwvaDM+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInJvd1wiPlxuICAgICAgICAgICAgICAgICAgICA8cCBjbGFzcz1cInByb21wdFwiPkNsYXNzaWZpZXIgdm90cmUgYWN0aW9uID8gXG4gICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBzdHlsZT1cInBhZGRpbmctbGVmdDogMTBweFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJsbnIgbG5yLXF1ZXN0aW9uLWNpcmNsZSB0b29sdGlwIHRvb2x0aXAtcmlnaHRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRhdGEtdG9vbHRpcD17J1PDqXBhcmVyIHZvcyB0YWdzIHBhciBkZXMgXCIvXCIuJyArIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdTaSB2b3VzIGNyw6lleiB1biBub3V2ZWF1IHRhZywgaWwgYXBwYXJhaXRyYSAnICsgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJ2F1dG9tYXRpcXVlbWVudCBkYW5zIHZvcyBmaWx0cmVzLid9PlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb2wgczEyXCIgc3R5bGU9XCJtYXgtaGVpZ2h0OiA3MnB4XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICB7PFRhZ1NlbGVjdG9yIC8+fVxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwicm93XCI+XG4gICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzPVwicHJvbXB0XCI+Vm90cmUgYWN0aW9uIGVzdC1wdWJsaXF1ZSA/PC9wPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaW5wdXQtZmllbGQgY29sIHMxMlwiIHN0eWxlPVwibWFyZ2luLXRvcDogLTEwcHg7IG1hcmdpbi1ib3R0b206IDQwcHg7XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwic3dpdGNoXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGxhYmVsPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBOb25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cImNoZWNrYm94XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNoZWNrZWQ9eyh0aGlzLmNzdGF0ZS5pc1B1YmxpYyB8fCBmYWxzZSkgPyB0cnVlIDogdW5kZWZpbmVkfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25jaGFuZ2U9e2UgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlQ1N0YXRlKHsgaXNQdWJsaWM6ICEodGhpcy5jc3RhdGUuaXNQdWJsaWMgfHwgZmFsc2UpIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fSAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBjbGFzcz1cImxldmVyXCI+PC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBPdWlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJyb3dcIj5cbiAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3M9XCJwcm9tcHRcIj5Db21iaWVuIGRlIHRlbXBzIGR1cmVyYSB2b3RyZSBhY3Rpb24gKHLDqWN1cnJlbmNlIHF1b3RpZGllbm5lID8pOlxuICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gc3R5bGU9XCJwYWRkaW5nLWxlZnQ6IDEwcHhcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZW0+e2Ake3RoaXMuY3N0YXRlLmFjdGlvbkR1cmF0aW9uIHx8IDIxfSBqb3Vyc2B9PC9lbT5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICAgICAgICA8cCBjbGFzcz1cInJhbmdlLWZpZWxkXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cInJhbmdlXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZT17dGhpcy5jc3RhdGUuYWN0aW9uRHVyYXRpb24gfHwgMjF9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25jaGFuZ2U9e2UgPT4gdGhpcy51cGRhdGVDU3RhdGUoeyBhY3Rpb25EdXJhdGlvbjogZS50YXJnZXQudmFsdWUgfSwgJ1NURVAyX1JFRlJFU0gnKX0gbWluPVwiMFwiIG1heD1cIjMwXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwicm93XCI+XG4gICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzPVwicHJvbXB0XCI+IFF1YW5kIHNvdWhhaXRlei12b3VzIGNvbW1lbmNlciB2b3RyZSBhY3Rpb24gP1xuICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJkYXRlXCIgc3R5bGU9XCJkaXNwbGF5OiBpbmxpbmUgIWltcG9ydGFudFwiIGNsYXNzPVwiZmxhdHBpY2tlci1zdGFydGVyXCIgb25jaGFuZ2U9e2UgPT4gdGhpcy51cGRhdGVDU3RhdGUoeyBzdGFydERhdGU6IGUudGFyZ2V0LnZhbHVlIH0pfSAvPlxuICAgICAgICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInJvd1wiPiBcbiAgICAgICAgICAgICAgICAgICAgPGEgY2xhc3M9XCJsZWZ0IGhidG4gaGJ0bi1iaWdcIlxuICAgICAgICAgICAgICAgICAgICAgICAgb25jbGljaz17ZSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy51cGRhdGVDU3RhdGUoeyBjdXJyU3RlcDogMSB9LCAnQ0hBTkdFX1NUQVRFJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9fT5SZXRvdXIgZW4gYXJyacOocmU8L2E+XG4gICAgICAgICAgICAgICAgICAgIDxhIGNsYXNzPVwicmlnaHQgaGJ0biBoYnRuLWJpZ1wiXG4gICAgICAgICAgICAgICAgICAgICAgICBvbmNsaWNrPXtlID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBlLnByZXZlbnREZWZhdWx0KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy51cGRhdGVTaWRlYmFyVGFncygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHdpdGhWZWlsQW5kTWVzc2FnZXMoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgIHdpbmRvdy5mZXRjaEpzb25EYXRhKCcvdXNlcnMvYWN0aW9ucy9jcmVhdGUnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICAgICAgLi4udGhpcy5jc3RhdGUsIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICB0YWdTbHVnVG9DcmVhdGU6IHRoaXMuc3RhdGUudGFnU2x1Z1RvQ3JlYXRlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgICAgICB0YWdzVG9DcmVhdGU6IHRoaXMuc3RhdGUudGFnc1RvQ3JlYXRlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgIH0pLCB0cnVlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gKS50aGVuKGRhdGEgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICBjb25zb2xlLmxvZygnYWN0aW9uIHByb3Blcmx5IHNhdmVkICEnKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAkKCcjY3JlYXRlQWN0aW9uJykubW9kYWwoJ2Nsb3NlJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy99KVxuICAgICAgICAgICAgICAgICAgICAgICAgfX0+Q3LDqWVyIGwnYWN0aW9uPC9hPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICk7XG4gICAgfVxufVxuXG5cbmNsYXNzIFN0ZXAgZXh0ZW5kcyBTaW1wbGVEb20uQ29tcG9uZW50IHtcbiAgICByZW5kZXIoKSB7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICA8dWwgY2xhc3M9XCJzdGVwXCI+XG4gICAgICAgICAgICAgICAgPGxpIGNsYXNzPXtgc3RlcC1pdGVtICR7dGhpcy5wcm9wcy5jdXJyU3RlcCA9PT0gMSA/ICdhY3RpdmUnIDogdW5kZWZpbmVkfWB9PlxuICAgICAgICAgICAgICAgICAgICA8YSBocmVmPVwiI1wiIGNsYXNzPVwidG9vbHRpcCB0b29sdGlwLWJvdHRvbVwiIGRhdGEtdG9vbHRpcD1cIkRlc2NyaXB0aW9uIGRlIHZvdHJlIG5vdXZlbGxlIGFjdGlvblwiPjwvYT5cbiAgICAgICAgICAgICAgICA8L2xpPlxuICAgICAgICAgICAgICAgIDxsaSBjbGFzcz17YHN0ZXAtaXRlbSAke3RoaXMucHJvcHMuY3VyclN0ZXAgPT09IDIgPyAnYWN0aXZlJyA6IHVuZGVmaW5lZH1gfT5cbiAgICAgICAgICAgICAgICAgICAgPGEgaHJlZj1cIiNcIiBjbGFzcz1cInRvb2x0aXAgdG9vbHRpcC1ib3R0b21cIiBkYXRhLXRvb2x0aXA9XCJQYXJhbcOodHJlcyBkZSBsJ2FjdGlvblwiPjwvYT5cbiAgICAgICAgICAgICAgICA8L2xpPlxuICAgICAgICAgICAgPC91bD5cbiAgICAgICAgKTtcbiAgICB9XG59XG5cblxuZXhwb3J0IGNsYXNzIENyZWF0ZUFjdGlvbiBleHRlbmRzIFBhcmVudENvbXBvbmVudCB7XG4gICAgY29uc3RydWN0b3IocHJvcHMsIHN0b3JlKSB7XG4gICAgICAgIHN1cGVyKHByb3BzLCBzdG9yZSk7XG4gICAgfVxuXG4gICAgZXZlbnRzVG9TdWJzY3JpYmUoKSB7XG4gICAgICAgIHJldHVybiBbJ0NIQU5HRV9TVEFURSddO1xuICAgIH1cblxuICAgIHJlbmRlcigpIHtcbiAgICAgICAgbGV0IHN0ZXBEaXYgPSBudWxsO1xuICAgICAgICBzd2l0Y2ggKHRoaXMuY3N0YXRlLmN1cnJTdGVwKSB7XG4gICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICBjYXNlIHVuZGVmaW5lZDpcbiAgICAgICAgICAgICAgICBzdGVwRGl2ID0gPENyZWF0ZUFjdGlvblN0ZXAxIHBhcmVudD17dGhpc30gLz5cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgMjpcbiAgICAgICAgICAgICAgICBzdGVwRGl2ID0gPENyZWF0ZUFjdGlvblN0ZXAyIHBhcmVudD17dGhpc30gLz5cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgPGRpdiBpZD1cInRvcFwiIGNsYXNzPVwiYWN0aW9uXCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInJvd1wiPlxuICAgICAgICAgICAgICAgICAgICA8U3RlcCBjdXJyU3RlcD17dGhpcy5jc3RhdGUuY3VyclN0ZXAgfHwgMX0gLz5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwicm93XCI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb2wgczEyXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICB7c3RlcERpdn1cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKTtcbiAgICB9XG59XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHNyYy9hY3Rpb25zL3N0ZXAxLmpzIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFNQTtBQUNBO0FBREE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTs7Ozs7Ozs7O0FBVkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFLQTs7Ozs7Ozs7Ozs7QUFDQTtBQUNBO0FBQ0E7OztBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBSkE7QUFNQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQVRBO0FBRkE7QUFlQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFGQTtBQUdBO0FBSEE7QUFEQTtBQU1BO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBVkE7QUFhQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUZBO0FBS0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFKQTtBQURBO0FBTkE7QUFlQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFGQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBcEJBO0FBQUE7QUFEQTtBQURBO0FBN0NBO0FBd0VBOzs7Ozs7QUFHQTs7Ozs7Ozs7Ozs7QUFDQTtBQUNBO0FBQ0E7OztBQUVBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFKQTtBQURBO0FBREE7QUFEQTtBQWFBOzs7O0FBcEJBO0FBQ0E7QUF1QkE7Ozs7Ozs7Ozs7O0FBRUE7QUFDQTtBQUNBOzs7QUFFQTtBQUNBO0FBQ0E7OztBQUVBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFYQTtBQUFBO0FBQUE7QUFDQTtBQURBO0FBQUE7QUFBQTtBQUNBO0FBWUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSEE7QUFLQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBNUJBO0FBQ0E7QUFXQTtBQUFBO0FBaUJBO0FBN0JBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUE4QkE7OztBQUVBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUhBO0FBUUE7QUFBQTtBQUFBO0FBQ0E7QUFEQTtBQVRBO0FBYUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBUEE7QUFBQTtBQURBO0FBREE7QUFGQTtBQWlCQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFEQTtBQURBO0FBS0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUZBO0FBREE7QUFOQTtBQWFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBREE7QUFEQTtBQUtBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUhBO0FBQUE7QUFJQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFsQkE7QUFBQTtBQUxBO0FBbERBO0FBNkVBOzs7Ozs7QUFJQTs7Ozs7Ozs7Ozs7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBREE7QUFHQTtBQUFBO0FBQUE7QUFDQTtBQURBO0FBSkE7QUFTQTs7OztBQVpBO0FBQ0E7QUFlQTs7O0FBQ0E7QUFBQTtBQUNBO0FBREE7QUFFQTtBQUNBOzs7QUFDQTtBQUNBO0FBQ0E7OztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBUEE7QUFTQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQURBO0FBR0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFEQTtBQURBO0FBSkE7QUFXQTs7OztBIiwic291cmNlUm9vdCI6IiJ9");

/***/ }),

/***/ 68:
/* unknown exports provided */
/* all exports used */
/*!***************************************!*\
  !*** ./src/actions/currentActions.js ***!
  \***************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nvar _slicedToArray = function () { function sliceIterator(arr, i) { var _arr = []; var _n = true; var _d = false; var _e = undefined; try { for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) { _arr.push(_s.value); if (i && _arr.length === i) break; } } catch (err) { _d = true; _e = err; } finally { try { if (!_n && _i[\"return\"]) _i[\"return\"](); } finally { if (_d) throw _e; } } return _arr; } return function (arr, i) { if (Array.isArray(arr)) { return arr; } else if (Symbol.iterator in Object(arr)) { return sliceIterator(arr, i); } else { throw new TypeError(\"Invalid attempt to destructure non-iterable instance\"); } }; }();\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _simpledomComponent = __webpack_require__(/*! simpledom-component */ 2);\n\nvar SimpleDom = _interopRequireWildcard(_simpledomComponent);\n\nvar _veil = __webpack_require__(/*! ../components/veil/veil */ 4);\n\nvar _slider = __webpack_require__(/*! ../components/slider/slider */ 40);\n\nvar _commentaries = __webpack_require__(/*! ./commentaries */ 37);\n\nvar _participants = __webpack_require__(/*! ./participants */ 38);\n\nvar _sidebarActions = __webpack_require__(/*! ./sidebarActions */ 39);\n\nvar _step3 = __webpack_require__(/*! ./step1 */ 36);\n\nvar _animejs = __webpack_require__(/*! animejs */ 70);\n\nvar _animejs2 = _interopRequireDefault(_animejs);\n\n__webpack_require__(/*! ./currentActions.less */ 71);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n__webpack_require__(/*! ../home */ 3);\nvar moment = __webpack_require__(/*! moment */ 5);\n__webpack_require__(/*! moment/locale/fr */ 7);\nvar flatpickr = __webpack_require__(/*! flatpickr */ 35);\nvar francese = __webpack_require__(/*! flatpickr/dist/l10n/fr.js */ 74).fr;\nflatpickr.localize(francese);\n\n__webpack_require__(/*! ../css/popovers.less */ 27);\n__webpack_require__(/*! ../css/avatar.less */ 33);\n\nvar ActionCard = function (_SimpleDom$Component) {\n    _inherits(ActionCard, _SimpleDom$Component);\n\n    _createClass(ActionCard, [{\n        key: 'eventsToSubscribe',\n        value: function eventsToSubscribe() {\n            return ['ACTION_CARD_RELOAD'];\n        }\n    }]);\n\n    function ActionCard(props, store) {\n        _classCallCheck(this, ActionCard);\n\n        var _this = _possibleConstructorReturn(this, (ActionCard.__proto__ || Object.getPrototypeOf(ActionCard)).call(this, props, store));\n\n        _this.userAction = _this.props.userAction;\n        return _this;\n    }\n\n    _createClass(ActionCard, [{\n        key: 'getBadgeColour',\n        value: function getBadgeColour() {\n            var kind = this.userAction.action.kind;\n            if (kind === 'PERS') {\n                return 'yellow';\n            } else if (kind === 'ENV') {\n                return 'green';\n            }\n            return 'blue';\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            var _this2 = this;\n\n            var self = this;\n            return SimpleDom.el(\n                'div',\n                { 'class': 'card my-card', style: 'opacity: 0' },\n                SimpleDom.el(\n                    'div',\n                    { 'class': 'card-image waves-block waves-light' },\n                    SimpleDom.el(\n                        'a',\n                        { 'data-fancybox': true,\n                            'data-caption': this.userAction.action.title,\n                            href: this.userAction.action.image_url },\n                        SimpleDom.el('img', { 'class': 'lozad', src: this.userAction.action.image_url })\n                    ),\n                    SimpleDom.el(\n                        'span',\n                        { 'class': 'badge ' + this.getBadgeColour() + ' white-text my-card-indicator' },\n                        this.userAction.action.kind\n                    )\n                ),\n                SimpleDom.el(\n                    'div',\n                    { 'class': 'card-content', 'data-tooltip': this.userAction.action.title },\n                    SimpleDom.el(\n                        'span',\n                        { 'class': 'card-title activator grey-text text-darken-4',\n                            style: 'font-size: 1.4em;'\n                        },\n                        ActionCard.cropTitle(this.userAction.action.title, 20),\n                        SimpleDom.el(\n                            'i',\n                            { 'class': 'material-icons right' },\n                            'more_vert'\n                        )\n                    ),\n                    SimpleDom.el(\n                        'div',\n                        null,\n                        SimpleDom.el(\n                            'div',\n                            null,\n                            SimpleDom.el(\n                                'div',\n                                { 'class': 'chip', style: 'font-size: 10px' },\n                                SimpleDom.el(\n                                    'i',\n                                    { 'class': 'material-icons tiny' },\n                                    'alarm'\n                                ),\n                                ActionCard.formatHours(moment(this.userAction.start_date).fromNow(true))\n                            ),\n                            SimpleDom.el(\n                                'div',\n                                { 'class': 'chip', style: 'font-size: 10px' },\n                                SimpleDom.el(\n                                    'i',\n                                    { 'class': 'tiny material-icons' },\n                                    'alarm_off'\n                                ),\n                                ActionCard.formatHours(moment(this.userAction.start_date).from(moment(this.userAction.end_date), true))\n                            ),\n                            SimpleDom.el(\n                                'div',\n                                { 'class': 'chip', style: 'font-size: 10px' },\n                                SimpleDom.el(\n                                    'i',\n                                    { 'class': 'tiny material-icons' },\n                                    'check'\n                                ),\n                                this.userAction.nb_succeed || 0\n                            )\n                        )\n                    )\n                ),\n                SimpleDom.el(\n                    'div',\n                    { 'class': 'card-reveal' },\n                    SimpleDom.el(\n                        'span',\n                        { 'class': 'card-title button-collapse' },\n                        this.userAction.action.title,\n                        SimpleDom.el(\n                            'i',\n                            { 'class': 'material-icons right' },\n                            'close'\n                        )\n                    ),\n                    SimpleDom.el(\n                        'p',\n                        null,\n                        this.userAction.action.description\n                    ),\n                    SimpleDom.el(\n                        'p',\n                        { style: 'display: flex;align-items: center;justify-content: space-around;' },\n                        SimpleDom.el(\n                            'a',\n                            { 'class': 'btn-floating waves-effect waves-light cyan lighten-2 tooltip',\n                                'data-position': 'bottom',\n                                'data-tooltip': 'Voir les commentaires \\xE0 propros de cette action',\n                                onclick: function onclick(event) {\n                                    (0, _veil.withVeilAndMessages)(fetchJsonData('/users/actions/' + _this2.userAction.action.id + '/commentaries'), true).then(function (commentaries) {\n                                        return (0, _slider.createSlider)('Commentaires associ\\xE9es \\xE0 cette action', SimpleDom.el(_commentaries.CommentariesTab, {\n                                            action: _this2.userAction.action,\n                                            commentaries: commentaries || []\n                                        }), event);\n                                    });\n                                }\n                            },\n                            SimpleDom.el(\n                                'i',\n                                { 'class': 'material-icons' },\n                                'question_answer'\n                            ),\n                            'Hello'\n                        ),\n                        SimpleDom.el(\n                            'a',\n                            { 'class': 'btn-floating waves-effect waves-light cyan lighten-2',\n                                onclick: function onclick(event) {\n                                    (0, _veil.withVeilAndMessages)(fetchJsonData('/users/actions/' + _this2.userAction.action.id + '/participants'), true).then(function (_ref) {\n                                        var users = _ref.users,\n                                            total_pages = _ref.total_pages,\n                                            current_page = _ref.current_page;\n\n                                        (0, _slider.createSlider)('Participants', SimpleDom.el(_participants.ParticipantTab, {\n                                            users: users || [],\n                                            action: _this2.userAction.action,\n                                            total_pages: total_pages,\n                                            current_page: current_page\n                                        }), event);\n                                    });\n                                }\n                            },\n                            SimpleDom.el(\n                                'i',\n                                { 'class': 'material-icons' },\n                                'people'\n                            )\n                        ),\n                        SimpleDom.el(\n                            'a',\n                            { 'class': 'btn-floating waves-effect waves-light cyan lighten-2',\n                                onclick: function onclick(e) {\n                                    console.log('plus clicked');\n                                } },\n                            SimpleDom.el(\n                                'i',\n                                { 'class': 'material-icons' },\n                                'add'\n                            )\n                        )\n                    )\n                ),\n                SimpleDom.el(\n                    'div',\n                    { 'class': 'card-action' },\n                    SimpleDom.predicate(this.state.selectedDate === moment(new Date()).format('YYYY-MM-DD'), function () {\n                        return SimpleDom.el(\n                            'p',\n                            null,\n                            SimpleDom.predicate(moment(_this2.userAction.last_succeed).format('YYYY-MM-DD') === moment(new Date()).format('YYYY-MM-DD'), function () {\n                                return SimpleDom.el(\n                                    'p',\n                                    null,\n                                    'D\\xE9j\\xE0 fait !'\n                                );\n                            }, function () {\n                                return SimpleDom.el(\n                                    'a',\n                                    { 'class': 'purple-text lighten-2-text', href: '#', style: 'color: black, margin-right: 0',\n                                        onclick: function onclick(e) {\n                                            (0, _veil.withVeilAndMessages)(fetchJsonData('/users/actions/user-action/done/' + _this2.userAction.id), true).then(function (userAction) {\n                                                _this2.userAction = userAction;\n                                                _this2.store.updateState({}, 'ACTION_CARD_RELOAD');\n                                            });\n                                        }\n\n                                    },\n                                    'J\\'ai effectu\\xE9 cette action !'\n                                );\n                            }),\n                            SimpleDom.el(\n                                'a',\n                                { 'class': 'right grey-text', style: 'font-size: 8px' },\n                                'Abandon'\n                            )\n                        );\n                    })\n                )\n            );\n        }\n    }], [{\n        key: 'cropTitle',\n        value: function cropTitle(title) {\n            var maxLength = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 20;\n\n            if (title.length > maxLength) {\n                return title.slice(0, maxLength) + '...';\n            }\n            return title;\n        }\n    }, {\n        key: 'formatHours',\n        value: function formatHours(time) {\n            return time.replace('une', '1').replace('un', '1').replace('heure', 'h');\n        }\n    }]);\n\n    return ActionCard;\n}(SimpleDom.Component);\n\nvar ActionsList = function (_SimpleDom$Component2) {\n    _inherits(ActionsList, _SimpleDom$Component2);\n\n    _createClass(ActionsList, [{\n        key: 'eventsToSubscribe',\n        value: function eventsToSubscribe() {\n            return ['ACTIONS_LIST_TO_UPDATE'];\n        }\n    }]);\n\n    function ActionsList(props, store) {\n        _classCallCheck(this, ActionsList);\n\n        return _possibleConstructorReturn(this, (ActionsList.__proto__ || Object.getPrototypeOf(ActionsList)).call(this, props, store));\n    }\n\n    _createClass(ActionsList, [{\n        key: 'componentDidMount',\n        value: function componentDidMount() {\n            var allCallbacks = (0, _animejs2.default)({\n                targets: '.card',\n                opacity: 1,\n                delay: function delay(el, i) {\n                    return 100 + i * 100;\n                },\n                duration: function duration(el, i) {\n                    return 500 + i * 500;\n                }\n            });\n        }\n    }, {\n        key: 'partitionList',\n        value: function partitionList(input, spacing) {\n            var output = [];\n            for (var i = 0; i < input.length; i += spacing) {\n                output[output.length] = input.slice(i, i + spacing);\n            }\n            return output;\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            var nbActions = this.state.minisidebar ? 4 : 3;\n            var colSize = this.state.minisidebar ? 'm3' : 'm4';\n            return SimpleDom.el(\n                'div',\n                { id: 'actions-card' },\n                this.partitionList(this.state.selectedActions || [], nbActions).map(function (subactions) {\n                    return SimpleDom.el(\n                        'div',\n                        { 'class': 'row' },\n                        subactions.map(function (action) {\n                            return SimpleDom.el(\n                                'div',\n                                { 'class': 'col ' + colSize + ' s12' },\n                                SimpleDom.el(ActionCard, { userAction: action })\n                            );\n                        })\n                    );\n                })\n            );\n        }\n    }]);\n\n    return ActionsList;\n}(SimpleDom.Component);\n\nvar App = function (_SimpleDom$Component3) {\n    _inherits(App, _SimpleDom$Component3);\n\n    function App() {\n        _classCallCheck(this, App);\n\n        return _possibleConstructorReturn(this, (App.__proto__ || Object.getPrototypeOf(App)).apply(this, arguments));\n    }\n\n    _createClass(App, [{\n        key: 'render',\n        value: function render() {\n            return SimpleDom.el(\n                'div',\n                { id: 'top', 'class': 'action' },\n                SimpleDom.el(\n                    'div',\n                    { id: 'createAction', 'class': 'modal', style: 'display: none' },\n                    SimpleDom.el(\n                        'div',\n                        { 'class': 'modal-content' },\n                        SimpleDom.el(_step3.CreateAction, null)\n                    )\n                ),\n                SimpleDom.el(\n                    'div',\n                    { 'class': 'boxed-layout' },\n                    SimpleDom.el(_sidebarActions.SidebarAction, {\n                        tags: this.state.tags\n                    }),\n                    SimpleDom.el(\n                        'div',\n                        { 'class': 'row' },\n                        SimpleDom.el(\n                            'div',\n                            { id: 'actions', 'class': 'col s12' },\n                            SimpleDom.el(\n                                'h1',\n                                { 'class': 'main-title' },\n                                'Mes actions en cours (',\n                                this.state.selectedActions.length,\n                                ')',\n                                SimpleDom.el(\n                                    'a',\n                                    { href: '#createAction', 'class': 'right hbtn-action hbtn-main-color add-action',\n                                        onclick: function onclick(event) {\n                                            $('#createAction').modal({\n                                                startingTop: '2%'\n                                            });\n                                        }\n                                    },\n                                    SimpleDom.el(\n                                        'i',\n                                        { 'class': 'material-icons white-text' },\n                                        'add'\n                                    )\n                                )\n                            ),\n                            SimpleDom.el('hr', null),\n                            SimpleDom.el(\n                                'div',\n                                { 'class': 'row action-filter' },\n                                SimpleDom.el(\n                                    'div',\n                                    { 'class': 'action-date-picker input-field' },\n                                    SimpleDom.el('i', { 'class': 'lnr lnr-calendar-full prefix' }),\n                                    SimpleDom.el('input', { 'class': 'flatpicker', type: 'date' })\n                                ),\n                                SimpleDom.el(\n                                    'div',\n                                    { 'class': 'action-search input-field' },\n                                    SimpleDom.el('i', { 'class': 'lnr lnr-magnifier prefix' }),\n                                    SimpleDom.el('input', { type: 'search' })\n                                )\n                            ),\n                            SimpleDom.el(\n                                'div',\n                                { 'class': 'row' },\n                                SimpleDom.el(\n                                    'div',\n                                    { 'class': 'col s12' },\n                                    SimpleDom.predicate(!this.state.selectedActions.length, function () {\n                                        return SimpleDom.el(\n                                            'section',\n                                            { 'class': 'empty' },\n                                            SimpleDom.el(\n                                                'div',\n                                                { 'class': 'empty-icon' },\n                                                SimpleDom.el('i', { 'class': 'lnr lnr-user fa-3x' })\n                                            ),\n                                            SimpleDom.el(\n                                                'h4',\n                                                { 'class': 'empty-title' },\n                                                'Vous n\\'avez pas encore d\\'action en cours !'\n                                            ),\n                                            SimpleDom.el(\n                                                'p',\n                                                { 'class': 'empty-subtitle' },\n                                                'Rechercher une action qui vous correspond !'\n                                            )\n                                        );\n                                    }, function () {\n                                        return SimpleDom.el(ActionsList, null);\n                                    })\n                                )\n                            )\n                        )\n                    )\n                )\n            );\n        }\n    }]);\n\n    return App;\n}(SimpleDom.Component);\n\n$(document).ready(function () {\n\n    function fillUptag(tags) {\n        var val = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n        var _iteratorNormalCompletion = true;\n        var _didIteratorError = false;\n        var _iteratorError = undefined;\n\n        try {\n            for (var _iterator = tags[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n                var tag = _step.value;\n\n                var value = val ? val + '-' + tag.id : tag.id + '';\n                tag.tag_slug = value;\n\n                if (tag.sons && tag.sons.length) {\n                    fillUptag(tag.sons, value);\n                }\n            }\n        } catch (err) {\n            _didIteratorError = true;\n            _iteratorError = err;\n        } finally {\n            try {\n                if (!_iteratorNormalCompletion && _iterator.return) {\n                    _iterator.return();\n                }\n            } finally {\n                if (_didIteratorError) {\n                    throw _iteratorError;\n                }\n            }\n        }\n    }\n\n    function getTagsNumber(actions, result) {\n        function plusOne(key) {\n            if (!Object.keys(result).includes(key)) {\n                result[key] = 0;\n            }\n            result[key] += 1;\n        }\n\n        var _iteratorNormalCompletion2 = true;\n        var _didIteratorError2 = false;\n        var _iteratorError2 = undefined;\n\n        try {\n            for (var _iterator2 = actions[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n                var action = _step2.value;\n\n                var targetTag = action.tag;\n                if (!targetTag) {\n                    return;\n                }\n                plusOne(targetTag);\n\n                var val = targetTag.split('-');\n                val.pop();\n                while (val.length !== 0) {\n                    plusOne(val.join('-'));\n                    val.pop();\n                }\n            }\n        } catch (err) {\n            _didIteratorError2 = true;\n            _iteratorError2 = err;\n        } finally {\n            try {\n                if (!_iteratorNormalCompletion2 && _iterator2.return) {\n                    _iterator2.return();\n                }\n            } finally {\n                if (_didIteratorError2) {\n                    throw _iteratorError2;\n                }\n            }\n        }\n    }\n\n    var store = new SimpleDom.Store();\n\n    store.subscribe('ACTION_VIEW_TO_UPDATE', function (state, oldState) {\n        store.updateState({\n            selectedActions: store.state.actions.filter(function (action) {\n                return action.tag.startsWith(store.state.selectedTagSlug);\n            })\n        }, 'ACTIONS_LIST_TO_UPDATE');\n    });\n\n    (0, _veil.withVeilAndMessages)(Promise.all([fetchJsonData('/users/actions/get'), fetchJsonData('/users/tags/all')]), true).then(function (_ref2) {\n        var _ref3 = _slicedToArray(_ref2, 2),\n            actions = _ref3[0],\n            tags = _ref3[1];\n\n        fillUptag(tags);\n        var countByTagSlug = {};\n        getTagsNumber(actions, countByTagSlug);\n\n        store.updateState({\n            actions: actions,\n            countByTagSlug: countByTagSlug,\n            selectedActions: actions,\n            selectedDate: moment(new Date()).format('YYYY-MM-DD'),\n            tags: tags\n        });\n\n        SimpleDom.renderToDom('container', SimpleDom.el(App, null), store);\n\n        // jquery functions\n        flatpickr('.flatpicker', {\n            altInput: true,\n            defaultDate: new Date(),\n            onChange: function onChange(_, date, inst) {\n                console.log(date);\n                (0, _veil.withVeilAndMessages)(fetchJsonData('/users/actions/get?date=' + moment(date).format('YYYY-MM-DD')), true).then(function (actions) {\n                    var countByTagSlug = {};\n                    getTagsNumber(actions, countByTagSlug);\n\n                    //TODO not forget to update sidebar\n                    store.updateState({\n                        actions: actions,\n                        countByTagSlug: countByTagSlug,\n                        selectedActions: actions,\n                        selectedDate: date }, 'ACTIONS_LIST_TO_UPDATE');\n                });\n            }\n        });\n    });\n});//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNjguanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL2FjdGlvbnMvY3VycmVudEFjdGlvbnMuanM/NWZiMyJdLCJzb3VyY2VzQ29udGVudCI6WyJyZXF1aXJlKCcuLi9ob21lJylcbmNvbnN0IG1vbWVudCA9IHJlcXVpcmUoJ21vbWVudCcpXG5yZXF1aXJlKCdtb21lbnQvbG9jYWxlL2ZyJyk7XG5jb25zdCBmbGF0cGlja3IgPSByZXF1aXJlKFwiZmxhdHBpY2tyXCIpO1xuY29uc3QgZnJhbmNlc2UgPSByZXF1aXJlKFwiZmxhdHBpY2tyL2Rpc3QvbDEwbi9mci5qc1wiKS5mcjtcbmZsYXRwaWNrci5sb2NhbGl6ZShmcmFuY2VzZSk7XG5cbmltcG9ydCAqIGFzIFNpbXBsZURvbSBmcm9tICdzaW1wbGVkb20tY29tcG9uZW50JztcbmltcG9ydCB7IHdpdGhWZWlsQW5kTWVzc2FnZXMgfSBmcm9tICcuLi9jb21wb25lbnRzL3ZlaWwvdmVpbCc7XG5pbXBvcnQgeyBjcmVhdGVTbGlkZXIgfSBmcm9tICcuLi9jb21wb25lbnRzL3NsaWRlci9zbGlkZXInO1xuaW1wb3J0IHsgQ29tbWVudGFyaWVzVGFiIH0gZnJvbSAnLi9jb21tZW50YXJpZXMnO1xuaW1wb3J0IHsgUGFydGljaXBhbnRUYWIgfSBmcm9tICcuL3BhcnRpY2lwYW50cyc7XG5pbXBvcnQge1NpZGViYXJBY3Rpb259IGZyb20gJy4vc2lkZWJhckFjdGlvbnMnO1xuaW1wb3J0IHtDcmVhdGVBY3Rpb259IGZyb20gJy4vc3RlcDEnO1xuaW1wb3J0IGFuaW1lIGZyb20gJ2FuaW1lanMnXG5cblxucmVxdWlyZSgnLi4vY3NzL3BvcG92ZXJzLmxlc3MnKVxucmVxdWlyZSgnLi4vY3NzL2F2YXRhci5sZXNzJyk7XG5cbmltcG9ydCAnLi9jdXJyZW50QWN0aW9ucy5sZXNzJztcblxuY2xhc3MgQWN0aW9uQ2FyZCBleHRlbmRzIFNpbXBsZURvbS5Db21wb25lbnQge1xuXG4gICAgZXZlbnRzVG9TdWJzY3JpYmUoKSB7XG4gICAgICAgIHJldHVybiBbJ0FDVElPTl9DQVJEX1JFTE9BRCddO1xuICAgIH1cblxuICAgIGNvbnN0cnVjdG9yKHByb3BzLCBzdG9yZSkge1xuICAgICAgICBzdXBlcihwcm9wcywgc3RvcmUpO1xuICAgICAgICB0aGlzLnVzZXJBY3Rpb24gPSB0aGlzLnByb3BzLnVzZXJBY3Rpb247XG4gICAgfVxuXG4gICAgc3RhdGljIGNyb3BUaXRsZSh0aXRsZSwgbWF4TGVuZ3RoID0gMjApIHtcbiAgICAgICAgaWYgKHRpdGxlLmxlbmd0aCA+IG1heExlbmd0aCkge1xuICAgICAgICAgICAgcmV0dXJuIHRpdGxlLnNsaWNlKDAsIG1heExlbmd0aCkgKyAnLi4uJ1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aXRsZTtcbiAgICB9XG5cbiAgICBzdGF0aWMgZm9ybWF0SG91cnModGltZSkge1xuICAgICAgICByZXR1cm4gdGltZS5yZXBsYWNlKCd1bmUnLCAnMScpLnJlcGxhY2UoJ3VuJywgJzEnKS5yZXBsYWNlKCdoZXVyZScsICdoJyk7XG4gICAgfVxuXG4gICAgZ2V0QmFkZ2VDb2xvdXIoKSB7XG4gICAgICAgIGNvbnN0IGtpbmQgPSB0aGlzLnVzZXJBY3Rpb24uYWN0aW9uLmtpbmQ7XG4gICAgICAgIGlmIChraW5kID09PSAnUEVSUycpIHtcbiAgICAgICAgICAgIHJldHVybiAneWVsbG93JztcbiAgICAgICAgfSBlbHNlIGlmIChraW5kID09PSAnRU5WJykge1xuICAgICAgICAgICAgcmV0dXJuICdncmVlbic7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuICdibHVlJztcbiAgICB9XG5cbiAgICByZW5kZXIoKSB7XG4gICAgICAgIGxldCBzZWxmID0gdGhpcztcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJjYXJkIG15LWNhcmRcIiBzdHlsZT1cIm9wYWNpdHk6IDBcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY2FyZC1pbWFnZSB3YXZlcy1ibG9jayB3YXZlcy1saWdodFwiPlxuICAgICAgICAgICAgICAgICAgICA8YSBkYXRhLWZhbmN5Ym94IFxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS1jYXB0aW9uPXt0aGlzLnVzZXJBY3Rpb24uYWN0aW9uLnRpdGxlfSBcbiAgICAgICAgICAgICAgICAgICAgICAgIGhyZWY9e3RoaXMudXNlckFjdGlvbi5hY3Rpb24uaW1hZ2VfdXJsfT5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxpbWcgY2xhc3M9XCJsb3phZFwiIHNyYz17dGhpcy51c2VyQWN0aW9uLmFjdGlvbi5pbWFnZV91cmx9IC8+XG4gICAgICAgICAgICAgICAgICAgIDwvYT5cbiAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9e2BiYWRnZSAke3RoaXMuZ2V0QmFkZ2VDb2xvdXIoKX0gd2hpdGUtdGV4dCBteS1jYXJkLWluZGljYXRvcmB9PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHt0aGlzLnVzZXJBY3Rpb24uYWN0aW9uLmtpbmR9XG4gICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY2FyZC1jb250ZW50XCIgZGF0YS10b29sdGlwPXt0aGlzLnVzZXJBY3Rpb24uYWN0aW9uLnRpdGxlfT5cbiAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJjYXJkLXRpdGxlIGFjdGl2YXRvciBncmV5LXRleHQgdGV4dC1kYXJrZW4tNFwiXG4gICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT1cImZvbnQtc2l6ZTogMS40ZW07XCJcbiAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAge0FjdGlvbkNhcmQuY3JvcFRpdGxlKHRoaXMudXNlckFjdGlvbi5hY3Rpb24udGl0bGUsIDIwKX1cbiAgICAgICAgICAgICAgICAgICAgICAgIDxpIGNsYXNzPVwibWF0ZXJpYWwtaWNvbnMgcmlnaHRcIj5tb3JlX3ZlcnQ8L2k+XG4gICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNoaXBcIiBzdHlsZT1cImZvbnQtc2l6ZTogMTBweFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aSBjbGFzcz1cIm1hdGVyaWFsLWljb25zIHRpbnlcIj5hbGFybTwvaT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge0FjdGlvbkNhcmQuZm9ybWF0SG91cnMobW9tZW50KHRoaXMudXNlckFjdGlvbi5zdGFydF9kYXRlKS5mcm9tTm93KHRydWUpKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY2hpcFwiIHN0eWxlPVwiZm9udC1zaXplOiAxMHB4XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpIGNsYXNzPVwidGlueSBtYXRlcmlhbC1pY29uc1wiPmFsYXJtX29mZjwvaT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge0FjdGlvbkNhcmQuZm9ybWF0SG91cnMobW9tZW50KHRoaXMudXNlckFjdGlvbi5zdGFydF9kYXRlKS5mcm9tKG1vbWVudCh0aGlzLnVzZXJBY3Rpb24uZW5kX2RhdGUpLCB0cnVlKSl9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNoaXBcIiBzdHlsZT1cImZvbnQtc2l6ZTogMTBweFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aSBjbGFzcz1cInRpbnkgbWF0ZXJpYWwtaWNvbnNcIj5jaGVjazwvaT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge3RoaXMudXNlckFjdGlvbi5uYl9zdWNjZWVkIHx8IDB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNhcmQtcmV2ZWFsXCI+XG4gICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwiY2FyZC10aXRsZSBidXR0b24tY29sbGFwc2VcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIHt0aGlzLnVzZXJBY3Rpb24uYWN0aW9uLnRpdGxlfVxuICAgICAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3M9XCJtYXRlcmlhbC1pY29ucyByaWdodFwiPmNsb3NlPC9pPlxuICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgIDxwPnt0aGlzLnVzZXJBY3Rpb24uYWN0aW9uLmRlc2NyaXB0aW9ufTwvcD5cbiAgICAgICAgICAgICAgICAgICAgPHAgc3R5bGU9XCJkaXNwbGF5OiBmbGV4O2FsaWduLWl0ZW1zOiBjZW50ZXI7anVzdGlmeS1jb250ZW50OiBzcGFjZS1hcm91bmQ7XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8YSBjbGFzcz1cImJ0bi1mbG9hdGluZyB3YXZlcy1lZmZlY3Qgd2F2ZXMtbGlnaHQgY3lhbiBsaWdodGVuLTIgdG9vbHRpcFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS1wb3NpdGlvbj1cImJvdHRvbVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZGF0YS10b29sdGlwPVwiVm9pciBsZXMgY29tbWVudGFpcmVzIMOgIHByb3Byb3MgZGUgY2V0dGUgYWN0aW9uXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbmNsaWNrPXtldmVudCA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpdGhWZWlsQW5kTWVzc2FnZXMoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmZXRjaEpzb25EYXRhKGAvdXNlcnMvYWN0aW9ucy8ke3RoaXMudXNlckFjdGlvbi5hY3Rpb24uaWR9L2NvbW1lbnRhcmllc2ApLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJ1ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApLnRoZW4oY29tbWVudGFyaWVzID0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjcmVhdGVTbGlkZXIoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYENvbW1lbnRhaXJlcyBhc3NvY2nDqWVzIMOgIGNldHRlIGFjdGlvbmAsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPENvbW1lbnRhcmllc1RhYlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY3Rpb249e3RoaXMudXNlckFjdGlvbi5hY3Rpb259XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbW1lbnRhcmllcz17Y29tbWVudGFyaWVzIHx8IFtdfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8+LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpIGNsYXNzPVwibWF0ZXJpYWwtaWNvbnNcIj5xdWVzdGlvbl9hbnN3ZXI8L2k+SGVsbG9cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvYT5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxhIGNsYXNzPVwiYnRuLWZsb2F0aW5nIHdhdmVzLWVmZmVjdCB3YXZlcy1saWdodCBjeWFuIGxpZ2h0ZW4tMlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25jbGljaz17ZXZlbnQgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aXRoVmVpbEFuZE1lc3NhZ2VzKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmV0Y2hKc29uRGF0YShgL3VzZXJzL2FjdGlvbnMvJHt0aGlzLnVzZXJBY3Rpb24uYWN0aW9uLmlkfS9wYXJ0aWNpcGFudHNgKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRydWVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKS50aGVuKCh7IHVzZXJzLCB0b3RhbF9wYWdlcywgY3VycmVudF9wYWdlIH0pID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNyZWF0ZVNsaWRlcihcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBgUGFydGljaXBhbnRzYCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8UGFydGljaXBhbnRUYWJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdXNlcnM9e3VzZXJzIHx8IFtdfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhY3Rpb249e3RoaXMudXNlckFjdGlvbi5hY3Rpb259XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRvdGFsX3BhZ2VzPXt0b3RhbF9wYWdlc31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY3VycmVudF9wYWdlPXtjdXJyZW50X3BhZ2V9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLz4sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpIGNsYXNzPVwibWF0ZXJpYWwtaWNvbnNcIj5wZW9wbGU8L2k+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2E+XG5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxhIGNsYXNzPVwiYnRuLWZsb2F0aW5nIHdhdmVzLWVmZmVjdCB3YXZlcy1saWdodCBjeWFuIGxpZ2h0ZW4tMlwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25jbGljaz17ZSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdwbHVzIGNsaWNrZWQnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aSBjbGFzcz1cIm1hdGVyaWFsLWljb25zXCI+YWRkPC9pPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9hPlxuICAgICAgICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNhcmQtYWN0aW9uXCI+XG4gICAgICAgICAgICAgICAgICAgIHtTaW1wbGVEb20ucHJlZGljYXRlKHRoaXMuc3RhdGUuc2VsZWN0ZWREYXRlID09PSBtb21lbnQobmV3IERhdGUoKSkuZm9ybWF0KCdZWVlZLU1NLUREJyksIFxuICAgICAgICAgICAgICAgICAgICAgICAgKCkgPT4gPHA+IFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7U2ltcGxlRG9tLnByZWRpY2F0ZShcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1vbWVudCh0aGlzLnVzZXJBY3Rpb24ubGFzdF9zdWNjZWVkKS5mb3JtYXQoJ1lZWVktTU0tREQnKSA9PT0gbW9tZW50KG5ldyBEYXRlKCkpLmZvcm1hdCgnWVlZWS1NTS1ERCcpLCAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoKSA9PiA8cD5Ew6lqw6AgZmFpdCAhPC9wPixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICgpID0+IDxhIGNsYXNzPVwicHVycGxlLXRleHQgbGlnaHRlbi0yLXRleHRcIiBocmVmPVwiI1wiIHN0eWxlPVwiY29sb3I6IGJsYWNrLCBtYXJnaW4tcmlnaHQ6IDBcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbmNsaWNrPXsgZSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aXRoVmVpbEFuZE1lc3NhZ2VzKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZldGNoSnNvbkRhdGEoYC91c2Vycy9hY3Rpb25zL3VzZXItYWN0aW9uL2RvbmUvJHt0aGlzLnVzZXJBY3Rpb24uaWR9YCksXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJ1ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKS50aGVuKHVzZXJBY3Rpb24gPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudXNlckFjdGlvbiA9IHVzZXJBY3Rpb247XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdG9yZS51cGRhdGVTdGF0ZSh7fSwgJ0FDVElPTl9DQVJEX1JFTE9BRCcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgSidhaSBlZmZlY3R1w6kgY2V0dGUgYWN0aW9uICFcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9hPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8YSBjbGFzcz1cInJpZ2h0IGdyZXktdGV4dFwiIHN0eWxlPVwiZm9udC1zaXplOiA4cHhcIj5BYmFuZG9uPC9hPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICApO1xuICAgIH1cbn1cblxuXG5jbGFzcyBBY3Rpb25zTGlzdCBleHRlbmRzIFNpbXBsZURvbS5Db21wb25lbnQge1xuICAgIGV2ZW50c1RvU3Vic2NyaWJlKCkge1xuICAgICAgICByZXR1cm4gWydBQ1RJT05TX0xJU1RfVE9fVVBEQVRFJ107XG4gICAgfVxuXG4gICAgY29uc3RydWN0b3IocHJvcHMsIHN0b3JlKSB7XG4gICAgICAgIHN1cGVyKHByb3BzLCBzdG9yZSk7XG4gICAgfVxuXG4gICAgY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgICAgIGNvbnN0IGFsbENhbGxiYWNrcyA9IGFuaW1lKHtcbiAgICAgICAgICAgIHRhcmdldHM6ICcuY2FyZCcsXG4gICAgICAgICAgICBvcGFjaXR5OiAxLFxuICAgICAgICAgICAgZGVsYXk6IGZ1bmN0aW9uKGVsLCBpKSB7IHJldHVybiAxMDAgKyAoaSAqIDEwMCk7IH0sXG4gICAgICAgICAgICBkdXJhdGlvbjogZnVuY3Rpb24oZWwsIGkpIHsgcmV0dXJuIDUwMCArIChpICogNTAwKTsgfVxuICAgICAgICAgIH0pO1xuICAgIH1cblxuICAgIHBhcnRpdGlvbkxpc3QoaW5wdXQsIHNwYWNpbmcpIHtcbiAgICAgICAgbGV0IG91dHB1dCA9IFtdO1xuICAgICAgICBmb3IgKGxldCBpID0gMDsgaSA8IGlucHV0Lmxlbmd0aDsgaSArPSBzcGFjaW5nKSB7XG4gICAgICAgICAgICBvdXRwdXRbb3V0cHV0Lmxlbmd0aF0gPSBpbnB1dC5zbGljZShpLCBpICsgc3BhY2luZyk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG91dHB1dDtcbiAgICB9XG5cbiAgICByZW5kZXIoKSB7XG4gICAgICAgIGNvbnN0IG5iQWN0aW9ucyA9IHRoaXMuc3RhdGUubWluaXNpZGViYXIgPyA0IDogMztcbiAgICAgICAgY29uc3QgY29sU2l6ZSA9IHRoaXMuc3RhdGUubWluaXNpZGViYXIgPyAgJ20zJyA6ICdtNCc7XG4gICAgICAgIHJldHVybiA8ZGl2IGlkPVwiYWN0aW9ucy1jYXJkXCI+XG4gICAgICAgICAgICB7dGhpcy5wYXJ0aXRpb25MaXN0KHRoaXMuc3RhdGUuc2VsZWN0ZWRBY3Rpb25zIHx8IFtdLCBuYkFjdGlvbnMpLm1hcChzdWJhY3Rpb25zID0+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInJvd1wiPlxuICAgICAgICAgICAgICAgICAgICB7c3ViYWN0aW9ucy5tYXAoYWN0aW9uID0+XG4gICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPXtgY29sICR7Y29sU2l6ZX0gczEyYH0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPEFjdGlvbkNhcmQgdXNlckFjdGlvbj17YWN0aW9ufSAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICApfVxuICAgICAgICA8L2Rpdj5cbiAgICB9XG59XG5cbmNsYXNzIEFwcCBleHRlbmRzIFNpbXBsZURvbS5Db21wb25lbnQge1xuICAgIHJlbmRlcigpIHtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDxkaXYgaWQ9XCJ0b3BcIiBjbGFzcz1cImFjdGlvblwiPlxuICAgICAgICAgICAgICAgIDxkaXYgaWQ9XCJjcmVhdGVBY3Rpb25cIiBjbGFzcz1cIm1vZGFsXCIgc3R5bGU9XCJkaXNwbGF5OiBub25lXCI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJtb2RhbC1jb250ZW50XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICB7PENyZWF0ZUFjdGlvbiAvPn1cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImJveGVkLWxheW91dFwiPlxuICAgICAgICAgICAgICAgICAgICA8U2lkZWJhckFjdGlvbiBcbiAgICAgICAgICAgICAgICAgICAgICAgIHRhZ3M9e3RoaXMuc3RhdGUudGFnc31cbiAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInJvd1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBpZD1cImFjdGlvbnNcIiBjbGFzcz1cImNvbCBzMTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aDEgY2xhc3M9XCJtYWluLXRpdGxlXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE1lcyBhY3Rpb25zIGVuIGNvdXJzICh7dGhpcy5zdGF0ZS5zZWxlY3RlZEFjdGlvbnMubGVuZ3RofSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGEgaHJlZj1cIiNjcmVhdGVBY3Rpb25cIiBjbGFzcz1cInJpZ2h0IGhidG4tYWN0aW9uIGhidG4tbWFpbi1jb2xvciBhZGQtYWN0aW9uXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uY2xpY2s9e2V2ZW50ID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKCcjY3JlYXRlQWN0aW9uJykubW9kYWwoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGFydGluZ1RvcDogJzIlJ1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3M9XCJtYXRlcmlhbC1pY29ucyB3aGl0ZS10ZXh0XCI+YWRkPC9pPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2E+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9oMT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aHIvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJyb3cgYWN0aW9uLWZpbHRlclwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiYWN0aW9uLWRhdGUtcGlja2VyIGlucHV0LWZpZWxkXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aSBjbGFzcz1cImxuciBsbnItY2FsZW5kYXItZnVsbCBwcmVmaXhcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvaT5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCBjbGFzcz1cImZsYXRwaWNrZXJcIiB0eXBlPVwiZGF0ZVwiLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJhY3Rpb24tc2VhcmNoIGlucHV0LWZpZWxkXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8aSBjbGFzcz1cImxuciBsbnItbWFnbmlmaWVyIHByZWZpeFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9pPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJzZWFyY2hcIi8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJyb3dcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNvbCBzMTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtTaW1wbGVEb20ucHJlZGljYXRlKCF0aGlzLnN0YXRlLnNlbGVjdGVkQWN0aW9ucy5sZW5ndGgsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNlY3Rpb24gY2xhc3M9XCJlbXB0eVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJlbXB0eS1pY29uXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpIGNsYXNzPVwibG5yIGxuci11c2VyIGZhLTN4XCI+PC9pPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxoNCBjbGFzcz1cImVtcHR5LXRpdGxlXCI+Vm91cyBuJ2F2ZXogcGFzIGVuY29yZSBkJ2FjdGlvbiBlbiBjb3VycyAhPC9oND5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8cCBjbGFzcz1cImVtcHR5LXN1YnRpdGxlXCI+UmVjaGVyY2hlciB1bmUgYWN0aW9uIHF1aSB2b3VzIGNvcnJlc3BvbmQgITwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc2VjdGlvbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICgpID0+IDxBY3Rpb25zTGlzdCAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKVxuICAgIH1cbn1cblxuJChkb2N1bWVudCkucmVhZHkoZnVuY3Rpb24gKCkge1xuXG4gICAgZnVuY3Rpb24gZmlsbFVwdGFnKHRhZ3MsIHZhbD0nJykge1xuICAgICAgICBmb3IgKGxldCB0YWcgb2YgdGFncykge1xuICAgICAgICAgICAgbGV0IHZhbHVlID0gdmFsID8gdmFsICsgJy0nICsgdGFnLmlkIDogdGFnLmlkICsgJyc7XG4gICAgICAgICAgICB0YWcudGFnX3NsdWcgPSB2YWx1ZTsgXG5cbiAgICAgICAgICAgIGlmICh0YWcuc29ucyAmJiB0YWcuc29ucy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICBmaWxsVXB0YWcodGFnLnNvbnMsIHZhbHVlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIGZ1bmN0aW9uIGdldFRhZ3NOdW1iZXIoYWN0aW9ucywgcmVzdWx0KSB7XG4gICAgICAgIGZ1bmN0aW9uIHBsdXNPbmUoa2V5KSB7XG4gICAgICAgICAgICBpZiAoIU9iamVjdC5rZXlzKHJlc3VsdCkuaW5jbHVkZXMoa2V5KSkge1xuICAgICAgICAgICAgICAgIHJlc3VsdFtrZXldID0gMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJlc3VsdFtrZXldICs9IDE7XG4gICAgICAgIH1cblxuICAgICAgICBmb3IgKGxldCBhY3Rpb24gb2YgYWN0aW9ucykge1xuICAgICAgICAgICAgY29uc3QgdGFyZ2V0VGFnID0gYWN0aW9uLnRhZztcbiAgICAgICAgICAgIGlmICghdGFyZ2V0VGFnKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcGx1c09uZSh0YXJnZXRUYWcpO1xuXG4gICAgICAgICAgICBsZXQgdmFsID0gdGFyZ2V0VGFnLnNwbGl0KCctJyk7XG4gICAgICAgICAgICB2YWwucG9wKCk7XG4gICAgICAgICAgICB3aGlsZSAodmFsLmxlbmd0aCAhPT0gMCkge1xuICAgICAgICAgICAgICAgIHBsdXNPbmUodmFsLmpvaW4oJy0nKSk7XG4gICAgICAgICAgICAgICAgdmFsLnBvcCgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9ICAgXG4gICAgfVxuXG4gICAgY29uc3Qgc3RvcmUgPSBuZXcgU2ltcGxlRG9tLlN0b3JlKCk7XG5cbiAgICBzdG9yZS5zdWJzY3JpYmUoJ0FDVElPTl9WSUVXX1RPX1VQREFURScsIChzdGF0ZSwgb2xkU3RhdGUpID0+IHtcbiAgICAgICAgc3RvcmUudXBkYXRlU3RhdGUoe1xuICAgICAgICAgICAgc2VsZWN0ZWRBY3Rpb25zOiBzdG9yZS5zdGF0ZS5hY3Rpb25zLmZpbHRlcihhY3Rpb24gPT4gXG4gICAgICAgICAgICAgICAgYWN0aW9uLnRhZy5zdGFydHNXaXRoKHN0b3JlLnN0YXRlLnNlbGVjdGVkVGFnU2x1ZylcbiAgICAgICAgICAgIClcbiAgICAgICAgfSwgJ0FDVElPTlNfTElTVF9UT19VUERBVEUnKTtcbiAgICB9KVxuXG4gICAgd2l0aFZlaWxBbmRNZXNzYWdlcyhcbiAgICAgICAgUHJvbWlzZS5hbGwoW1xuICAgICAgICAgICAgZmV0Y2hKc29uRGF0YShgL3VzZXJzL2FjdGlvbnMvZ2V0YCksIFxuICAgICAgICAgICAgZmV0Y2hKc29uRGF0YSgnL3VzZXJzL3RhZ3MvYWxsJylcbiAgICAgICAgXSksXG4gICAgICAgIHRydWUpXG4gICAgICAgIC50aGVuKChbYWN0aW9ucywgdGFnc10pID0+IHtcblxuICAgICAgICAgICAgZmlsbFVwdGFnKHRhZ3MpO1xuICAgICAgICAgICAgY29uc3QgY291bnRCeVRhZ1NsdWcgPSB7fTtcbiAgICAgICAgICAgIGdldFRhZ3NOdW1iZXIoYWN0aW9ucywgY291bnRCeVRhZ1NsdWcpO1xuXG4gICAgICAgICAgICBzdG9yZS51cGRhdGVTdGF0ZSh7IFxuICAgICAgICAgICAgICAgIGFjdGlvbnMsXG4gICAgICAgICAgICAgICAgY291bnRCeVRhZ1NsdWcsXG4gICAgICAgICAgICAgICAgc2VsZWN0ZWRBY3Rpb25zOiBhY3Rpb25zLCBcbiAgICAgICAgICAgICAgICBzZWxlY3RlZERhdGU6IG1vbWVudChuZXcgRGF0ZSgpKS5mb3JtYXQoJ1lZWVktTU0tREQnKSxcbiAgICAgICAgICAgICAgICB0YWdzXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgU2ltcGxlRG9tLnJlbmRlclRvRG9tKCdjb250YWluZXInLCA8QXBwIC8+LCBzdG9yZSk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vIGpxdWVyeSBmdW5jdGlvbnNcbiAgICAgICAgICAgIGZsYXRwaWNrcignLmZsYXRwaWNrZXInLFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgYWx0SW5wdXQ6IHRydWUsXG4gICAgICAgICAgICAgICAgICAgIGRlZmF1bHREYXRlOiBuZXcgRGF0ZSgpLFxuICAgICAgICAgICAgICAgICAgICBvbkNoYW5nZTogKF8sIGRhdGUsIGluc3QpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGRhdGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgd2l0aFZlaWxBbmRNZXNzYWdlcyhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmZXRjaEpzb25EYXRhKGAvdXNlcnMvYWN0aW9ucy9nZXQ/ZGF0ZT0ke21vbWVudChkYXRlKS5mb3JtYXQoJ1lZWVktTU0tREQnKX1gKSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cnVlXG4gICAgICAgICAgICAgICAgICAgICAgICApLnRoZW4oYWN0aW9ucyA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY291bnRCeVRhZ1NsdWcgPSB7fTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBnZXRUYWdzTnVtYmVyKGFjdGlvbnMsIGNvdW50QnlUYWdTbHVnKTtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL1RPRE8gbm90IGZvcmdldCB0byB1cGRhdGUgc2lkZWJhclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0b3JlLnVwZGF0ZVN0YXRlKHsgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFjdGlvbnMsIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb3VudEJ5VGFnU2x1ZyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWRBY3Rpb25zOiBhY3Rpb25zLCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWREYXRlOiBkYXRlIH0sICdBQ1RJT05TX0xJU1RfVE9fVVBEQVRFJylcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICApO1xuICAgICAgICB9KTtcbn0pO1xuXG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHNyYy9hY3Rpb25zL2N1cnJlbnRBY3Rpb25zLmpzIl0sIm1hcHBpbmdzIjoiOzs7Ozs7QUFPQTtBQUNBO0FBREE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7OztBQUtBO0FBQ0E7Ozs7Ozs7Ozs7O0FBckJBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBV0E7QUFDQTtBQUNBO0FBR0E7Ozs7O0FBRUE7QUFDQTtBQUNBOzs7QUFFQTtBQUFBO0FBQ0E7QUFEQTtBQUNBO0FBQ0E7QUFGQTtBQUdBO0FBQ0E7OztBQVlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBRUE7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFIQTtBQUtBO0FBQUE7QUFBQTtBQUNBO0FBREE7QUFOQTtBQVVBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBREE7QUFHQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFKQTtBQU1BO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUZBO0FBSUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBRkE7QUFJQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFGQTtBQVRBO0FBREE7QUFQQTtBQXdCQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFGQTtBQUlBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBSUE7QUFDQTtBQUZBO0FBSEE7QUFTQTtBQWhCQTtBQWtCQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBbEJBO0FBQUE7QUFvQkE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUdBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFHQTtBQUNBO0FBQ0E7QUFDQTtBQUpBO0FBUUE7QUFDQTtBQWpCQTtBQW1CQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBbkJBO0FBc0JBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFKQTtBQTNDQTtBQU5BO0FBeURBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVZBO0FBQUE7QUFBQTtBQUFBO0FBZUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQW5CQTtBQUFBO0FBRkE7QUE1RkE7QUF1SEE7OztBQS9JQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFFQTtBQUNBO0FBQ0E7Ozs7QUFwQkE7QUFDQTtBQTZKQTs7Ozs7QUFDQTtBQUNBO0FBQ0E7OztBQUVBO0FBQUE7QUFDQTtBQURBO0FBRUE7QUFDQTs7O0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFKQTtBQU1BOzs7QUFFQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBREE7QUFEQTtBQURBO0FBREE7QUFEQTtBQVdBOzs7O0FBeENBO0FBQ0E7QUEwQ0E7Ozs7Ozs7Ozs7O0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQURBO0FBREE7QUFLQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBREE7QUFHQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBREE7QUFFQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFEQTtBQUdBO0FBTEE7QUFPQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBUEE7QUFGQTtBQVlBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFFQTtBQUhBO0FBS0E7QUFBQTtBQUFBO0FBQ0E7QUFFQTtBQUhBO0FBTkE7QUFZQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBREE7QUFHQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUxBO0FBUUE7QUFDQTtBQUFBO0FBYkE7QUFEQTtBQTFCQTtBQURBO0FBSkE7QUFOQTtBQTREQTs7OztBQS9EQTtBQUNBO0FBaUVBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFEQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBUkE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQVNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBUEE7QUFBQTtBQUFBO0FBQ0E7QUFEQTtBQVFBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBckJBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFzQkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBREE7QUFLQTtBQUNBO0FBQ0E7QUFNQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBTEE7QUFDQTtBQU9BO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUlBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFuQkE7QUFzQkE7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==");

/***/ })

})