webpackHotUpdate_name_(2,{

/***/ 36:
/* unknown exports provided */
/* all exports used */
/*!******************************!*\
  !*** ./src/actions/step1.js ***!
  \******************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.CreateAction = undefined;\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\n__webpack_require__(/*! ../home */ 3);\n\n__webpack_require__(/*! ../css/steps.less */ 56);\n\n__webpack_require__(/*! ../css/tooltips.less */ 12);\n\n__webpack_require__(/*! ../css/popovers.less */ 27);\n\nvar _simpledomComponent = __webpack_require__(/*! simpledom-component */ 2);\n\nvar SimpleDom = _interopRequireWildcard(_simpledomComponent);\n\nvar _veil = __webpack_require__(/*! ../components/veil/veil */ 4);\n\nvar _composedComponent = __webpack_require__(/*! ../composedComponent */ 8);\n\n__webpack_require__(/*! ./createAction.less */ 52);\n\nvar _utils = __webpack_require__(/*! ./utils */ 94);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar moment = __webpack_require__(/*! moment */ 5);\nvar flatpickr = __webpack_require__(/*! flatpickr */ 35);\n\n__webpack_require__(/*! moment/locale/fr */ 7);\n\nvar CreateActionStep1 = function (_ComposedComponent) {\n    _inherits(CreateActionStep1, _ComposedComponent);\n\n    function CreateActionStep1() {\n        _classCallCheck(this, CreateActionStep1);\n\n        return _possibleConstructorReturn(this, (CreateActionStep1.__proto__ || Object.getPrototypeOf(CreateActionStep1)).apply(this, arguments));\n    }\n\n    _createClass(CreateActionStep1, [{\n        key: 'eventsToSubscribe',\n        value: function eventsToSubscribe() {\n            return ['STEP1_REFRESH'];\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            var _this2 = this;\n\n            return SimpleDom.el(\n                'div',\n                null,\n                SimpleDom.el(\n                    'h3',\n                    null,\n                    'Premi\\xE8re \\xE9tape ',\n                    SimpleDom.el(\n                        'small',\n                        null,\n                        '\\xE7a ne sera pas long...'\n                    )\n                ),\n                SimpleDom.el(\n                    'div',\n                    { 'class': 'row' },\n                    SimpleDom.el(\n                        'p',\n                        { style: 'font-size: 1.2em;' },\n                        'Quel est le titre de votre nouvelle action ?'\n                    ),\n                    SimpleDom.el(\n                        'div',\n                        { 'class': 'input-field col s12', style: 'margin-top: -10px' },\n                        SimpleDom.el('input', {\n                            type: 'text',\n                            placeholder: 'le titre de votre nouvelle action !',\n                            value: this.cstate.actionTitle || '',\n                            onchange: function onchange(e) {\n                                return _this2.updateCState({ actionTitle: e.target.value });\n                            }\n                        }),\n                        SimpleDom.predicate(!!this.cstate.errorTitle, function () {\n                            return SimpleDom.el(\n                                'p',\n                                { 'class': 'red-text', style: 'margin-top: -10px' },\n                                _this2.cstate.errorTitle\n                            );\n                        })\n                    )\n                ),\n                SimpleDom.el(\n                    'div',\n                    { 'class': 'row' },\n                    SimpleDom.el(\n                        'p',\n                        { style: 'font-size: 1.2em;' },\n                        'Quelques mots pour d\\xE9crire votre action ou \\xE9v\\xE8nement'\n                    ),\n                    SimpleDom.el(\n                        'div',\n                        { 'class': 'input-field col s12', style: 'margin-top: -10px' },\n                        SimpleDom.el(\n                            'textarea',\n                            { 'class': 'materialize-textarea',\n                                onchange: function onchange(e) {\n                                    return _this2.updateCState({ actionDescription: e.target.value });\n                                },\n                                placecholder: !!this.cstate.actionDescription ? undefined : \"Entrez une description innovante...\"\n                            },\n                            this.cstate.actionDescription\n                        )\n                    ),\n                    SimpleDom.predicate(!!this.cstate.errorDescription, function () {\n                        return SimpleDom.el(\n                            'p',\n                            { 'class': 'red-text', style: 'margin-top: -15px' },\n                            _this2.cstate.errorDescription\n                        );\n                    })\n                ),\n                SimpleDom.el(\n                    'div',\n                    { 'class': 'row' },\n                    SimpleDom.el(\n                        'p',\n                        { style: 'font-size: 1.2em;' },\n                        'Choisissez une image !',\n                        SimpleDom.predicate(!!this.cstate.actionImageUrl, function () {\n                            return SimpleDom.el('img', { src: _this2.cstate.actionImageUrl, 'class': 'responsive-img' });\n                        })\n                    ),\n                    SimpleDom.el(\n                        'div',\n                        { 'class': 'input-field col s12', style: 'margin-top: -10px' },\n                        SimpleDom.el('input', {\n                            type: 'url',\n                            placeholder: 'l\\'image de votre action !',\n                            value: this.cstate.actionImageUrl || '',\n                            onchange: function onchange(e) {\n                                return _this2.updateCState({ actionImageUrl: e.target.value });\n                            }\n                        })\n                    )\n                ),\n                SimpleDom.el(\n                    'div',\n                    { 'class': 'row' },\n                    SimpleDom.el(\n                        'div',\n                        { 'class': 'popover popover-right' },\n                        SimpleDom.el(\n                            'a',\n                            { 'class': 'right hbtn hbtn-big',\n                                onclick: function onclick(e) {\n                                    var hasError = false;\n                                    var errors = {};\n                                    if (!!!_this2.cstate.actionTitle) {\n                                        hasError = true;\n                                        errors = _extends({}, errors, { errorTitle: 'Titre vide !' });\n                                    }\n                                    if (!!!_this2.cstate.actionDescription) {\n                                        hasError = true;\n                                        errors = _extends({}, errors, { errorDescription: 'Description vide !' });\n                                    }\n                                    if (hasError) {\n                                        _this2.updateCState({\n                                            errorDescription: errors.errorDescription,\n                                            errorTitle: errors.errorTitle\n                                        }, 'STEP1_REFRESH');\n                                    } else {\n                                        _this2.updateCState({ currStep: 2 }, 'CHANGE_STATE');\n                                    }\n                                } },\n                            'Passer \\xE0 la suite'\n                        )\n                    )\n                )\n            );\n        }\n    }]);\n\n    return CreateActionStep1;\n}(_composedComponent.ComposedComponent);\n\nvar TagSelector = function (_SimpleDom$Component) {\n    _inherits(TagSelector, _SimpleDom$Component);\n\n    function TagSelector() {\n        _classCallCheck(this, TagSelector);\n\n        return _possibleConstructorReturn(this, (TagSelector.__proto__ || Object.getPrototypeOf(TagSelector)).apply(this, arguments));\n    }\n\n    _createClass(TagSelector, [{\n        key: 'eventsToSubscribe',\n        value: function eventsToSubscribe() {\n            return ['TAG_SELECTOR_UPDATE'];\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            var _this4 = this;\n\n            return SimpleDom.el(\n                'div',\n                { 'class': 'row' },\n                SimpleDom.el(\n                    'div',\n                    { 'class': 'tag-selector' },\n                    SimpleDom.el(\n                        'div',\n                        { 'class': 'input-field tag-selector-input' },\n                        SimpleDom.el('input', { type: 'text',\n                            value: '#',\n                            onchange: function onchange(e) {\n                                _this4.store.updateState({ tagsToCreate: e.target.value });\n                            }\n                        })\n                    )\n                )\n            );\n        }\n    }]);\n\n    return TagSelector;\n}(SimpleDom.Component);\n\nvar CreateActionStep2 = function (_ComposedComponent2) {\n    _inherits(CreateActionStep2, _ComposedComponent2);\n\n    function CreateActionStep2() {\n        _classCallCheck(this, CreateActionStep2);\n\n        return _possibleConstructorReturn(this, (CreateActionStep2.__proto__ || Object.getPrototypeOf(CreateActionStep2)).apply(this, arguments));\n    }\n\n    _createClass(CreateActionStep2, [{\n        key: 'eventsToSubscribe',\n        value: function eventsToSubscribe() {\n            return ['STEP2_REFRESH'];\n        }\n    }, {\n        key: 'componentDidMount',\n        value: function componentDidMount() {\n            flatpickr('.flatpicker-starter');\n        }\n    }, {\n        key: 'updateSidebarTags',\n        value: function updateSidebarTags() {\n            //if (!this.state.tagSlugToCreate) {\n            //    return;\n            //}\n            var newTags = this.state.tagsToCreate.slice(1).split('/');\n            var existingTags = this.state.tags;\n            var currRank = 1;\n\n            var tagsSlug = '';\n            var tagsToCreate = [];\n\n            var _iteratorNormalCompletion = true;\n            var _didIteratorError = false;\n            var _iteratorError = undefined;\n\n            try {\n                var _loop = function _loop() {\n                    var newTag = _step.value;\n\n                    var tag = existingTags.find(function (existingTag) {\n                        return existingTag.name === newTag;\n                    });\n\n                    if (!tag) {\n                        var obj = {\n                            name: newTag,\n                            parent_id: +tagsSlug.split('-').slice(-1) || null,\n                            rank: currRank\n                        };\n                        tagsToCreate.push(obj);\n                        // existingTags.push(obj);\n\n                        // updated later to test ?\n                        //this.store.updateState({tags: existingTags}, 'SIDEBAR_TO_UPDATE');\n                    }\n                    var newId = !tag ? 0 : tag.id;\n                    tagsSlug = tagsSlug ? tagsSlug + '-' + newId : tagsSlug + newId;\n                    existingTags = tag ? tag.sons || [] : [];\n                    currRank++;\n                };\n\n                for (var _iterator = newTags[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n                    _loop();\n                }\n            } catch (err) {\n                _didIteratorError = true;\n                _iteratorError = err;\n            } finally {\n                try {\n                    if (!_iteratorNormalCompletion && _iterator.return) {\n                        _iterator.return();\n                    }\n                } finally {\n                    if (_didIteratorError) {\n                        throw _iteratorError;\n                    }\n                }\n            }\n\n            return { tagsSlug: tagsSlug, tagsToCreate: tagsToCreate, actualizedTags: existingTags };\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            var _this6 = this;\n\n            return SimpleDom.el(\n                'div',\n                null,\n                SimpleDom.el(\n                    'h3',\n                    null,\n                    'Dans le vif du sujet'\n                ),\n                SimpleDom.el(\n                    'div',\n                    { 'class': 'row' },\n                    SimpleDom.el(\n                        'p',\n                        { 'class': 'prompt' },\n                        'Classifier votre action ?',\n                        SimpleDom.el('span', { style: 'padding-left: 10px',\n                            'class': 'lnr lnr-question-circle tooltip tooltip-right',\n                            'data-tooltip': 'Séparer vos tags par des \"/\".' + 'Si vous créez un nouveau tag, il apparaitra ' + 'automatiquement dans vos filtres.' })\n                    ),\n                    SimpleDom.el(\n                        'div',\n                        { 'class': 'col s12', style: 'max-height: 72px' },\n                        SimpleDom.el(TagSelector, null)\n                    )\n                ),\n                SimpleDom.el(\n                    'div',\n                    { 'class': 'row' },\n                    SimpleDom.el(\n                        'p',\n                        { 'class': 'prompt' },\n                        'Votre action est-publique ?'\n                    ),\n                    SimpleDom.el(\n                        'div',\n                        { 'class': 'input-field col s12', style: 'margin-top: -10px; margin-bottom: 40px;' },\n                        SimpleDom.el(\n                            'div',\n                            { 'class': 'switch' },\n                            SimpleDom.el(\n                                'label',\n                                null,\n                                'Non',\n                                SimpleDom.el('input', { type: 'checkbox',\n                                    checked: this.cstate.isPublic || false ? true : undefined,\n                                    onchange: function onchange(e) {\n                                        _this6.updateCState({ isPublic: !(_this6.cstate.isPublic || false) });\n                                    } }),\n                                SimpleDom.el('span', { 'class': 'lever' }),\n                                'Oui'\n                            )\n                        )\n                    )\n                ),\n                SimpleDom.el(\n                    'div',\n                    { 'class': 'row' },\n                    SimpleDom.el(\n                        'p',\n                        { 'class': 'prompt' },\n                        'Combien de temps durera votre action (r\\xE9currence quotidienne ?):',\n                        SimpleDom.el(\n                            'span',\n                            { style: 'padding-left: 10px' },\n                            SimpleDom.el(\n                                'em',\n                                null,\n                                (this.cstate.actionDuration || 21) + ' jours'\n                            )\n                        )\n                    ),\n                    SimpleDom.el(\n                        'p',\n                        { 'class': 'range-field' },\n                        SimpleDom.el('input', { type: 'range',\n                            value: this.cstate.actionDuration || 21,\n                            onchange: function onchange(e) {\n                                return _this6.updateCState({ actionDuration: e.target.value }, 'STEP2_REFRESH');\n                            }, min: '0', max: '30'\n                        })\n                    )\n                ),\n                SimpleDom.el(\n                    'div',\n                    { 'class': 'row' },\n                    SimpleDom.el(\n                        'p',\n                        { 'class': 'prompt' },\n                        ' Quand souhaitez-vous commencer votre action ?',\n                        SimpleDom.el('input', { type: 'date', style: 'display: inline !important', 'class': 'flatpicker-starter', onchange: function onchange(e) {\n                                return _this6.updateCState({ startDate: e.target.value });\n                            } })\n                    )\n                ),\n                SimpleDom.el(\n                    'div',\n                    { 'class': 'row' },\n                    SimpleDom.el(\n                        'a',\n                        { 'class': 'left hbtn hbtn-big',\n                            onclick: function onclick(e) {\n                                _this6.updateCState({ currStep: 1 }, 'CHANGE_STATE');\n                            } },\n                        'Retour en arri\\xE8re'\n                    ),\n                    SimpleDom.el(\n                        'a',\n                        { 'class': 'right hbtn hbtn-big',\n                            onclick: function onclick(e) {\n                                e.preventDefault();\n                                $('#createAction').modal('close');\n                                var result = _this6.updateSidebarTags();\n                                (0, _veil.withVeilAndMessages)(window.fetchJsonData('/users/actions/create', {\n                                    method: 'POST',\n                                    body: JSON.stringify(_extends({}, _this6.cstate, {\n                                        tagsToCreate: result.tagsToCreate,\n                                        tagsSlug: result.tagsSlug\n                                    }))\n                                }), true).then(function (_ref) {\n                                    var tags = _ref.tags,\n                                        userAction = _ref.userAction;\n\n                                    (0, _utils.fillUptag)(tags);\n                                    var countByTagSlug = {};\n                                    (0, _utils.getTagsNumber)(_this6.state.actions, countByTagSlug);\n                                    //test if the user has participated into the action\n                                    // add maybe user action ?\n                                    var actions = _this6.state.actions.concat([userAction]);\n                                    _this6.store.updateState({ tags: tags, actions: actions }, 'SIDEBAR_TO_UPDATE');\n                                });\n                            } },\n                        'Cr\\xE9er l\\'action'\n                    )\n                )\n            );\n        }\n    }]);\n\n    return CreateActionStep2;\n}(_composedComponent.ComposedComponent);\n\nvar Step = function (_SimpleDom$Component2) {\n    _inherits(Step, _SimpleDom$Component2);\n\n    function Step() {\n        _classCallCheck(this, Step);\n\n        return _possibleConstructorReturn(this, (Step.__proto__ || Object.getPrototypeOf(Step)).apply(this, arguments));\n    }\n\n    _createClass(Step, [{\n        key: 'render',\n        value: function render() {\n            return SimpleDom.el(\n                'ul',\n                { 'class': 'step' },\n                SimpleDom.el(\n                    'li',\n                    { 'class': 'step-item ' + (this.props.currStep === 1 ? 'active' : undefined) },\n                    SimpleDom.el('a', { href: '#', 'class': 'tooltip tooltip-bottom', 'data-tooltip': 'Description de votre nouvelle action' })\n                ),\n                SimpleDom.el(\n                    'li',\n                    { 'class': 'step-item ' + (this.props.currStep === 2 ? 'active' : undefined) },\n                    SimpleDom.el('a', { href: '#', 'class': 'tooltip tooltip-bottom', 'data-tooltip': 'Param\\xE8tres de l\\'action' })\n                )\n            );\n        }\n    }]);\n\n    return Step;\n}(SimpleDom.Component);\n\nvar CreateAction = exports.CreateAction = function (_ParentComponent) {\n    _inherits(CreateAction, _ParentComponent);\n\n    function CreateAction(props, store) {\n        _classCallCheck(this, CreateAction);\n\n        return _possibleConstructorReturn(this, (CreateAction.__proto__ || Object.getPrototypeOf(CreateAction)).call(this, props, store));\n    }\n\n    _createClass(CreateAction, [{\n        key: 'eventsToSubscribe',\n        value: function eventsToSubscribe() {\n            return ['CHANGE_STATE'];\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            var stepDiv = null;\n            switch (this.cstate.currStep) {\n                case 1:\n                case undefined:\n                    stepDiv = SimpleDom.el(CreateActionStep1, { parent: this });\n                    break;\n                case 2:\n                    stepDiv = SimpleDom.el(CreateActionStep2, { parent: this });\n                    break;\n            }\n            return SimpleDom.el(\n                'div',\n                { id: 'top', 'class': 'action' },\n                SimpleDom.el(\n                    'div',\n                    { 'class': 'row' },\n                    SimpleDom.el(Step, { currStep: this.cstate.currStep || 1 })\n                ),\n                SimpleDom.el(\n                    'div',\n                    { 'class': 'row' },\n                    SimpleDom.el(\n                        'div',\n                        { 'class': 'col s12' },\n                        stepDiv\n                    )\n                )\n            );\n        }\n    }]);\n\n    return CreateAction;\n}(_composedComponent.ParentComponent);//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzYuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL2FjdGlvbnMvc3RlcDEuanM/OTJmZCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgJy4uL2hvbWUnO1xuY29uc3QgbW9tZW50ID0gcmVxdWlyZSgnbW9tZW50Jyk7XG5jb25zdCBmbGF0cGlja3IgPSByZXF1aXJlKCdmbGF0cGlja3InKTtcblxucmVxdWlyZSgnbW9tZW50L2xvY2FsZS9mcicpO1xuaW1wb3J0ICcuLi9jc3Mvc3RlcHMubGVzcyc7XG5pbXBvcnQgJy4uL2Nzcy90b29sdGlwcy5sZXNzJztcbmltcG9ydCAnLi4vY3NzL3BvcG92ZXJzLmxlc3MnO1xuaW1wb3J0ICogYXMgU2ltcGxlRG9tIGZyb20gJ3NpbXBsZWRvbS1jb21wb25lbnQnO1xuaW1wb3J0IHsgd2l0aFZlaWxBbmRNZXNzYWdlcyB9IGZyb20gJy4uL2NvbXBvbmVudHMvdmVpbC92ZWlsJztcbmltcG9ydCB7IENvbXBvc2VkQ29tcG9uZW50LCBQYXJlbnRDb21wb25lbnQgfSBmcm9tICcuLi9jb21wb3NlZENvbXBvbmVudCdcbmltcG9ydCAnLi9jcmVhdGVBY3Rpb24ubGVzcydcbmltcG9ydCB7ZmlsbFVwdGFnLCBnZXRUYWdzTnVtYmVyfSBmcm9tIFwiLi91dGlsc1wiO1xuXG5jbGFzcyBDcmVhdGVBY3Rpb25TdGVwMSBleHRlbmRzIENvbXBvc2VkQ29tcG9uZW50IHtcbiAgICBldmVudHNUb1N1YnNjcmliZSgpIHtcbiAgICAgICAgcmV0dXJuIFsnU1RFUDFfUkVGUkVTSCddO1xuICAgIH1cbiAgICByZW5kZXIoKSB7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgIDxoMz5QcmVtacOocmUgw6l0YXBlIDxzbWFsbD7Dp2EgbmUgc2VyYSBwYXMgbG9uZy4uLjwvc21hbGw+PC9oMz5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwicm93XCI+XG4gICAgICAgICAgICAgICAgICAgIDxwIHN0eWxlPVwiZm9udC1zaXplOiAxLjJlbTtcIj5RdWVsIGVzdCBsZSB0aXRyZSBkZSB2b3RyZSBub3V2ZWxsZSBhY3Rpb24gPzwvcD5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImlucHV0LWZpZWxkIGNvbCBzMTJcIiBzdHlsZT1cIm1hcmdpbi10b3A6IC0xMHB4XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlPVwidGV4dFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJsZSB0aXRyZSBkZSB2b3RyZSBub3V2ZWxsZSBhY3Rpb24gIVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU9e3RoaXMuY3N0YXRlLmFjdGlvblRpdGxlIHx8ICcnfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uY2hhbmdlPXtlID0+IHRoaXMudXBkYXRlQ1N0YXRlKHsgYWN0aW9uVGl0bGU6IGUudGFyZ2V0LnZhbHVlIH0pfVxuICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgIHtTaW1wbGVEb20ucHJlZGljYXRlKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICEhdGhpcy5jc3RhdGUuZXJyb3JUaXRsZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAoKSA9PiA8cCBjbGFzcz1cInJlZC10ZXh0XCIgc3R5bGU9XCJtYXJnaW4tdG9wOiAtMTBweFwiPnt0aGlzLmNzdGF0ZS5lcnJvclRpdGxlfTwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJyb3dcIj5cbiAgICAgICAgICAgICAgICAgICAgPHAgc3R5bGU9XCJmb250LXNpemU6IDEuMmVtO1wiPlF1ZWxxdWVzIG1vdHMgcG91ciBkw6ljcmlyZSB2b3RyZSBhY3Rpb24gb3Ugw6l2w6huZW1lbnQ8L3A+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJpbnB1dC1maWVsZCBjb2wgczEyXCIgc3R5bGU9XCJtYXJnaW4tdG9wOiAtMTBweFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPHRleHRhcmVhIGNsYXNzPVwibWF0ZXJpYWxpemUtdGV4dGFyZWFcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uY2hhbmdlPXtlID0+IHRoaXMudXBkYXRlQ1N0YXRlKHsgYWN0aW9uRGVzY3JpcHRpb246IGUudGFyZ2V0LnZhbHVlIH0pfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlY2hvbGRlcj17ISF0aGlzLmNzdGF0ZS5hY3Rpb25EZXNjcmlwdGlvbiA/IHVuZGVmaW5lZCA6IFwiRW50cmV6IHVuZSBkZXNjcmlwdGlvbiBpbm5vdmFudGUuLi5cIn1cbiAgICAgICAgICAgICAgICAgICAgICAgID57dGhpcy5jc3RhdGUuYWN0aW9uRGVzY3JpcHRpb259PC90ZXh0YXJlYT5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIHtTaW1wbGVEb20ucHJlZGljYXRlKFxuICAgICAgICAgICAgICAgICAgICAgICAgISF0aGlzLmNzdGF0ZS5lcnJvckRlc2NyaXB0aW9uLFxuICAgICAgICAgICAgICAgICAgICAgICAgKCkgPT4gPHAgY2xhc3M9XCJyZWQtdGV4dFwiIHN0eWxlPVwibWFyZ2luLXRvcDogLTE1cHhcIj57dGhpcy5jc3RhdGUuZXJyb3JEZXNjcmlwdGlvbn08L3A+XG4gICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInJvd1wiPlxuICAgICAgICAgICAgICAgICAgICA8cCBzdHlsZT1cImZvbnQtc2l6ZTogMS4yZW07XCI+Q2hvaXNpc3NleiB1bmUgaW1hZ2UgIVxuICAgICAgICAgICAgICAgICAgICAgICAge1NpbXBsZURvbS5wcmVkaWNhdGUoISF0aGlzLmNzdGF0ZS5hY3Rpb25JbWFnZVVybCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAoKSA9PiA8aW1nIHNyYz17dGhpcy5jc3RhdGUuYWN0aW9uSW1hZ2VVcmx9IGNsYXNzPVwicmVzcG9uc2l2ZS1pbWdcIiAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiaW5wdXQtZmllbGQgY29sIHMxMlwiIHN0eWxlPVwibWFyZ2luLXRvcDogLTEwcHhcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHR5cGU9XCJ1cmxcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwibCdpbWFnZSBkZSB2b3RyZSBhY3Rpb24gIVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU9e3RoaXMuY3N0YXRlLmFjdGlvbkltYWdlVXJsIHx8ICcnfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uY2hhbmdlPXtlID0+IHRoaXMudXBkYXRlQ1N0YXRlKHsgYWN0aW9uSW1hZ2VVcmw6IGUudGFyZ2V0LnZhbHVlIH0pfVxuICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInJvd1wiPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwicG9wb3ZlciBwb3BvdmVyLXJpZ2h0XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8YSBjbGFzcz1cInJpZ2h0IGhidG4gaGJ0bi1iaWdcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uY2xpY2s9e2UgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgaGFzRXJyb3IgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGVycm9ycyA9IHt9O1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoISAhIXRoaXMuY3N0YXRlLmFjdGlvblRpdGxlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoYXNFcnJvciA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlcnJvcnMgPSB7IC4uLmVycm9ycywgZXJyb3JUaXRsZTogJ1RpdHJlIHZpZGUgIScgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoISAhIXRoaXMuY3N0YXRlLmFjdGlvbkRlc2NyaXB0aW9uKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBoYXNFcnJvciA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlcnJvcnMgPSB7IC4uLmVycm9ycywgZXJyb3JEZXNjcmlwdGlvbjogJ0Rlc2NyaXB0aW9uIHZpZGUgIScgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoaGFzRXJyb3IpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlQ1N0YXRlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlcnJvckRlc2NyaXB0aW9uOiBlcnJvcnMuZXJyb3JEZXNjcmlwdGlvbixcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBlcnJvclRpdGxlOiBlcnJvcnMuZXJyb3JUaXRsZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSwgJ1NURVAxX1JFRlJFU0gnKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy51cGRhdGVDU3RhdGUoeyBjdXJyU3RlcDogMiB9LCAnQ0hBTkdFX1NUQVRFJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fT5QYXNzZXIgw6AgbGEgc3VpdGU8L2E+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICk7XG4gICAgfVxufVxuXG5jbGFzcyBUYWdTZWxlY3RvciBleHRlbmRzIFNpbXBsZURvbS5Db21wb25lbnQge1xuICAgIGV2ZW50c1RvU3Vic2NyaWJlKCkge1xuICAgICAgICByZXR1cm4gWydUQUdfU0VMRUNUT1JfVVBEQVRFJ107XG4gICAgfVxuXG4gICAgcmVuZGVyKCkge1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cInJvd1wiPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJ0YWctc2VsZWN0b3JcIj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImlucHV0LWZpZWxkIHRhZy1zZWxlY3Rvci1pbnB1dFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJ0ZXh0XCIgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU9XCIjXCIgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgb25jaGFuZ2U9e2UgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN0b3JlLnVwZGF0ZVN0YXRlKHt0YWdzVG9DcmVhdGU6IGUudGFyZ2V0LnZhbHVlfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKTtcbiAgICB9XG59XG5cblxuY2xhc3MgQ3JlYXRlQWN0aW9uU3RlcDIgZXh0ZW5kcyBDb21wb3NlZENvbXBvbmVudCB7XG5cbiAgICBldmVudHNUb1N1YnNjcmliZSgpIHtcbiAgICAgICAgcmV0dXJuIFsnU1RFUDJfUkVGUkVTSCddO1xuICAgIH1cblxuICAgIGNvbXBvbmVudERpZE1vdW50KCkgeyAgICAgICBcbiAgICAgICAgZmxhdHBpY2tyKCcuZmxhdHBpY2tlci1zdGFydGVyJyk7XG4gICAgfVxuXG4gICAgdXBkYXRlU2lkZWJhclRhZ3MoKSB7XG4gICAgICAgIC8vaWYgKCF0aGlzLnN0YXRlLnRhZ1NsdWdUb0NyZWF0ZSkge1xuICAgICAgICAvLyAgICByZXR1cm47XG4gICAgICAgIC8vfVxuICAgICAgICBjb25zdCBuZXdUYWdzID0gdGhpcy5zdGF0ZS50YWdzVG9DcmVhdGUuc2xpY2UoMSkuc3BsaXQoJy8nKTtcbiAgICAgICAgbGV0IGV4aXN0aW5nVGFncyA9IHRoaXMuc3RhdGUudGFncztcbiAgICAgICAgbGV0IGN1cnJSYW5rID0gMTtcblxuICAgICAgICBsZXQgdGFnc1NsdWcgPSAnJztcbiAgICAgICAgY29uc3QgdGFnc1RvQ3JlYXRlID0gW107XG4gICAgICAgIFxuICAgICAgICBmb3IgKGNvbnN0IG5ld1RhZyBvZiBuZXdUYWdzKSB7XG4gICAgICAgICAgICBjb25zdCB0YWcgPSBleGlzdGluZ1RhZ3MuZmluZChleGlzdGluZ1RhZyA9PiBleGlzdGluZ1RhZy5uYW1lID09PSBuZXdUYWcpO1xuXG4gICAgICAgICAgICBpZiAoISB0YWcpIHtcbiAgICAgICAgICAgICAgICBjb25zdCBvYmogPSB7XG4gICAgICAgICAgICAgICAgICAgIG5hbWU6IG5ld1RhZyxcbiAgICAgICAgICAgICAgICAgICAgcGFyZW50X2lkOiArKHRhZ3NTbHVnLnNwbGl0KCctJykuc2xpY2UoLTEpKSB8fCBudWxsLFxuICAgICAgICAgICAgICAgICAgICByYW5rOiBjdXJyUmFuayxcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIHRhZ3NUb0NyZWF0ZS5wdXNoKG9iaik7XG4gICAgICAgICAgICAgICAgLy8gZXhpc3RpbmdUYWdzLnB1c2gob2JqKTtcblxuICAgICAgICAgICAgICAgIC8vIHVwZGF0ZWQgbGF0ZXIgdG8gdGVzdCA/XG4gICAgICAgICAgICAgICAgLy90aGlzLnN0b3JlLnVwZGF0ZVN0YXRlKHt0YWdzOiBleGlzdGluZ1RhZ3N9LCAnU0lERUJBUl9UT19VUERBVEUnKTtcbiAgICAgICAgICAgIH0gICAgICAgICAgICBcbiAgICAgICAgICAgIGNvbnN0IG5ld0lkID0gIXRhZyA/IDAgOiB0YWcuaWQ7XG4gICAgICAgICAgICB0YWdzU2x1ZyA9IHRhZ3NTbHVnID8gKHRhZ3NTbHVnICsgJy0nICsgbmV3SWQpIDogdGFnc1NsdWcgKyBuZXdJZDtcbiAgICAgICAgICAgIGV4aXN0aW5nVGFncyA9IHRhZyA/ICh0YWcuc29ucyB8fCBbXSkgOiBbXTtcbiAgICAgICAgICAgIGN1cnJSYW5rICsrO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB7dGFnc1NsdWcsIHRhZ3NUb0NyZWF0ZSwgYWN0dWFsaXplZFRhZ3M6IGV4aXN0aW5nVGFnc307XG4gICAgfVxuXG4gICAgcmVuZGVyKCkge1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICA8aDM+RGFucyBsZSB2aWYgZHUgc3VqZXQ8L2gzPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJyb3dcIj5cbiAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3M9XCJwcm9tcHRcIj5DbGFzc2lmaWVyIHZvdHJlIGFjdGlvbiA/IFxuICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gc3R5bGU9XCJwYWRkaW5nLWxlZnQ6IDEwcHhcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPVwibG5yIGxuci1xdWVzdGlvbi1jaXJjbGUgdG9vbHRpcCB0b29sdGlwLXJpZ2h0XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhLXRvb2x0aXA9eydTw6lwYXJlciB2b3MgdGFncyBwYXIgZGVzIFwiL1wiLicgKyBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnU2kgdm91cyBjcsOpZXogdW4gbm91dmVhdSB0YWcsIGlsIGFwcGFyYWl0cmEgJyArIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdhdXRvbWF0aXF1ZW1lbnQgZGFucyB2b3MgZmlsdHJlcy4nfT5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29sIHMxMlwiIHN0eWxlPVwibWF4LWhlaWdodDogNzJweFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgezxUYWdTZWxlY3RvciAvPn1cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInJvd1wiPlxuICAgICAgICAgICAgICAgICAgICA8cCBjbGFzcz1cInByb21wdFwiPlZvdHJlIGFjdGlvbiBlc3QtcHVibGlxdWUgPzwvcD5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImlucHV0LWZpZWxkIGNvbCBzMTJcIiBzdHlsZT1cIm1hcmdpbi10b3A6IC0xMHB4OyBtYXJnaW4tYm90dG9tOiA0MHB4O1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInN3aXRjaFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxsYWJlbD5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgTm9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPGlucHV0IHR5cGU9XCJjaGVja2JveFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjaGVja2VkPXsodGhpcy5jc3RhdGUuaXNQdWJsaWMgfHwgZmFsc2UpID8gdHJ1ZSA6IHVuZGVmaW5lZH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uY2hhbmdlPXtlID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZUNTdGF0ZSh7IGlzUHVibGljOiAhKHRoaXMuY3N0YXRlLmlzUHVibGljIHx8IGZhbHNlKSB9KVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX0gLz5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJsZXZlclwiIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE91aVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvbGFiZWw+XG4gICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInJvd1wiPlxuICAgICAgICAgICAgICAgICAgICA8cCBjbGFzcz1cInByb21wdFwiPkNvbWJpZW4gZGUgdGVtcHMgZHVyZXJhIHZvdHJlIGFjdGlvbiAocsOpY3VycmVuY2UgcXVvdGlkaWVubmUgPyk6XG4gICAgICAgICAgICAgICAgICAgICAgICA8c3BhbiBzdHlsZT1cInBhZGRpbmctbGVmdDogMTBweFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxlbT57YCR7dGhpcy5jc3RhdGUuYWN0aW9uRHVyYXRpb24gfHwgMjF9IGpvdXJzYH08L2VtPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICA8L3A+XG4gICAgICAgICAgICAgICAgICAgIDxwIGNsYXNzPVwicmFuZ2UtZmllbGRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwicmFuZ2VcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPXt0aGlzLmNzdGF0ZS5hY3Rpb25EdXJhdGlvbiB8fCAyMX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbmNoYW5nZT17ZSA9PiB0aGlzLnVwZGF0ZUNTdGF0ZSh7IGFjdGlvbkR1cmF0aW9uOiBlLnRhcmdldC52YWx1ZSB9LCAnU1RFUDJfUkVGUkVTSCcpfSBtaW49XCIwXCIgbWF4PVwiMzBcIlxuICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJyb3dcIj5cbiAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3M9XCJwcm9tcHRcIj4gUXVhbmQgc291aGFpdGV6LXZvdXMgY29tbWVuY2VyIHZvdHJlIGFjdGlvbiA/XG4gICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cImRhdGVcIiBzdHlsZT1cImRpc3BsYXk6IGlubGluZSAhaW1wb3J0YW50XCIgY2xhc3M9XCJmbGF0cGlja2VyLXN0YXJ0ZXJcIiBvbmNoYW5nZT17ZSA9PiB0aGlzLnVwZGF0ZUNTdGF0ZSh7IHN0YXJ0RGF0ZTogZS50YXJnZXQudmFsdWUgfSl9IC8+XG4gICAgICAgICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwicm93XCI+IFxuICAgICAgICAgICAgICAgICAgICA8YSBjbGFzcz1cImxlZnQgaGJ0biBoYnRuLWJpZ1wiXG4gICAgICAgICAgICAgICAgICAgICAgICBvbmNsaWNrPXtlID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZUNTdGF0ZSh7IGN1cnJTdGVwOiAxIH0sICdDSEFOR0VfU1RBVEUnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH19PlJldG91ciBlbiBhcnJpw6hyZTwvYT5cbiAgICAgICAgICAgICAgICAgICAgPGEgY2xhc3M9XCJyaWdodCBoYnRuIGhidG4tYmlnXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uY2xpY2s9e2UgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKCcjY3JlYXRlQWN0aW9uJykubW9kYWwoJ2Nsb3NlJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gdGhpcy51cGRhdGVTaWRlYmFyVGFncygpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpdGhWZWlsQW5kTWVzc2FnZXMoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5mZXRjaEpzb25EYXRhKCcvdXNlcnMvYWN0aW9ucy9jcmVhdGUnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLi4udGhpcy5jc3RhdGUsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRhZ3NUb0NyZWF0ZTogcmVzdWx0LnRhZ3NUb0NyZWF0ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFnc1NsdWc6IHJlc3VsdC50YWdzU2x1Z1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSwgdHJ1ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICkudGhlbigoe3RhZ3MsIHVzZXJBY3Rpb259KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbGxVcHRhZyh0YWdzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY291bnRCeVRhZ1NsdWcgPSB7fTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2V0VGFnc051bWJlcih0aGlzLnN0YXRlLmFjdGlvbnMsIGNvdW50QnlUYWdTbHVnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy90ZXN0IGlmIHRoZSB1c2VyIGhhcyBwYXJ0aWNpcGF0ZWQgaW50byB0aGUgYWN0aW9uXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGFkZCBtYXliZSB1c2VyIGFjdGlvbiA/XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGFjdGlvbnMgPSB0aGlzLnN0YXRlLmFjdGlvbnMuY29uY2F0KFt1c2VyQWN0aW9uXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RvcmUudXBkYXRlU3RhdGUoe3RhZ3MsIGFjdGlvbnN9LCAnU0lERUJBUl9UT19VUERBVEUnKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICB9fT5DcsOpZXIgbCdhY3Rpb248L2E+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKTtcbiAgICB9XG59XG5cblxuY2xhc3MgU3RlcCBleHRlbmRzIFNpbXBsZURvbS5Db21wb25lbnQge1xuICAgIHJlbmRlcigpIHtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDx1bCBjbGFzcz1cInN0ZXBcIj5cbiAgICAgICAgICAgICAgICA8bGkgY2xhc3M9e2BzdGVwLWl0ZW0gJHt0aGlzLnByb3BzLmN1cnJTdGVwID09PSAxID8gJ2FjdGl2ZScgOiB1bmRlZmluZWR9YH0+XG4gICAgICAgICAgICAgICAgICAgIDxhIGhyZWY9XCIjXCIgY2xhc3M9XCJ0b29sdGlwIHRvb2x0aXAtYm90dG9tXCIgZGF0YS10b29sdGlwPVwiRGVzY3JpcHRpb24gZGUgdm90cmUgbm91dmVsbGUgYWN0aW9uXCIvPlxuICAgICAgICAgICAgICAgIDwvbGk+XG4gICAgICAgICAgICAgICAgPGxpIGNsYXNzPXtgc3RlcC1pdGVtICR7dGhpcy5wcm9wcy5jdXJyU3RlcCA9PT0gMiA/ICdhY3RpdmUnIDogdW5kZWZpbmVkfWB9PlxuICAgICAgICAgICAgICAgICAgICA8YSBocmVmPVwiI1wiIGNsYXNzPVwidG9vbHRpcCB0b29sdGlwLWJvdHRvbVwiIGRhdGEtdG9vbHRpcD1cIlBhcmFtw6h0cmVzIGRlIGwnYWN0aW9uXCIvPlxuICAgICAgICAgICAgICAgIDwvbGk+XG4gICAgICAgICAgICA8L3VsPlxuICAgICAgICApO1xuICAgIH1cbn1cblxuXG5leHBvcnQgY2xhc3MgQ3JlYXRlQWN0aW9uIGV4dGVuZHMgUGFyZW50Q29tcG9uZW50IHtcbiAgICBjb25zdHJ1Y3Rvcihwcm9wcywgc3RvcmUpIHtcbiAgICAgICAgc3VwZXIocHJvcHMsIHN0b3JlKTtcbiAgICB9XG5cbiAgICBldmVudHNUb1N1YnNjcmliZSgpIHtcbiAgICAgICAgcmV0dXJuIFsnQ0hBTkdFX1NUQVRFJ107XG4gICAgfVxuXG4gICAgcmVuZGVyKCkge1xuICAgICAgICBsZXQgc3RlcERpdiA9IG51bGw7XG4gICAgICAgIHN3aXRjaCAodGhpcy5jc3RhdGUuY3VyclN0ZXApIHtcbiAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgIGNhc2UgdW5kZWZpbmVkOlxuICAgICAgICAgICAgICAgIHN0ZXBEaXYgPSA8Q3JlYXRlQWN0aW9uU3RlcDEgcGFyZW50PXt0aGlzfSAvPlxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgIHN0ZXBEaXYgPSA8Q3JlYXRlQWN0aW9uU3RlcDIgcGFyZW50PXt0aGlzfSAvPlxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICA8ZGl2IGlkPVwidG9wXCIgY2xhc3M9XCJhY3Rpb25cIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwicm93XCI+XG4gICAgICAgICAgICAgICAgICAgIDxTdGVwIGN1cnJTdGVwPXt0aGlzLmNzdGF0ZS5jdXJyU3RlcCB8fCAxfSAvPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJyb3dcIj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNvbCBzMTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIHtzdGVwRGl2fVxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICApO1xuICAgIH1cbn1cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gc3JjL2FjdGlvbnMvc3RlcDEuanMiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUlBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFEQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTs7Ozs7Ozs7O0FBWkE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVNBOzs7Ozs7Ozs7OztBQUNBO0FBQ0E7QUFDQTs7O0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFKQTtBQU1BO0FBRUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBVEE7QUFGQTtBQWVBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUZBO0FBR0E7QUFIQTtBQURBO0FBTUE7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFWQTtBQWFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUFBO0FBRkE7QUFLQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUpBO0FBREE7QUFOQTtBQWVBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUZBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFwQkE7QUFBQTtBQURBO0FBREE7QUE3Q0E7QUF3RUE7Ozs7OztBQUdBOzs7Ozs7Ozs7OztBQUNBO0FBQ0E7QUFDQTs7O0FBRUE7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUpBO0FBREE7QUFEQTtBQURBO0FBYUE7Ozs7QUFwQkE7QUFDQTtBQXVCQTs7Ozs7Ozs7Ozs7QUFFQTtBQUNBO0FBQ0E7OztBQUVBO0FBQ0E7QUFDQTs7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVZBO0FBQUE7QUFBQTtBQUNBO0FBREE7QUFBQTtBQUFBO0FBQ0E7QUFXQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFIQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBN0JBO0FBQ0E7QUFVQTtBQUFBO0FBbUJBO0FBOUJBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQThCQTtBQUNBOzs7QUFFQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFIQTtBQVFBO0FBQUE7QUFBQTtBQUNBO0FBREE7QUFUQTtBQWFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVBBO0FBQUE7QUFEQTtBQURBO0FBRkE7QUFpQkE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBREE7QUFEQTtBQUtBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFGQTtBQURBO0FBTkE7QUFhQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQURBO0FBREE7QUFLQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFIQTtBQUFBO0FBSUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFFQTtBQUNBO0FBSEE7QUFGQTtBQVFBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQXpCQTtBQUFBO0FBTEE7QUFsREE7QUFvRkE7Ozs7OztBQUlBOzs7Ozs7Ozs7OztBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFEQTtBQUdBO0FBQUE7QUFBQTtBQUNBO0FBREE7QUFKQTtBQVNBOzs7O0FBWkE7QUFDQTtBQWVBOzs7QUFDQTtBQUFBO0FBQ0E7QUFEQTtBQUVBO0FBQ0E7OztBQUNBO0FBQ0E7QUFDQTs7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFQQTtBQVNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBREE7QUFHQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQURBO0FBREE7QUFKQTtBQVdBOzs7O0EiLCJzb3VyY2VSb290IjoiIn0=");

/***/ })

})