webpackHotUpdate_name_(0,{

/***/ 39:
/* unknown exports provided */
/* all exports used */
/*!******************************!*\
  !*** ./src/actions/step1.js ***!
  \******************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.CreateAction = undefined;\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\n__webpack_require__(/*! ../home */ 3);\n\n__webpack_require__(/*! ../css/steps.less */ 59);\n\n__webpack_require__(/*! ../css/tooltips.less */ 12);\n\n__webpack_require__(/*! ../css/popovers.less */ 11);\n\nvar _simpledomComponent = __webpack_require__(/*! simpledom-component */ 2);\n\nvar SimpleDom = _interopRequireWildcard(_simpledomComponent);\n\nvar _veil = __webpack_require__(/*! ../components/veil/veil */ 4);\n\nvar _composedComponent = __webpack_require__(/*! ../composedComponent */ 8);\n\n__webpack_require__(/*! ./createAction.less */ 55);\n\nvar _utils = __webpack_require__(/*! ./utils */ 30);\n\nvar _tagSelector = __webpack_require__(/*! ./tagSelector */ 38);\n\n__webpack_require__(/*! ./tagSelector.less */ 34);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\nvar flatpickr = __webpack_require__(/*! flatpickr */ 36);\n\nvar CreateActionStep1 = function (_ComposedComponent) {\n    _inherits(CreateActionStep1, _ComposedComponent);\n\n    function CreateActionStep1() {\n        _classCallCheck(this, CreateActionStep1);\n\n        return _possibleConstructorReturn(this, (CreateActionStep1.__proto__ || Object.getPrototypeOf(CreateActionStep1)).apply(this, arguments));\n    }\n\n    _createClass(CreateActionStep1, [{\n        key: 'eventsToSubscribe',\n        value: function eventsToSubscribe() {\n            return ['STEP1_REFRESH'];\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            var _this2 = this;\n\n            return SimpleDom.el(\n                'div',\n                null,\n                SimpleDom.el(\n                    'h3',\n                    null,\n                    SimpleDom.el(\n                        'span',\n                        { style: 'margin-right: 10px;' },\n                        '1.'\n                    ),\n                    'Premi\\xE8re \\xE9tape (1/2)'\n                ),\n                SimpleDom.el(\n                    'div',\n                    { 'class': 'row' },\n                    SimpleDom.el(\n                        'p',\n                        { style: 'font-size: 1.2em;' },\n                        'Quel est le titre de votre nouvelle action ?'\n                    ),\n                    SimpleDom.el(\n                        'div',\n                        { 'class': 'input-field col s12', style: 'margin-top: -10px' },\n                        SimpleDom.el('input', {\n                            type: 'text',\n                            placeholder: 'le titre de votre nouvelle action !',\n                            value: this.cstate.actionTitle || '',\n                            onchange: function onchange(e) {\n                                return _this2.updateCState({ actionTitle: e.target.value });\n                            }\n                        }),\n                        SimpleDom.predicate(!!this.cstate.errorTitle, function () {\n                            return SimpleDom.el(\n                                'p',\n                                { 'class': 'red-text', style: 'margin-top: -10px' },\n                                _this2.cstate.errorTitle\n                            );\n                        })\n                    )\n                ),\n                SimpleDom.el(\n                    'div',\n                    { 'class': 'row' },\n                    SimpleDom.el(\n                        'p',\n                        { style: 'font-size: 1.2em;' },\n                        'Quelques mots pour d\\xE9crire votre action ou \\xE9v\\xE8nement'\n                    ),\n                    SimpleDom.el(\n                        'div',\n                        { 'class': 'input-field col s12', style: 'margin-top: -10px' },\n                        SimpleDom.el(\n                            'textarea',\n                            { 'class': 'materialize-textarea',\n                                onchange: function onchange(e) {\n                                    return _this2.updateCState({ actionDescription: e.target.value });\n                                },\n                                placecholder: !!this.cstate.actionDescription ? undefined : \"Entrez une description innovante...\"\n                            },\n                            this.cstate.actionDescription\n                        )\n                    ),\n                    SimpleDom.predicate(!!this.cstate.errorDescription, function () {\n                        return SimpleDom.el(\n                            'p',\n                            { 'class': 'red-text', style: 'margin-top: -15px' },\n                            _this2.cstate.errorDescription\n                        );\n                    })\n                ),\n                SimpleDom.el(\n                    'div',\n                    { 'class': 'row' },\n                    SimpleDom.el(\n                        'p',\n                        { style: 'font-size: 1.2em;' },\n                        'Choisissez une image !',\n                        SimpleDom.predicate(!!this.cstate.actionImageUrl, function () {\n                            return SimpleDom.el('img', { src: _this2.cstate.actionImageUrl, 'class': 'responsive-img' });\n                        }),\n                        'Chercher ',\n                        SimpleDom.el(\n                            'a',\n                            { style: 'color: #62dbb1 !important', href: 'https://unsplash.com', target: '_blank' },\n                            ' ici'\n                        ),\n                        ' ou ',\n                        SimpleDom.el(\n                            'a',\n                            { style: 'color: #62dbb1 !important', href: 'https://pexels.com', target: '_blank' },\n                            ' ici'\n                        )\n                    ),\n                    SimpleDom.el(\n                        'div',\n                        { 'class': 'input-field col s12', style: 'margin-top: -10px' },\n                        SimpleDom.el('input', {\n                            type: 'url',\n                            placeholder: 'l\\'adresse de l\\'image !',\n                            value: this.cstate.actionImageUrl || '',\n                            onchange: function onchange(e) {\n                                return _this2.updateCState({ actionImageUrl: e.target.value });\n                            }\n                        })\n                    )\n                ),\n                SimpleDom.el(\n                    'div',\n                    { 'class': 'row' },\n                    SimpleDom.el(\n                        'div',\n                        { 'class': 'popover popover-right' },\n                        SimpleDom.el(\n                            'a',\n                            { 'class': 'right hbtn hbtn-big',\n                                onclick: function onclick(e) {\n                                    var hasError = false;\n                                    var errors = {};\n                                    if (!!!_this2.cstate.actionTitle) {\n                                        hasError = true;\n                                        errors = _extends({}, errors, { errorTitle: 'Titre vide !' });\n                                    }\n                                    if (!!!_this2.cstate.actionDescription) {\n                                        hasError = true;\n                                        errors = _extends({}, errors, { errorDescription: 'Description vide !' });\n                                    }\n                                    if (hasError) {\n                                        _this2.updateCState({\n                                            errorDescription: errors.errorDescription,\n                                            errorTitle: errors.errorTitle\n                                        }, 'STEP1_REFRESH');\n                                    } else {\n                                        _this2.updateCState({ currStep: 2 }, 'CHANGE_STATE');\n                                    }\n                                } },\n                            'Passer \\xE0 la suite'\n                        )\n                    )\n                )\n            );\n        }\n    }]);\n\n    return CreateActionStep1;\n}(_composedComponent.ComposedComponent);\n\nvar CreateActionStep2 = function (_ComposedComponent2) {\n    _inherits(CreateActionStep2, _ComposedComponent2);\n\n    function CreateActionStep2() {\n        _classCallCheck(this, CreateActionStep2);\n\n        return _possibleConstructorReturn(this, (CreateActionStep2.__proto__ || Object.getPrototypeOf(CreateActionStep2)).apply(this, arguments));\n    }\n\n    _createClass(CreateActionStep2, [{\n        key: 'eventsToSubscribe',\n        value: function eventsToSubscribe() {\n            return ['STEP2_REFRESH'];\n        }\n    }, {\n        key: 'componentDidMount',\n        value: function componentDidMount() {\n            flatpickr('.flatpicker-starter');\n        }\n\n        /*\n        updateSidebarTags() {\n            //if (!this.state.tagSlugToCreate) {\n            //    return;\n            //}\n            const newTags = this.state.tagsToCreate.slice(1).split('/');\n            let existingTags = this.state.tags;\n            let currRank = 1;\n             let tagsSlug = '';\n            const tagsToCreate = [];\n            \n            for (const newTag of newTags) {\n                const tag = existingTags.find(existingTag => existingTag.name === newTag);\n                 if (! tag) {\n                    const obj = {\n                        name: newTag,\n                        parent_id: +(tagsSlug.split('-').slice(-1)) || null,\n                        rank: currRank,\n                    };\n                    tagsToCreate.push(obj);\n                    // existingTags.push(obj);\n                     // updated later to test ?\n                    //this.store.updateState({tags: existingTags}, 'SIDEBAR_TO_UPDATE');\n                }            \n                const newId = !tag ? 0 : tag.id;\n                tagsSlug = tagsSlug ? (tagsSlug + '-' + newId) : tagsSlug + newId;\n                existingTags = tag ? (tag.sons || []) : [];\n                currRank ++;\n            }\n            return {tagsSlug, tagsToCreate, actualizedTags: existingTags};\n        }*/\n\n    }, {\n        key: 'render',\n        value: function render() {\n            var _this4 = this;\n\n            return SimpleDom.el(\n                'div',\n                null,\n                SimpleDom.el(\n                    'h3',\n                    null,\n                    '2.Suite et fin (2/2)'\n                ),\n                SimpleDom.el(\n                    'div',\n                    { 'class': 'row' },\n                    SimpleDom.el(\n                        'p',\n                        { 'class': 'prompt' },\n                        'Classifier votre action ?',\n                        SimpleDom.el('span', { style: 'padding-left: 10px',\n                            'class': 'lnr lnr-question-circle tooltip tooltip-right',\n                            'data-tooltip': 'Séparer vos tags par des \"/\".' + 'Si vous créez un nouveau tag, il apparaitra ' + 'automatiquement dans vos filtres.' })\n                    ),\n                    SimpleDom.el(\n                        'div',\n                        { 'class': 'col s12', style: 'max-height: 72px' },\n                        SimpleDom.el(_tagSelector.TagSelector, null)\n                    )\n                ),\n                SimpleDom.el(\n                    'div',\n                    { 'class': 'row' },\n                    SimpleDom.el(\n                        'p',\n                        { 'class': 'prompt' },\n                        'Votre action est-publique ?'\n                    ),\n                    SimpleDom.el(\n                        'div',\n                        { 'class': 'input-field col s12', style: 'margin-top: -10px; margin-bottom: 40px;' },\n                        SimpleDom.el(\n                            'div',\n                            { 'class': 'switch' },\n                            SimpleDom.el(\n                                'label',\n                                null,\n                                'Non',\n                                SimpleDom.el('input', { type: 'checkbox',\n                                    checked: this.cstate.isPublic || false ? true : undefined,\n                                    onchange: function onchange(e) {\n                                        _this4.updateCState({ isPublic: !(_this4.cstate.isPublic || false) });\n                                    } }),\n                                SimpleDom.el('span', { 'class': 'lever' }),\n                                'Oui'\n                            )\n                        )\n                    )\n                ),\n                SimpleDom.el(\n                    'div',\n                    { 'class': 'row' },\n                    SimpleDom.el(\n                        'p',\n                        { 'class': 'prompt' },\n                        'Combien de temps durera votre action (r\\xE9currence quotidienne ?):',\n                        SimpleDom.el(\n                            'span',\n                            { style: 'padding-left: 10px' },\n                            SimpleDom.el(\n                                'em',\n                                null,\n                                (this.cstate.actionDuration || 21) + ' jours'\n                            )\n                        )\n                    ),\n                    SimpleDom.el(\n                        'p',\n                        { 'class': 'range-field' },\n                        SimpleDom.el('input', { style: 'border-bottom:none !important;', type: 'range',\n                            value: this.cstate.actionDuration || 21,\n                            onchange: function onchange(e) {\n                                return _this4.updateCState({ actionDuration: e.target.value }, 'STEP2_REFRESH');\n                            }, min: '0', max: '30'\n                        })\n                    )\n                ),\n                SimpleDom.el(\n                    'div',\n                    { 'class': 'row' },\n                    SimpleDom.el(\n                        'p',\n                        { 'class': 'prompt' },\n                        ' Quand souhaitez-vous commencer votre action ?',\n                        SimpleDom.el('input', { type: 'date', style: 'display: inline !important', 'class': 'flatpicker-starter', onchange: function onchange(e) {\n                                return _this4.updateCState({ startDate: e.target.value });\n                            } })\n                    )\n                ),\n                SimpleDom.el(\n                    'div',\n                    { 'class': 'row' },\n                    SimpleDom.el(\n                        'a',\n                        { 'class': 'left hbtn hbtn-big',\n                            onclick: function onclick(e) {\n                                _this4.updateCState({ currStep: 1 }, 'CHANGE_STATE');\n                            } },\n                        'Retour en arri\\xE8re'\n                    ),\n                    SimpleDom.el(\n                        'a',\n                        { 'class': 'right hbtn hbtn-big',\n                            onclick: function onclick(e) {\n                                e.preventDefault();\n                                $('#createAction').modal('close');\n                                var result = (0, _utils.updateSidebarTags)(_this4.state);\n                                (0, _veil.withVeilAndMessages)(window.fetchJsonData('/users/actions/create', {\n                                    method: 'POST',\n                                    body: JSON.stringify(_extends({}, _this4.cstate, {\n                                        tagsToCreate: result.tagsToCreate,\n                                        tagsSlug: result.tagsSlug\n                                    }))\n                                }), true).then(function (_ref) {\n                                    var tags = _ref.tags,\n                                        user_action = _ref.user_action;\n\n                                    (0, _utils.fillUptag)(tags);\n                                    var countByTagSlug = {};\n                                    _this4.state.actions.push(user_action);\n                                    //test if the user has participated into the action\n                                    // add maybe user action ?\n                                    _this4.state.selectedActions.push(user_action);\n\n                                    (0, _utils.getTagsNumber)(_this4.state.actions, countByTagSlug);\n\n                                    _this4.store.updateState({\n                                        tags: tags,\n                                        countByTagSlug: countByTagSlug\n                                    }, 'SIDEBAR_TO_UPDATE', 'ACTIONS_LIST_TO_UPDATE', 'TITLE_TO_REFRESH');\n                                });\n                            } },\n                        'Cr\\xE9er l\\'action'\n                    )\n                )\n            );\n        }\n    }]);\n\n    return CreateActionStep2;\n}(_composedComponent.ComposedComponent);\n\nvar Step = function (_SimpleDom$Component) {\n    _inherits(Step, _SimpleDom$Component);\n\n    function Step() {\n        _classCallCheck(this, Step);\n\n        return _possibleConstructorReturn(this, (Step.__proto__ || Object.getPrototypeOf(Step)).apply(this, arguments));\n    }\n\n    _createClass(Step, [{\n        key: 'render',\n        value: function render() {\n            return SimpleDom.el(\n                'ul',\n                { 'class': 'step' },\n                SimpleDom.el(\n                    'li',\n                    { 'class': 'step-item ' + (this.props.currStep === 1 ? 'active' : undefined) },\n                    SimpleDom.el('a', { href: '#', 'class': 'tooltip tooltip-bottom', 'data-tooltip': 'Description de votre nouvelle action' })\n                ),\n                SimpleDom.el(\n                    'li',\n                    { 'class': 'step-item ' + (this.props.currStep === 2 ? 'active' : undefined) },\n                    SimpleDom.el('a', { href: '#', 'class': 'tooltip tooltip-bottom', 'data-tooltip': 'Param\\xE8tres de l\\'action' })\n                )\n            );\n        }\n    }]);\n\n    return Step;\n}(SimpleDom.Component);\n\nvar CreateAction = exports.CreateAction = function (_ParentComponent) {\n    _inherits(CreateAction, _ParentComponent);\n\n    function CreateAction(props, store) {\n        _classCallCheck(this, CreateAction);\n\n        var _this6 = _possibleConstructorReturn(this, (CreateAction.__proto__ || Object.getPrototypeOf(CreateAction)).call(this, props, store));\n\n        _this6.cstate.actionDuration = 21;\n        return _this6;\n    }\n\n    _createClass(CreateAction, [{\n        key: 'eventsToSubscribe',\n        value: function eventsToSubscribe() {\n            return ['CHANGE_STATE'];\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            var stepDiv = null;\n            switch (this.cstate.currStep) {\n                case 1:\n                case undefined:\n                    stepDiv = SimpleDom.el(CreateActionStep1, { parent: this });\n                    break;\n                case 2:\n                    stepDiv = SimpleDom.el(CreateActionStep2, { parent: this });\n                    break;\n            }\n            return SimpleDom.el(\n                'div',\n                { id: 'top', 'class': 'action' },\n                SimpleDom.el(\n                    'div',\n                    { 'class': 'row', style: 'display: none' },\n                    SimpleDom.el(Step, { currStep: this.cstate.currStep || 1 })\n                ),\n                SimpleDom.el(\n                    'div',\n                    { 'class': 'row' },\n                    SimpleDom.el(\n                        'div',\n                        { 'class': 'col s12' },\n                        stepDiv\n                    )\n                )\n            );\n        }\n    }]);\n\n    return CreateAction;\n}(_composedComponent.ParentComponent);//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzkuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL2FjdGlvbnMvc3RlcDEuanM/OTJmZCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgJy4uL2hvbWUnO1xuY29uc3QgZmxhdHBpY2tyID0gcmVxdWlyZSgnZmxhdHBpY2tyJyk7XG5cbmltcG9ydCAnLi4vY3NzL3N0ZXBzLmxlc3MnO1xuaW1wb3J0ICcuLi9jc3MvdG9vbHRpcHMubGVzcyc7XG5pbXBvcnQgJy4uL2Nzcy9wb3BvdmVycy5sZXNzJztcbmltcG9ydCAqIGFzIFNpbXBsZURvbSBmcm9tICdzaW1wbGVkb20tY29tcG9uZW50JztcbmltcG9ydCB7IHdpdGhWZWlsQW5kTWVzc2FnZXMgfSBmcm9tICcuLi9jb21wb25lbnRzL3ZlaWwvdmVpbCc7XG5pbXBvcnQgeyBDb21wb3NlZENvbXBvbmVudCwgUGFyZW50Q29tcG9uZW50IH0gZnJvbSAnLi4vY29tcG9zZWRDb21wb25lbnQnXG5pbXBvcnQgJy4vY3JlYXRlQWN0aW9uLmxlc3MnXG5pbXBvcnQge2ZpbGxVcHRhZywgZ2V0VGFnc051bWJlciwgdXBkYXRlU2lkZWJhclRhZ3N9IGZyb20gXCIuL3V0aWxzXCI7XG5pbXBvcnQgeyBUYWdTZWxlY3RvciB9IGZyb20gXCIuL3RhZ1NlbGVjdG9yXCI7XG5pbXBvcnQgJy4vdGFnU2VsZWN0b3IubGVzcyc7XG5cblxuXG5jbGFzcyBDcmVhdGVBY3Rpb25TdGVwMSBleHRlbmRzIENvbXBvc2VkQ29tcG9uZW50IHtcbiAgICBldmVudHNUb1N1YnNjcmliZSgpIHtcbiAgICAgICAgcmV0dXJuIFsnU1RFUDFfUkVGUkVTSCddO1xuICAgIH1cbiAgICByZW5kZXIoKSB7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICA8ZGl2PlxuICAgICAgICAgICAgICAgIDxoMz48c3BhbiBzdHlsZT1cIm1hcmdpbi1yaWdodDogMTBweDtcIj4xLjwvc3Bhbj5QcmVtacOocmUgw6l0YXBlICgxLzIpPC9oMz5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwicm93XCI+XG4gICAgICAgICAgICAgICAgICAgIDxwIHN0eWxlPVwiZm9udC1zaXplOiAxLjJlbTtcIj5RdWVsIGVzdCBsZSB0aXRyZSBkZSB2b3RyZSBub3V2ZWxsZSBhY3Rpb24gPzwvcD5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImlucHV0LWZpZWxkIGNvbCBzMTJcIiBzdHlsZT1cIm1hcmdpbi10b3A6IC0xMHB4XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlPVwidGV4dFwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJsZSB0aXRyZSBkZSB2b3RyZSBub3V2ZWxsZSBhY3Rpb24gIVwiXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWU9e3RoaXMuY3N0YXRlLmFjdGlvblRpdGxlIHx8ICcnfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uY2hhbmdlPXtlID0+IHRoaXMudXBkYXRlQ1N0YXRlKHsgYWN0aW9uVGl0bGU6IGUudGFyZ2V0LnZhbHVlIH0pfVxuICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgICAgIHtTaW1wbGVEb20ucHJlZGljYXRlKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICEhdGhpcy5jc3RhdGUuZXJyb3JUaXRsZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAoKSA9PiA8cCBjbGFzcz1cInJlZC10ZXh0XCIgc3R5bGU9XCJtYXJnaW4tdG9wOiAtMTBweFwiPnt0aGlzLmNzdGF0ZS5lcnJvclRpdGxlfTwvcD5cbiAgICAgICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJyb3dcIj5cbiAgICAgICAgICAgICAgICAgICAgPHAgc3R5bGU9XCJmb250LXNpemU6IDEuMmVtO1wiPlF1ZWxxdWVzIG1vdHMgcG91ciBkw6ljcmlyZSB2b3RyZSBhY3Rpb24gb3Ugw6l2w6huZW1lbnQ8L3A+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJpbnB1dC1maWVsZCBjb2wgczEyXCIgc3R5bGU9XCJtYXJnaW4tdG9wOiAtMTBweFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPHRleHRhcmVhIGNsYXNzPVwibWF0ZXJpYWxpemUtdGV4dGFyZWFcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIG9uY2hhbmdlPXtlID0+IHRoaXMudXBkYXRlQ1N0YXRlKHsgYWN0aW9uRGVzY3JpcHRpb246IGUudGFyZ2V0LnZhbHVlIH0pfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBsYWNlY2hvbGRlcj17ISF0aGlzLmNzdGF0ZS5hY3Rpb25EZXNjcmlwdGlvbiA/IHVuZGVmaW5lZCA6IFwiRW50cmV6IHVuZSBkZXNjcmlwdGlvbiBpbm5vdmFudGUuLi5cIn1cbiAgICAgICAgICAgICAgICAgICAgICAgID57dGhpcy5jc3RhdGUuYWN0aW9uRGVzY3JpcHRpb259PC90ZXh0YXJlYT5cbiAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIHtTaW1wbGVEb20ucHJlZGljYXRlKFxuICAgICAgICAgICAgICAgICAgICAgICAgISF0aGlzLmNzdGF0ZS5lcnJvckRlc2NyaXB0aW9uLFxuICAgICAgICAgICAgICAgICAgICAgICAgKCkgPT4gPHAgY2xhc3M9XCJyZWQtdGV4dFwiIHN0eWxlPVwibWFyZ2luLXRvcDogLTE1cHhcIj57dGhpcy5jc3RhdGUuZXJyb3JEZXNjcmlwdGlvbn08L3A+XG4gICAgICAgICAgICAgICAgICAgICl9XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInJvd1wiPlxuICAgICAgICAgICAgICAgICAgICA8cCBzdHlsZT1cImZvbnQtc2l6ZTogMS4yZW07XCI+Q2hvaXNpc3NleiB1bmUgaW1hZ2UgIVxuICAgICAgICAgICAgICAgICAgICAgICAge1NpbXBsZURvbS5wcmVkaWNhdGUoISF0aGlzLmNzdGF0ZS5hY3Rpb25JbWFnZVVybCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAoKSA9PiA8aW1nIHNyYz17dGhpcy5jc3RhdGUuYWN0aW9uSW1hZ2VVcmx9IGNsYXNzPVwicmVzcG9uc2l2ZS1pbWdcIiAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgQ2hlcmNoZXIgPGEgc3R5bGU9XCJjb2xvcjogIzYyZGJiMSAhaW1wb3J0YW50XCIgaHJlZj1cImh0dHBzOi8vdW5zcGxhc2guY29tXCIgdGFyZ2V0PVwiX2JsYW5rXCI+IGljaTwvYT4gb3UgPGEgc3R5bGU9XCJjb2xvcjogIzYyZGJiMSAhaW1wb3J0YW50XCIgaHJlZj1cImh0dHBzOi8vcGV4ZWxzLmNvbVwiIHRhcmdldD1cIl9ibGFua1wiPiBpY2k8L2E+XG4gICAgICAgICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImlucHV0LWZpZWxkIGNvbCBzMTJcIiBzdHlsZT1cIm1hcmdpbi10b3A6IC0xMHB4XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXRcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0eXBlPVwidXJsXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cImwnYWRyZXNzZSBkZSBsJ2ltYWdlICFcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPXt0aGlzLmNzdGF0ZS5hY3Rpb25JbWFnZVVybCB8fCAnJ31cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbmNoYW5nZT17ZSA9PiB0aGlzLnVwZGF0ZUNTdGF0ZSh7IGFjdGlvbkltYWdlVXJsOiBlLnRhcmdldC52YWx1ZSB9KX1cbiAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJyb3dcIj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInBvcG92ZXIgcG9wb3Zlci1yaWdodFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGEgY2xhc3M9XCJyaWdodCBoYnRuIGhidG4tYmlnXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbmNsaWNrPXtlID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGhhc0Vycm9yID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBlcnJvcnMgPSB7fTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEgISF0aGlzLmNzdGF0ZS5hY3Rpb25UaXRsZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGFzRXJyb3IgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3JzID0geyAuLi5lcnJvcnMsIGVycm9yVGl0bGU6ICdUaXRyZSB2aWRlICEnIH07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCEgISF0aGlzLmNzdGF0ZS5hY3Rpb25EZXNjcmlwdGlvbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaGFzRXJyb3IgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3JzID0geyAuLi5lcnJvcnMsIGVycm9yRGVzY3JpcHRpb246ICdEZXNjcmlwdGlvbiB2aWRlICEnIH07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGhhc0Vycm9yKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZUNTdGF0ZSh7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3JEZXNjcmlwdGlvbjogZXJyb3JzLmVycm9yRGVzY3JpcHRpb24sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXJyb3JUaXRsZTogZXJyb3JzLmVycm9yVGl0bGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sICdTVEVQMV9SRUZSRVNIJylcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudXBkYXRlQ1N0YXRlKHsgY3VyclN0ZXA6IDIgfSwgJ0NIQU5HRV9TVEFURScpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfX0+UGFzc2VyIMOgIGxhIHN1aXRlPC9hPlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICApO1xuICAgIH1cbn1cblxuXG5jbGFzcyBDcmVhdGVBY3Rpb25TdGVwMiBleHRlbmRzIENvbXBvc2VkQ29tcG9uZW50IHtcblxuICAgIGV2ZW50c1RvU3Vic2NyaWJlKCkge1xuICAgICAgICByZXR1cm4gWydTVEVQMl9SRUZSRVNIJ107XG4gICAgfVxuXG4gICAgY29tcG9uZW50RGlkTW91bnQoKSB7ICAgICAgIFxuICAgICAgICBmbGF0cGlja3IoJy5mbGF0cGlja2VyLXN0YXJ0ZXInKTtcbiAgICB9XG5cbiAgICAvKlxuICAgIHVwZGF0ZVNpZGViYXJUYWdzKCkge1xuICAgICAgICAvL2lmICghdGhpcy5zdGF0ZS50YWdTbHVnVG9DcmVhdGUpIHtcbiAgICAgICAgLy8gICAgcmV0dXJuO1xuICAgICAgICAvL31cbiAgICAgICAgY29uc3QgbmV3VGFncyA9IHRoaXMuc3RhdGUudGFnc1RvQ3JlYXRlLnNsaWNlKDEpLnNwbGl0KCcvJyk7XG4gICAgICAgIGxldCBleGlzdGluZ1RhZ3MgPSB0aGlzLnN0YXRlLnRhZ3M7XG4gICAgICAgIGxldCBjdXJyUmFuayA9IDE7XG5cbiAgICAgICAgbGV0IHRhZ3NTbHVnID0gJyc7XG4gICAgICAgIGNvbnN0IHRhZ3NUb0NyZWF0ZSA9IFtdO1xuICAgICAgICBcbiAgICAgICAgZm9yIChjb25zdCBuZXdUYWcgb2YgbmV3VGFncykge1xuICAgICAgICAgICAgY29uc3QgdGFnID0gZXhpc3RpbmdUYWdzLmZpbmQoZXhpc3RpbmdUYWcgPT4gZXhpc3RpbmdUYWcubmFtZSA9PT0gbmV3VGFnKTtcblxuICAgICAgICAgICAgaWYgKCEgdGFnKSB7XG4gICAgICAgICAgICAgICAgY29uc3Qgb2JqID0ge1xuICAgICAgICAgICAgICAgICAgICBuYW1lOiBuZXdUYWcsXG4gICAgICAgICAgICAgICAgICAgIHBhcmVudF9pZDogKyh0YWdzU2x1Zy5zcGxpdCgnLScpLnNsaWNlKC0xKSkgfHwgbnVsbCxcbiAgICAgICAgICAgICAgICAgICAgcmFuazogY3VyclJhbmssXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB0YWdzVG9DcmVhdGUucHVzaChvYmopO1xuICAgICAgICAgICAgICAgIC8vIGV4aXN0aW5nVGFncy5wdXNoKG9iaik7XG5cbiAgICAgICAgICAgICAgICAvLyB1cGRhdGVkIGxhdGVyIHRvIHRlc3QgP1xuICAgICAgICAgICAgICAgIC8vdGhpcy5zdG9yZS51cGRhdGVTdGF0ZSh7dGFnczogZXhpc3RpbmdUYWdzfSwgJ1NJREVCQVJfVE9fVVBEQVRFJyk7XG4gICAgICAgICAgICB9ICAgICAgICAgICAgXG4gICAgICAgICAgICBjb25zdCBuZXdJZCA9ICF0YWcgPyAwIDogdGFnLmlkO1xuICAgICAgICAgICAgdGFnc1NsdWcgPSB0YWdzU2x1ZyA/ICh0YWdzU2x1ZyArICctJyArIG5ld0lkKSA6IHRhZ3NTbHVnICsgbmV3SWQ7XG4gICAgICAgICAgICBleGlzdGluZ1RhZ3MgPSB0YWcgPyAodGFnLnNvbnMgfHwgW10pIDogW107XG4gICAgICAgICAgICBjdXJyUmFuayArKztcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4ge3RhZ3NTbHVnLCB0YWdzVG9DcmVhdGUsIGFjdHVhbGl6ZWRUYWdzOiBleGlzdGluZ1RhZ3N9O1xuICAgIH0qL1xuXG4gICAgcmVuZGVyKCkge1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgPGRpdj5cbiAgICAgICAgICAgICAgICA8aDM+Mi5TdWl0ZSBldCBmaW4gKDIvMik8L2gzPlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJyb3dcIj5cbiAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3M9XCJwcm9tcHRcIj5DbGFzc2lmaWVyIHZvdHJlIGFjdGlvbiA/IFxuICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gc3R5bGU9XCJwYWRkaW5nLWxlZnQ6IDEwcHhcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPVwibG5yIGxuci1xdWVzdGlvbi1jaXJjbGUgdG9vbHRpcCB0b29sdGlwLXJpZ2h0XCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkYXRhLXRvb2x0aXA9eydTw6lwYXJlciB2b3MgdGFncyBwYXIgZGVzIFwiL1wiLicgKyBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnU2kgdm91cyBjcsOpZXogdW4gbm91dmVhdSB0YWcsIGlsIGFwcGFyYWl0cmEgJyArIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICdhdXRvbWF0aXF1ZW1lbnQgZGFucyB2b3MgZmlsdHJlcy4nfT5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwiY29sIHMxMlwiIHN0eWxlPVwibWF4LWhlaWdodDogNzJweFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPFRhZ1NlbGVjdG9yIC8+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJyb3dcIj5cbiAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3M9XCJwcm9tcHRcIj5Wb3RyZSBhY3Rpb24gZXN0LXB1YmxpcXVlID88L3A+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJpbnB1dC1maWVsZCBjb2wgczEyXCIgc3R5bGU9XCJtYXJnaW4tdG9wOiAtMTBweDsgbWFyZ2luLWJvdHRvbTogNDBweDtcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJzd2l0Y2hcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8bGFiZWw+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIE5vblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxpbnB1dCB0eXBlPVwiY2hlY2tib3hcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2hlY2tlZD17KHRoaXMuY3N0YXRlLmlzUHVibGljIHx8IGZhbHNlKSA/IHRydWUgOiB1bmRlZmluZWR9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbmNoYW5nZT17ZSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy51cGRhdGVDU3RhdGUoeyBpc1B1YmxpYzogISh0aGlzLmNzdGF0ZS5pc1B1YmxpYyB8fCBmYWxzZSkgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19IC8+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwibGV2ZXJcIiAvPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBPdWlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2xhYmVsPlxuICAgICAgICAgICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJyb3dcIj5cbiAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3M9XCJwcm9tcHRcIj5Db21iaWVuIGRlIHRlbXBzIGR1cmVyYSB2b3RyZSBhY3Rpb24gKHLDqWN1cnJlbmNlIHF1b3RpZGllbm5lID8pOlxuICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gc3R5bGU9XCJwYWRkaW5nLWxlZnQ6IDEwcHhcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8ZW0+e2Ake3RoaXMuY3N0YXRlLmFjdGlvbkR1cmF0aW9uIHx8IDIxfSBqb3Vyc2B9PC9lbT5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICAgICAgICA8cCBjbGFzcz1cInJhbmdlLWZpZWxkXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgc3R5bGU9XCJib3JkZXItYm90dG9tOm5vbmUgIWltcG9ydGFudDtcIiB0eXBlPVwicmFuZ2VcIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlPXt0aGlzLmNzdGF0ZS5hY3Rpb25EdXJhdGlvbiB8fCAyMX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbmNoYW5nZT17ZSA9PiB0aGlzLnVwZGF0ZUNTdGF0ZSh7IGFjdGlvbkR1cmF0aW9uOiBlLnRhcmdldC52YWx1ZSB9LCAnU1RFUDJfUkVGUkVTSCcpfSBtaW49XCIwXCIgbWF4PVwiMzBcIlxuICAgICAgICAgICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgICAgICAgPC9wPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJyb3dcIj5cbiAgICAgICAgICAgICAgICAgICAgPHAgY2xhc3M9XCJwcm9tcHRcIj4gUXVhbmQgc291aGFpdGV6LXZvdXMgY29tbWVuY2VyIHZvdHJlIGFjdGlvbiA/XG4gICAgICAgICAgICAgICAgICAgICAgICA8aW5wdXQgdHlwZT1cImRhdGVcIiBzdHlsZT1cImRpc3BsYXk6IGlubGluZSAhaW1wb3J0YW50XCIgY2xhc3M9XCJmbGF0cGlja2VyLXN0YXJ0ZXJcIiBvbmNoYW5nZT17ZSA9PiB0aGlzLnVwZGF0ZUNTdGF0ZSh7IHN0YXJ0RGF0ZTogZS50YXJnZXQudmFsdWUgfSl9IC8+XG4gICAgICAgICAgICAgICAgICAgIDwvcD5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwicm93XCI+IFxuICAgICAgICAgICAgICAgICAgICA8YSBjbGFzcz1cImxlZnQgaGJ0biBoYnRuLWJpZ1wiXG4gICAgICAgICAgICAgICAgICAgICAgICBvbmNsaWNrPXtlID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnVwZGF0ZUNTdGF0ZSh7IGN1cnJTdGVwOiAxIH0sICdDSEFOR0VfU1RBVEUnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH19PlJldG91ciBlbiBhcnJpw6hyZTwvYT5cbiAgICAgICAgICAgICAgICAgICAgPGEgY2xhc3M9XCJyaWdodCBoYnRuIGhidG4tYmlnXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9uY2xpY2s9e2UgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAkKCcjY3JlYXRlQWN0aW9uJykubW9kYWwoJ2Nsb3NlJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgcmVzdWx0ID0gdXBkYXRlU2lkZWJhclRhZ3ModGhpcy5zdGF0ZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2l0aFZlaWxBbmRNZXNzYWdlcyhcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LmZldGNoSnNvbkRhdGEoJy91c2Vycy9hY3Rpb25zL2NyZWF0ZScsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWV0aG9kOiAnUE9TVCcsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAuLi50aGlzLmNzdGF0ZSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGFnc1RvQ3JlYXRlOiByZXN1bHQudGFnc1RvQ3JlYXRlLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YWdzU2x1ZzogcmVzdWx0LnRhZ3NTbHVnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pLCB0cnVlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgKS50aGVuKCh7dGFncywgdXNlcl9hY3Rpb259KSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZpbGxVcHRhZyh0YWdzKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgY291bnRCeVRhZ1NsdWcgPSB7fTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0ZS5hY3Rpb25zLnB1c2godXNlcl9hY3Rpb24pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAvL3Rlc3QgaWYgdGhlIHVzZXIgaGFzIHBhcnRpY2lwYXRlZCBpbnRvIHRoZSBhY3Rpb25cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gYWRkIG1heWJlIHVzZXIgYWN0aW9uID9cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdGF0ZS5zZWxlY3RlZEFjdGlvbnMucHVzaCh1c2VyX2FjdGlvbik7XG5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZ2V0VGFnc051bWJlcih0aGlzLnN0YXRlLmFjdGlvbnMsIGNvdW50QnlUYWdTbHVnKTtcblxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN0b3JlLnVwZGF0ZVN0YXRlKHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0YWdzLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvdW50QnlUYWdTbHVnXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgJ1NJREVCQVJfVE9fVVBEQVRFJywgJ0FDVElPTlNfTElTVF9UT19VUERBVEUnLCAnVElUTEVfVE9fUkVGUkVTSCcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICB9fT5DcsOpZXIgbCdhY3Rpb248L2E+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKTtcbiAgICB9XG59XG5cblxuY2xhc3MgU3RlcCBleHRlbmRzIFNpbXBsZURvbS5Db21wb25lbnQge1xuICAgIHJlbmRlcigpIHtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDx1bCBjbGFzcz1cInN0ZXBcIj5cbiAgICAgICAgICAgICAgICA8bGkgY2xhc3M9e2BzdGVwLWl0ZW0gJHt0aGlzLnByb3BzLmN1cnJTdGVwID09PSAxID8gJ2FjdGl2ZScgOiB1bmRlZmluZWR9YH0+XG4gICAgICAgICAgICAgICAgICAgIDxhIGhyZWY9XCIjXCIgY2xhc3M9XCJ0b29sdGlwIHRvb2x0aXAtYm90dG9tXCIgZGF0YS10b29sdGlwPVwiRGVzY3JpcHRpb24gZGUgdm90cmUgbm91dmVsbGUgYWN0aW9uXCIvPlxuICAgICAgICAgICAgICAgIDwvbGk+XG4gICAgICAgICAgICAgICAgPGxpIGNsYXNzPXtgc3RlcC1pdGVtICR7dGhpcy5wcm9wcy5jdXJyU3RlcCA9PT0gMiA/ICdhY3RpdmUnIDogdW5kZWZpbmVkfWB9PlxuICAgICAgICAgICAgICAgICAgICA8YSBocmVmPVwiI1wiIGNsYXNzPVwidG9vbHRpcCB0b29sdGlwLWJvdHRvbVwiIGRhdGEtdG9vbHRpcD1cIlBhcmFtw6h0cmVzIGRlIGwnYWN0aW9uXCIvPlxuICAgICAgICAgICAgICAgIDwvbGk+XG4gICAgICAgICAgICA8L3VsPlxuICAgICAgICApO1xuICAgIH1cbn1cblxuXG5leHBvcnQgY2xhc3MgQ3JlYXRlQWN0aW9uIGV4dGVuZHMgUGFyZW50Q29tcG9uZW50IHtcbiAgICBjb25zdHJ1Y3Rvcihwcm9wcywgc3RvcmUpIHtcbiAgICAgICAgc3VwZXIocHJvcHMsIHN0b3JlKTtcbiAgICAgICAgdGhpcy5jc3RhdGUuYWN0aW9uRHVyYXRpb24gPSAyMTtcbiAgICB9XG5cbiAgICBldmVudHNUb1N1YnNjcmliZSgpIHtcbiAgICAgICAgcmV0dXJuIFsnQ0hBTkdFX1NUQVRFJ107XG4gICAgfVxuXG4gICAgcmVuZGVyKCkge1xuICAgICAgICBsZXQgc3RlcERpdiA9IG51bGw7XG4gICAgICAgIHN3aXRjaCAodGhpcy5jc3RhdGUuY3VyclN0ZXApIHtcbiAgICAgICAgICAgIGNhc2UgMTpcbiAgICAgICAgICAgIGNhc2UgdW5kZWZpbmVkOlxuICAgICAgICAgICAgICAgIHN0ZXBEaXYgPSA8Q3JlYXRlQWN0aW9uU3RlcDEgcGFyZW50PXt0aGlzfSAvPlxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgIHN0ZXBEaXYgPSA8Q3JlYXRlQWN0aW9uU3RlcDIgcGFyZW50PXt0aGlzfSAvPlxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICA8ZGl2IGlkPVwidG9wXCIgY2xhc3M9XCJhY3Rpb25cIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwicm93XCIgc3R5bGU9XCJkaXNwbGF5OiBub25lXCI+XG4gICAgICAgICAgICAgICAgICAgIDxTdGVwIGN1cnJTdGVwPXt0aGlzLmNzdGF0ZS5jdXJyU3RlcCB8fCAxfSAvPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJyb3dcIj5cbiAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImNvbCBzMTJcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgIHtzdGVwRGl2fVxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICApO1xuICAgIH1cbn1cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gc3JjL2FjdGlvbnMvc3RlcDEuanMiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUVBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFEQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBOzs7Ozs7Ozs7QUFaQTtBQUNBO0FBY0E7Ozs7Ozs7Ozs7O0FBQ0E7QUFDQTtBQUNBOzs7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUpBO0FBTUE7QUFFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFUQTtBQUZBO0FBZUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBRkE7QUFHQTtBQUhBO0FBREE7QUFNQTtBQUVBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQVZBO0FBYUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQUE7QUFGQTtBQUlBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFKQTtBQUlBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFKQTtBQU1BO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFBQTtBQUFBO0FBSkE7QUFEQTtBQVBBO0FBZ0JBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUZBO0FBSUE7QUFDQTtBQUNBO0FBQ0E7QUFwQkE7QUFBQTtBQURBO0FBREE7QUE5Q0E7QUF5RUE7Ozs7OztBQUlBOzs7Ozs7Ozs7OztBQUVBO0FBQ0E7QUFDQTs7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQW1DQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFIQTtBQVFBO0FBQUE7QUFBQTtBQUNBO0FBREE7QUFUQTtBQWFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVBBO0FBQUE7QUFEQTtBQURBO0FBRkE7QUFpQkE7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBREE7QUFEQTtBQUtBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQUE7QUFGQTtBQURBO0FBTkE7QUFhQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQURBO0FBREE7QUFLQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFIQTtBQUFBO0FBSUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUdBO0FBQ0E7QUFFQTtBQUNBO0FBSEE7QUFGQTtBQVFBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUZBO0FBS0E7QUFDQTtBQS9CQTtBQUFBO0FBTEE7QUFsREE7QUEwRkE7Ozs7OztBQUlBOzs7Ozs7Ozs7OztBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFEQTtBQUdBO0FBQUE7QUFBQTtBQUNBO0FBREE7QUFKQTtBQVNBOzs7O0FBWkE7QUFDQTtBQWVBOzs7QUFDQTtBQUFBO0FBQ0E7QUFEQTtBQUNBO0FBQ0E7QUFGQTtBQUdBO0FBQ0E7OztBQUNBO0FBQ0E7QUFDQTs7O0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFQQTtBQVNBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBREE7QUFHQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQURBO0FBREE7QUFKQTtBQVdBOzs7O0EiLCJzb3VyY2VSb290IjoiIn0=");

/***/ }),

/***/ 42:
/* unknown exports provided */
/* all exports used */
/*!***************************************!*\
  !*** ./src/actions/sidebarActions.js ***!
  \***************************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.SidebarAction = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _simpledomComponent = __webpack_require__(/*! simpledom-component */ 2);\n\nvar SimpleDom = _interopRequireWildcard(_simpledomComponent);\n\nvar _veil = __webpack_require__(/*! ../components/veil/veil */ 4);\n\n__webpack_require__(/*! ./sidebarActions.less */ 56);\n\n__webpack_require__(/*! ../css/avatar.less */ 27);\n\n__webpack_require__(/*! ../css/tooltips.less */ 12);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n__webpack_require__(/*! ../home */ 3);\n\n\nvar technicalId = 1;\n\nvar Tag = function (_SimpleDom$Component) {\n    _inherits(Tag, _SimpleDom$Component);\n\n    function Tag(props, store) {\n        _classCallCheck(this, Tag);\n\n        var _this = _possibleConstructorReturn(this, (Tag.__proto__ || Object.getPrototypeOf(Tag)).call(this, props, store));\n\n        _this.tag = _this.props.tag;\n        _this.editMode = _this.tag === null;\n        _this.isActive = _this.state.activeTags.has((_this.tag || {}).tag_slug) || false;\n        _this.isHighlighted = false;\n        return _this;\n    }\n\n    _createClass(Tag, [{\n        key: 'eventsToSubscribe',\n        value: function eventsToSubscribe() {\n            return ['REFRESH_TAG_' + this.props.id];\n        }\n    }, {\n        key: 'handleTagActivity',\n        value: function handleTagActivity(event) {\n            $('.sub-tag').removeClass('active');\n            event.stopPropagation();\n            this.isActive = !this.isActive;\n            var newActiveTags = this.state.activeTags;\n\n            if (this.isActive) {\n                newActiveTags.add(this.tag.tag_slug);\n            } else {\n                newActiveTags.delete(this.tag.tag_slug);\n            }\n            this.store.updateState({ activeTags: newActiveTags }, 'REFRESH_TAG_' + this.props.id);\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            var _this2 = this;\n\n            return SimpleDom.el(\n                'li',\n                { 'class': 'sub-tag ' + (this.state.activeTags.has((this.tag || {}).tag_slug) ? 'active' : '') + ' ' + (this.isHighlighted ? 'highlighted' : ''),\n                    onclick: function onclick(event) {\n                        event.stopPropagation();\n                        $('.sub-tag').removeClass('highlighted');\n                        if (_this2.editMode) {\n                            return;\n                        }\n                        if (!_this2.isHighlighted) {\n                            _this2.isHighlighted = true;\n                        }\n                        //this.isHighlighted = !this.isHighlighted;\n                        if (_this2.props.onFilterClick) {\n                            _this2.props.onFilterClick(_this2.tag);\n                        }\n                        _this2.store.updateState({\n                            selectedTagSlug: _this2.tag.tag_slug\n                        }, 'ACTION_VIEW_TO_UPDATE', 'REFRESH_TAG_' + _this2.props.id);\n                    }\n                },\n                SimpleDom.predicate(!this.editMode, function () {\n                    var hasIcon = _this2.tag.sons && _this2.tag.sons.length;\n                    var icon = !_this2.isActive ? SimpleDom.el('span', { 'class': 'lnr lnr-plus-circle sub-tag-list-icon',\n                        onclick: function onclick(event) {\n                            return _this2.handleTagActivity(event);\n                        }\n                    }) : SimpleDom.el('span', { 'class': 'lnr lnr-circle-minus sub-tag-list-icon',\n                        onclick: function onclick(event) {\n                            return _this2.handleTagActivity(event);\n                        }\n                    });\n                    return SimpleDom.el(\n                        'div',\n                        { 'class': 'sub-tag-name' },\n                        SimpleDom.el(\n                            'div',\n                            { 'class': 'sub-tag-name-item' },\n                            SimpleDom.predicate(hasIcon, function () {\n                                return icon;\n                            }),\n                            _this2.tag.name + ' (' + (_this2.state.countByTagSlug[_this2.tag.tag_slug] || 0) + ')'\n                        ),\n                        SimpleDom.el(\n                            'div',\n                            { 'class': 'sub-tag-hover-icons' },\n                            SimpleDom.el('span', {\n                                onclick: function onclick(event) {\n                                    event.stopPropagation();\n                                    _this2.editMode = true;\n                                    _this2.store.updateState({}, ['REFRESH_TAG_' + _this2.props.id]);\n                                },\n                                'class': 'hbtn-action lnr lnr-pencil sub-tag-edit' }),\n                            SimpleDom.el(\n                                'span',\n                                {\n                                    onclick: function onclick(event) {\n                                        event.stopPropagation();\n                                        _this2.tag.sons.push(null);\n                                        _this2.isActive = true;\n                                        _this2.store.updateState({}, ['REFRESH_TAG_' + _this2.props.id]);\n                                    },\n                                    'class': 'hbtn-action sub-tag-edit' },\n                                '+'\n                            ),\n                            SimpleDom.predicate(!_this2.state.countByTagSlug[_this2.tag.tag_slug], function () {\n                                return SimpleDom.el('span', {\n                                    onclick: function onclick(event) {\n                                        event.stopPropagation();\n                                        (0, _veil.withVeilAndMessages)(fetchJsonData('/users/tags/delete/' + _this2.tag.id, { method: 'DELETE' }), true).then(function () {\n                                            if (_this2.props.parentTag) {\n                                                var sons = _this2.props.parentTag.sons.filter(function (son) {\n                                                    return son.id !== _this2.tag.id;\n                                                });\n                                                _this2.props.parentTag.sons = sons;\n                                                _this2.isActive = true;\n                                                _this2.store.updateState({}, ['REFRESH_TAG_' + _this2.props.parentId]);\n                                            } else {\n                                                var tags = _this2.state.tags.filter(function (tag) {\n                                                    return tag.id !== _this2.tag.id;\n                                                });\n                                                _this2.store.updateState({ tags: tags }, [\"SIDEBAR_TO_UPDATE\"]);\n                                            }\n                                        });\n                                    },\n                                    'class': 'hbtn-action lnr lnr-trash sub-tag-edit' });\n                            })\n                        )\n                    );\n                }, function () {\n                    return SimpleDom.el('input', { type: 'text',\n                        'class': 'sub-tag-input',\n                        onblur: function onblur(event) {\n                            event.stopPropagation();\n                            var value = event.target.value;\n                            if (!_this2.tag) {\n                                var sonTag = {\n                                    name: value,\n                                    parent_id: _this2.props.parentTag.id,\n                                    rank: _this2.props.parentTag.rank + 1,\n                                    user_id: currentUser.id\n                                };\n                                (0, _veil.withVeilAndMessages)(fetchJsonData('/users/tags/create', {\n                                    method: 'POST',\n                                    body: JSON.stringify(sonTag)\n                                }), true).then(function (tag) {\n                                    _this2.tag = tag;\n                                    _this2.props.parentTag.sons.pop();\n                                    _this2.props.parentTag.sons.push(tag);\n                                    _this2.editMode = false;\n                                    _this2.store.updateState({}, ['REFRESH_TAG_' + _this2.props.id]);\n                                });\n                                return;\n                            }\n                            (0, _veil.withVeilAndMessages)(fetchJsonData('/users/tags/update', {\n                                method: 'PUT',\n                                body: JSON.stringify({ id: _this2.tag.id, name: value })\n                            }), true).then(function (tag) {\n                                _this2.tag.name = tag.name;\n                                _this2.editMode = false;\n                                _this2.store.updateState({}, ['REFRESH_TAG_' + _this2.props.id]);\n                            });\n                        },\n                        value: (_this2.tag || {}).name\n                    });\n                }),\n                SimpleDom.predicate(this.tag && this.tag.sons && this.tag.sons.length, function () {\n                    return SimpleDom.el(\n                        'ul',\n                        { 'class': 'sub-tag-list sub-' + _this2.tag.id + ' ' + (_this2.isActive ? 'active' : '') },\n                        _this2.tag.sons.map(function (son, i) {\n                            return SimpleDom.el(Tag, { tag: son, id: technicalId++, parentTag: _this2.tag, parentId: _this2.props.id });\n                        })\n                    );\n                })\n            );\n        }\n    }]);\n\n    return Tag;\n}(SimpleDom.Component);\n\nvar TagList = function (_SimpleDom$Component2) {\n    _inherits(TagList, _SimpleDom$Component2);\n\n    function TagList() {\n        _classCallCheck(this, TagList);\n\n        return _possibleConstructorReturn(this, (TagList.__proto__ || Object.getPrototypeOf(TagList)).apply(this, arguments));\n    }\n\n    _createClass(TagList, [{\n        key: 'render',\n        value: function render() {\n            return SimpleDom.el(\n                'ul',\n                { 'class': 'main-tag-list' },\n                SimpleDom.el(\n                    'li',\n                    { 'class': 'sub-tag' },\n                    SimpleDom.el(\n                        'div',\n                        { 'class': 'sub-tag-name' },\n                        SimpleDom.el(\n                            'div',\n                            { 'class': 'sub-tag-name-item' },\n                            SimpleDom.el('span', { 'class': 'lnr lnr-layers', style: 'font-size:1.5em;margin-right:5px' }),\n                            ' Tout s\\xE9lectionner'\n                        )\n                    )\n                ),\n                this.state.tags.map(function (tag) {\n                    return SimpleDom.el(Tag, { tag: tag, id: technicalId++ });\n                })\n            );\n        }\n    }]);\n\n    return TagList;\n}(SimpleDom.Component);\n\nvar SidebarAction = exports.SidebarAction = function (_SimpleDom$Component3) {\n    _inherits(SidebarAction, _SimpleDom$Component3);\n\n    function SidebarAction(props, store) {\n        _classCallCheck(this, SidebarAction);\n\n        var _this4 = _possibleConstructorReturn(this, (SidebarAction.__proto__ || Object.getPrototypeOf(SidebarAction)).call(this, props, store));\n\n        _this4.isLoading = false;\n        _this4.hasImage = true;\n        return _this4;\n    }\n\n    _createClass(SidebarAction, [{\n        key: 'eventsToSubscribe',\n        value: function eventsToSubscribe() {\n            return ['SIDEBAR_TO_UPDATE'];\n        }\n    }, {\n        key: 'render',\n        value: function render() {\n            var _this5 = this;\n\n            if (this.isLoading) {\n                return undefined;\n            }\n            return SimpleDom.el(\n                'div',\n                { 'class': 'sidebar-action' },\n                SimpleDom.el(\n                    'div',\n                    { 'class': 'sidebar-action-header' },\n                    SimpleDom.el(\n                        'div',\n                        { 'class': 'toggler-arrow', onclick: function onclick() {\n                                var elem = document.getElementsByClassName('sidebar-action')[0];\n                                elem.classList.toggle('sidebar-minified');\n                                var main = document.getElementsByClassName('boxed-layout')[0];\n                                main.classList.toggle('boxed-layout-maximized');\n                                _this5.store.updateState({ minisidebar: !_this5.state.minisidebar }, 'ACTIONS_LIST_TO_UPDATE');\n                            } },\n                        SimpleDom.el('i', { 'class': 'lnr lnr-arrow-left' })\n                    ),\n                    SimpleDom.el(\n                        'div',\n                        { 'class': 'sidebar-action-header-img' },\n                        SimpleDom.el(\n                            'div',\n                            { 'class': 'avatar-spec avatar-spec-lg',\n                                style: 'color: white; background-color: #5764c6; display:inline-flex; flex-direction: column; justify-content: center; text-align:center;' },\n                            SimpleDom.el('span', { 'class': 'lnr lnr-list' })\n                        )\n                    )\n                ),\n                SimpleDom.el(\n                    'div',\n                    { 'class': 'sidebar-action-content' },\n                    SimpleDom.el(TagList, null)\n                ),\n                SimpleDom.el('div', { 'class': 'sidebar-action-spacer' }),\n                SimpleDom.el(\n                    'div',\n                    { 'class': 'sidebar-action-footer' },\n                    SimpleDom.el(\n                        'p',\n                        { 'class': 'sidebar-action-copyright' },\n                        '\\xA9 bemychange-2017'\n                    )\n                )\n            );\n        }\n    }]);\n\n    return SidebarAction;\n}(SimpleDom.Component);//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiNDIuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL2FjdGlvbnMvc2lkZWJhckFjdGlvbnMuanM/ODA2ZCJdLCJzb3VyY2VzQ29udGVudCI6WyJyZXF1aXJlKCcuLi9ob21lJyk7XG5pbXBvcnQgKiBhcyBTaW1wbGVEb20gZnJvbSAnc2ltcGxlZG9tLWNvbXBvbmVudCc7XG5pbXBvcnQgeyB3aXRoVmVpbEFuZE1lc3NhZ2VzIH0gZnJvbSAnLi4vY29tcG9uZW50cy92ZWlsL3ZlaWwnO1xuXG5pbXBvcnQgJy4vc2lkZWJhckFjdGlvbnMubGVzcyc7XG5pbXBvcnQgJy4uL2Nzcy9hdmF0YXIubGVzcyc7XG5pbXBvcnQgJy4uL2Nzcy90b29sdGlwcy5sZXNzJztcblxuXG5sZXQgdGVjaG5pY2FsSWQgPSAxO1xuXG5jbGFzcyBUYWcgZXh0ZW5kcyBTaW1wbGVEb20uQ29tcG9uZW50IHtcblxuICAgIGNvbnN0cnVjdG9yKHByb3BzLCBzdG9yZSkge1xuICAgICAgICBzdXBlcihwcm9wcywgc3RvcmUpO1xuICAgICAgICB0aGlzLnRhZyA9IHRoaXMucHJvcHMudGFnO1xuICAgICAgICB0aGlzLmVkaXRNb2RlID0gdGhpcy50YWcgPT09IG51bGw7XG4gICAgICAgIHRoaXMuaXNBY3RpdmUgPSB0aGlzLnN0YXRlLmFjdGl2ZVRhZ3MuaGFzKCh0aGlzLnRhZyB8fCB7fSkudGFnX3NsdWcpIHx8IGZhbHNlO1xuICAgICAgICB0aGlzLmlzSGlnaGxpZ2h0ZWQgPSBmYWxzZTtcbiAgICB9XG5cbiAgICBldmVudHNUb1N1YnNjcmliZSgpIHtcbiAgICAgICAgcmV0dXJuIFtgUkVGUkVTSF9UQUdfJHt0aGlzLnByb3BzLmlkfWBdO1xuICAgIH1cblxuICAgIGhhbmRsZVRhZ0FjdGl2aXR5KGV2ZW50KSB7XG4gICAgICAgICQoJy5zdWItdGFnJykucmVtb3ZlQ2xhc3MoJ2FjdGl2ZScpO1xuICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgdGhpcy5pc0FjdGl2ZSA9ICF0aGlzLmlzQWN0aXZlO1xuICAgICAgICBsZXQgbmV3QWN0aXZlVGFncyA9IHRoaXMuc3RhdGUuYWN0aXZlVGFncztcblxuICAgICAgICBpZiAodGhpcy5pc0FjdGl2ZSkge1xuICAgICAgICAgICAgbmV3QWN0aXZlVGFncy5hZGQodGhpcy50YWcudGFnX3NsdWcpXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBuZXdBY3RpdmVUYWdzLmRlbGV0ZSh0aGlzLnRhZy50YWdfc2x1Zyk7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zdG9yZS51cGRhdGVTdGF0ZSh7YWN0aXZlVGFnczogbmV3QWN0aXZlVGFnc30sIGBSRUZSRVNIX1RBR18ke3RoaXMucHJvcHMuaWR9YCk7XG4gICAgfVxuXG4gICAgcmVuZGVyKCkge1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgPGxpIGNsYXNzPXtgc3ViLXRhZyAke3RoaXMuc3RhdGUuYWN0aXZlVGFncy5oYXMoKHRoaXMudGFnIHx8IHt9KS50YWdfc2x1ZykgPyAnYWN0aXZlJyA6ICcnfSAke3RoaXMuaXNIaWdobGlnaHRlZCA/ICdoaWdobGlnaHRlZCc6ICcnfWB9XG4gICAgICAgICAgICAgICAgb25jbGljaz17ZXZlbnQgPT4ge1xuICAgICAgICAgICAgICAgICAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICAgICAgICAgICAgICAgICAgJCgnLnN1Yi10YWcnKS5yZW1vdmVDbGFzcygnaGlnaGxpZ2h0ZWQnKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuZWRpdE1vZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoISB0aGlzLmlzSGlnaGxpZ2h0ZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaXNIaWdobGlnaHRlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLy90aGlzLmlzSGlnaGxpZ2h0ZWQgPSAhdGhpcy5pc0hpZ2hsaWdodGVkO1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5wcm9wcy5vbkZpbHRlckNsaWNrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnByb3BzLm9uRmlsdGVyQ2xpY2sodGhpcy50YWcpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc3RvcmUudXBkYXRlU3RhdGUoe1xuICAgICAgICAgICAgICAgICAgICAgICAgc2VsZWN0ZWRUYWdTbHVnOiB0aGlzLnRhZy50YWdfc2x1Z1xuICAgICAgICAgICAgICAgICAgICB9LCAnQUNUSU9OX1ZJRVdfVE9fVVBEQVRFJywgYFJFRlJFU0hfVEFHXyR7dGhpcy5wcm9wcy5pZH1gKTtcbiAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAge1NpbXBsZURvbS5wcmVkaWNhdGUoIXRoaXMuZWRpdE1vZGUsXG4gICAgICAgICAgICAgICAgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBjb25zdCBoYXNJY29uID0gdGhpcy50YWcuc29ucyAmJiB0aGlzLnRhZy5zb25zLmxlbmd0aDtcbiAgICAgICAgICAgICAgICAgICAgbGV0IGljb24gPSAhdGhpcy5pc0FjdGl2ZSA/IFxuICAgICAgICAgICAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJsbnIgbG5yLXBsdXMtY2lyY2xlIHN1Yi10YWctbGlzdC1pY29uXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbmNsaWNrPXtldmVudCA9PiB0aGlzLmhhbmRsZVRhZ0FjdGl2aXR5KGV2ZW50KX1cbiAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgICAgICAgICA6IDxzcGFuIGNsYXNzPVwibG5yIGxuci1jaXJjbGUtbWludXMgc3ViLXRhZy1saXN0LWljb25cIlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbmNsaWNrPXtldmVudCA9PiB0aGlzLmhhbmRsZVRhZ0FjdGl2aXR5KGV2ZW50KX1cbiAgICAgICAgICAgICAgICAgICAgICAgIC8+O1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInN1Yi10YWctbmFtZVwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJzdWItdGFnLW5hbWUtaXRlbVwiPiBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge1NpbXBsZURvbS5wcmVkaWNhdGUoaGFzSWNvbiwgKCkgPT4gaWNvbil9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtgJHt0aGlzLnRhZy5uYW1lfSAoJHt0aGlzLnN0YXRlLmNvdW50QnlUYWdTbHVnW3RoaXMudGFnLnRhZ19zbHVnXSB8fCAwfSlgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJzdWItdGFnLWhvdmVyLWljb25zXCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbmNsaWNrPXtldmVudCA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5lZGl0TW9kZSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zdG9yZS51cGRhdGVTdGF0ZSh7fSwgW2BSRUZSRVNIX1RBR18ke3RoaXMucHJvcHMuaWR9YF0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX0gXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzcz1cImhidG4tYWN0aW9uIGxuciBsbnItcGVuY2lsIHN1Yi10YWctZWRpdFwiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L3NwYW4+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgb25jbGljaz17ZXZlbnQgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudGFnLnNvbnMucHVzaChudWxsKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmlzQWN0aXZlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN0b3JlLnVwZGF0ZVN0YXRlKHt9LCBbYFJFRlJFU0hfVEFHXyR7dGhpcy5wcm9wcy5pZH1gXSk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH19ICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPVwiaGJ0bi1hY3Rpb24gc3ViLXRhZy1lZGl0XCI+JiM0MztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7U2ltcGxlRG9tLnByZWRpY2F0ZSghdGhpcy5zdGF0ZS5jb3VudEJ5VGFnU2x1Z1t0aGlzLnRhZy50YWdfc2x1Z10sXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAoKSA9PiA8IHNwYW5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbmNsaWNrPXtldmVudCA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aXRoVmVpbEFuZE1lc3NhZ2VzKFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmV0Y2hKc29uRGF0YShgL3VzZXJzL3RhZ3MvZGVsZXRlLyR7dGhpcy50YWcuaWR9YCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7bWV0aG9kOiAnREVMRVRFJ30pLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJ1ZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApLnRoZW4oKCk9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5wcm9wcy5wYXJlbnRUYWcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBzb25zID0gdGhpcy5wcm9wcy5wYXJlbnRUYWcuc29ucy5maWx0ZXIoc29uID0+IHNvbi5pZCAhPT0gdGhpcy50YWcuaWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucHJvcHMucGFyZW50VGFnLnNvbnMgPSBzb25zO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaXNBY3RpdmUgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RvcmUudXBkYXRlU3RhdGUoe30sIFtgUkVGUkVTSF9UQUdfJHt0aGlzLnByb3BzLnBhcmVudElkfWBdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc3QgdGFncyA9IHRoaXMuc3RhdGUudGFncy5maWx0ZXIodGFnID0+IHRhZy5pZCAhPT0gdGhpcy50YWcuaWQpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RvcmUudXBkYXRlU3RhdGUoe3RhZ3N9LCBbXCJTSURFQkFSX1RPX1VQREFURVwiXSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNsYXNzPVwiaGJ0bi1hY3Rpb24gbG5yIGxuci10cmFzaCBzdWItdGFnLWVkaXRcIj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAoKSA9PiA8aW5wdXQgdHlwZT1cInRleHRcIiBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjbGFzcz1cInN1Yi10YWctaW5wdXRcIiBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBvbmJsdXI9e2V2ZW50ID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gZXZlbnQudGFyZ2V0LnZhbHVlOyAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICghdGhpcy50YWcpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IHNvblRhZyA9IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBuYW1lOiB2YWx1ZSwgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcGFyZW50X2lkOiB0aGlzLnByb3BzLnBhcmVudFRhZy5pZCxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByYW5rOiB0aGlzLnByb3BzLnBhcmVudFRhZy5yYW5rICsgMSxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB1c2VyX2lkOiBjdXJyZW50VXNlci5pZFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpdGhWZWlsQW5kTWVzc2FnZXMoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZmV0Y2hKc29uRGF0YSgnL3VzZXJzL3RhZ3MvY3JlYXRlJywge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBtZXRob2Q6ICdQT1NUJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoc29uVGFnKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pLCBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cnVlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICApLnRoZW4oKHRhZykgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudGFnID0gdGFnO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucHJvcHMucGFyZW50VGFnLnNvbnMucG9wKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5wcm9wcy5wYXJlbnRUYWcuc29ucy5wdXNoKHRhZyk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5lZGl0TW9kZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RvcmUudXBkYXRlU3RhdGUoe30sIFtgUkVGUkVTSF9UQUdfJHt0aGlzLnByb3BzLmlkfWBdKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpdGhWZWlsQW5kTWVzc2FnZXMoXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmZXRjaEpzb25EYXRhKCcvdXNlcnMvdGFncy91cGRhdGUnLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgbWV0aG9kOiAnUFVUJyxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7aWQ6IHRoaXMudGFnLmlkLCBuYW1lOiB2YWx1ZX0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KSwgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0cnVlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICkudGhlbigodGFnKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnRhZy5uYW1lID0gdGFnLm5hbWU7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmVkaXRNb2RlID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnN0b3JlLnVwZGF0ZVN0YXRlKHt9LCBbYFJFRlJFU0hfVEFHXyR7dGhpcy5wcm9wcy5pZH1gXSk7ICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfX1cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZT17KHRoaXMudGFnIHx8IHt9KS5uYW1lfSBcbiAgICAgICAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICApfVxuICAgICAgICAgICAge1NpbXBsZURvbS5wcmVkaWNhdGUodGhpcy50YWcgJiYgdGhpcy50YWcuc29ucyAmJiB0aGlzLnRhZy5zb25zLmxlbmd0aCxcbiAgICAgICAgICAgICAgICAoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiAoXG4gICAgICAgICAgICAgICAgICAgICAgICA8dWwgY2xhc3M9e2BzdWItdGFnLWxpc3Qgc3ViLSR7dGhpcy50YWcuaWR9ICR7dGhpcy5pc0FjdGl2ZSA/ICdhY3RpdmUnIDogJyd9YH0+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAge3RoaXMudGFnLnNvbnMubWFwKChzb24saSkgPT4geyAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIDxUYWcgdGFnPXtzb259IGlkPXt0ZWNobmljYWxJZCsrfSBwYXJlbnRUYWc9e3RoaXMudGFnfSBwYXJlbnRJZD17dGhpcy5wcm9wcy5pZH0vPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pfVxuICAgICAgICAgICAgICAgICAgICAgICAgPC91bD5cbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICApfVxuICAgICAgICAgICAgPC9saT5cbiAgICAgICAgKTtcbiAgICB9XG59XG5cbmNsYXNzIFRhZ0xpc3QgZXh0ZW5kcyBTaW1wbGVEb20uQ29tcG9uZW50IHtcblxuICAgIHJlbmRlcigpIHtcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICAgIDx1bCBjbGFzcz1cIm1haW4tdGFnLWxpc3RcIj5cbiAgICAgICAgICAgICAgICA8bGkgY2xhc3M9XCJzdWItdGFnXCI+PGRpdiBjbGFzcz1cInN1Yi10YWctbmFtZVwiPjxkaXYgY2xhc3M9XCJzdWItdGFnLW5hbWUtaXRlbVwiPjxzcGFuIGNsYXNzPVwibG5yIGxuci1sYXllcnNcIiBzdHlsZT1cImZvbnQtc2l6ZToxLjVlbTttYXJnaW4tcmlnaHQ6NXB4XCI+PC9zcGFuPiBUb3V0IHPDqWxlY3Rpb25uZXI8L2Rpdj48L2Rpdj48L2xpPlxuICAgICAgICAgICAgICAgIHt0aGlzLnN0YXRlLnRhZ3MubWFwKHRhZyA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiA8VGFnIHRhZz17dGFnfSBpZD17dGVjaG5pY2FsSWQrK30gLz5cbiAgICAgICAgICAgICAgICB9KX1cbiAgICAgICAgICAgIDwvdWw+XG4gICAgICAgICk7XG4gICAgfVxufVxuXG5leHBvcnQgY2xhc3MgU2lkZWJhckFjdGlvbiBleHRlbmRzIFNpbXBsZURvbS5Db21wb25lbnQge1xuICAgIGNvbnN0cnVjdG9yKHByb3BzLCBzdG9yZSkge1xuICAgICAgICBzdXBlcihwcm9wcywgc3RvcmUpO1xuICAgICAgICB0aGlzLmlzTG9hZGluZyA9IGZhbHNlO1xuICAgICAgICB0aGlzLmhhc0ltYWdlID0gdHJ1ZTtcbiAgICB9XG5cbiAgICBldmVudHNUb1N1YnNjcmliZSgpIHtcbiAgICAgICAgcmV0dXJuIFsnU0lERUJBUl9UT19VUERBVEUnXTtcbiAgICB9XG5cbiAgICByZW5kZXIoKSB7XG4gICAgICAgIGlmICh0aGlzLmlzTG9hZGluZykge1xuICAgICAgICAgICAgcmV0dXJuIHVuZGVmaW5lZDtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgICAgPGRpdiBjbGFzcz1cInNpZGViYXItYWN0aW9uXCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInNpZGViYXItYWN0aW9uLWhlYWRlclwiPlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwidG9nZ2xlci1hcnJvd1wiIG9uY2xpY2s9eygpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnN0IGVsZW0gPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdzaWRlYmFyLWFjdGlvbicpWzBdO1xuICAgICAgICAgICAgICAgICAgICAgICAgZWxlbS5jbGFzc0xpc3QudG9nZ2xlKCdzaWRlYmFyLW1pbmlmaWVkJyk7XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zdCBtYWluID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnYm94ZWQtbGF5b3V0JylbMF07XG4gICAgICAgICAgICAgICAgICAgICAgICBtYWluLmNsYXNzTGlzdC50b2dnbGUoJ2JveGVkLWxheW91dC1tYXhpbWl6ZWQnKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc3RvcmUudXBkYXRlU3RhdGUoe21pbmlzaWRlYmFyOiAhdGhpcy5zdGF0ZS5taW5pc2lkZWJhcn0sICdBQ1RJT05TX0xJU1RfVE9fVVBEQVRFJyk7XG4gICAgICAgICAgICAgICAgICAgIH19PlxuICAgICAgICAgICAgICAgICAgICAgICAgPGkgY2xhc3M9XCJsbnIgbG5yLWFycm93LWxlZnRcIi8+XG4gICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzPVwic2lkZWJhci1hY3Rpb24taGVhZGVyLWltZ1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cImF2YXRhci1zcGVjIGF2YXRhci1zcGVjLWxnXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZT1cImNvbG9yOiB3aGl0ZTsgYmFja2dyb3VuZC1jb2xvcjogIzU3NjRjNjsgZGlzcGxheTppbmxpbmUtZmxleDsgZmxleC1kaXJlY3Rpb246IGNvbHVtbjsganVzdGlmeS1jb250ZW50OiBjZW50ZXI7IHRleHQtYWxpZ246Y2VudGVyO1wiPlxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIDxzcGFuIGNsYXNzPVwibG5yIGxuci1saXN0XCI+XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICAgICAgey8qIDxoMj57Y3VycmVudFVzZXIuZW1haWx9PC9oMj4gKi99XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInNpZGViYXItYWN0aW9uLWNvbnRlbnRcIj5cbiAgICAgICAgICAgICAgICAgICAgPFRhZ0xpc3QvPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3M9XCJzaWRlYmFyLWFjdGlvbi1zcGFjZXJcIi8+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzcz1cInNpZGViYXItYWN0aW9uLWZvb3RlclwiPlxuICAgICAgICAgICAgICAgICAgICA8cCBjbGFzcz1cInNpZGViYXItYWN0aW9uLWNvcHlyaWdodFwiPiZjb3B5OyBiZW15Y2hhbmdlLTIwMTc8L3A+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKTtcbiAgICB9XG59XG5cblxuLy8gV0VCUEFDSyBGT09URVIgLy9cbi8vIHNyYy9hY3Rpb25zL3NpZGViYXJBY3Rpb25zLmpzIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7QUFDQTtBQUNBO0FBREE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7Ozs7Ozs7OztBQVBBO0FBQ0E7QUFDQTtBQU9BO0FBQ0E7QUFDQTs7O0FBRUE7QUFBQTtBQUNBO0FBREE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBTEE7QUFNQTtBQUNBOzs7QUFDQTtBQUNBO0FBQ0E7OztBQUVBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFFQTtBQUFBO0FBQ0E7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFEQTtBQUdBO0FBakJBO0FBbUJBO0FBRUE7QUFDQTtBQUVBO0FBQUE7QUFBQTtBQURBO0FBSUE7QUFBQTtBQUFBO0FBREE7QUFHQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUZBO0FBSUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVBBO0FBQUE7QUFTQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBS0E7QUFDQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFuQkE7QUFuQkE7QUFMQTtBQWlEQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFKQTtBQU1BO0FBRUE7QUFDQTtBQUZBO0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUE7QUFDQTtBQUZBO0FBTUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBdkNBO0FBQUE7QUEwQ0E7QUFFQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFIQTtBQU1BO0FBbklBO0FBdUlBOzs7O0FBcktBO0FBQ0E7QUF1S0E7Ozs7Ozs7Ozs7O0FBRUE7QUFDQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBSkE7QUFPQTs7OztBQVhBO0FBQ0E7QUFhQTs7O0FBQ0E7QUFBQTtBQUNBO0FBREE7QUFDQTtBQUNBO0FBQ0E7QUFIQTtBQUlBO0FBQ0E7OztBQUNBO0FBQ0E7QUFDQTs7O0FBRUE7QUFBQTtBQUNBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFQQTtBQVNBO0FBQUE7QUFBQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFGQTtBQURBO0FBVkE7QUFtQkE7QUFBQTtBQUFBO0FBQ0E7QUFEQTtBQUdBO0FBQ0E7QUFBQTtBQUFBO0FBQ0E7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQURBO0FBeEJBO0FBNkJBOzs7O0FBN0NBIiwic291cmNlUm9vdCI6IiJ9");

/***/ })

})