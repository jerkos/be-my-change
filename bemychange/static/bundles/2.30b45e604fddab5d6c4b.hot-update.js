webpackHotUpdate_name_(2,{

/***/ 30:
/* unknown exports provided */
/* all exports used */
/*!******************************!*\
  !*** ./src/actions/utils.js ***!
  \******************************/
/***/ (function(module, exports, __webpack_require__) {

"use strict";
eval("\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.fillUptag = fillUptag;\nexports.getTagsNumber = getTagsNumber;\nexports.updateSidebarTags = updateSidebarTags;\nexports.getFullTag = getFullTag;\nfunction fillUptag(tags) {\n    var val = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n    var _iteratorNormalCompletion = true;\n    var _didIteratorError = false;\n    var _iteratorError = undefined;\n\n    try {\n        for (var _iterator = tags[Symbol.iterator](), _step; !(_iteratorNormalCompletion = (_step = _iterator.next()).done); _iteratorNormalCompletion = true) {\n            var tag = _step.value;\n\n            var value = val ? val + '-' + tag.id : tag.id + '';\n            tag.tag_slug = value;\n\n            if (tag.sons && tag.sons.length) {\n                fillUptag(tag.sons, value);\n            }\n        }\n    } catch (err) {\n        _didIteratorError = true;\n        _iteratorError = err;\n    } finally {\n        try {\n            if (!_iteratorNormalCompletion && _iterator.return) {\n                _iterator.return();\n            }\n        } finally {\n            if (_didIteratorError) {\n                throw _iteratorError;\n            }\n        }\n    }\n}\n\nfunction getTagsNumber(actions, result) {\n    function plusOne(key) {\n        if (!Object.keys(result).includes(key)) {\n            result[key] = 0;\n        }\n        result[key] += 1;\n    }\n\n    var _iteratorNormalCompletion2 = true;\n    var _didIteratorError2 = false;\n    var _iteratorError2 = undefined;\n\n    try {\n        for (var _iterator2 = actions[Symbol.iterator](), _step2; !(_iteratorNormalCompletion2 = (_step2 = _iterator2.next()).done); _iteratorNormalCompletion2 = true) {\n            var action = _step2.value;\n\n            console.log(action);\n            var targetTag = action.tag;\n            if (!targetTag) {\n                return;\n            }\n            plusOne(targetTag);\n\n            var val = targetTag.split('-');\n            val.pop();\n            while (val.length !== 0) {\n                plusOne(val.join('-'));\n                val.pop();\n            }\n        }\n    } catch (err) {\n        _didIteratorError2 = true;\n        _iteratorError2 = err;\n    } finally {\n        try {\n            if (!_iteratorNormalCompletion2 && _iterator2.return) {\n                _iterator2.return();\n            }\n        } finally {\n            if (_didIteratorError2) {\n                throw _iteratorError2;\n            }\n        }\n    }\n}\n\nfunction updateSidebarTags(state) {\n    //if (!this.state.tagSlugToCreate) {\n    //    return;\n    //}\n    var newTags = state.tagsToCreate.split('/');\n    var existingTags = state.tags;\n    var currRank = 1;\n\n    var tagsSlug = '';\n    var tagsToCreate = [];\n\n    var _iteratorNormalCompletion3 = true;\n    var _didIteratorError3 = false;\n    var _iteratorError3 = undefined;\n\n    try {\n        var _loop = function _loop() {\n            var newTag = _step3.value;\n\n            var tag = existingTags.find(function (existingTag) {\n                return existingTag.name === newTag;\n            });\n\n            if (!tag) {\n                var obj = {\n                    name: newTag,\n                    parent_id: +tagsSlug.split('-').slice(-1) || null,\n                    rank: currRank\n                };\n                tagsToCreate.push(obj);\n                // existingTags.push(obj);\n\n                // updated later to test ?\n                //this.store.updateState({tags: existingTags}, 'SIDEBAR_TO_UPDATE');\n            }\n            var newId = !tag ? 0 : tag.id;\n            tagsSlug = tagsSlug ? tagsSlug + '-' + newId : tagsSlug + newId;\n            existingTags = tag ? tag.sons || [] : [];\n            currRank++;\n        };\n\n        for (var _iterator3 = newTags[Symbol.iterator](), _step3; !(_iteratorNormalCompletion3 = (_step3 = _iterator3.next()).done); _iteratorNormalCompletion3 = true) {\n            _loop();\n        }\n    } catch (err) {\n        _didIteratorError3 = true;\n        _iteratorError3 = err;\n    } finally {\n        try {\n            if (!_iteratorNormalCompletion3 && _iterator3.return) {\n                _iterator3.return();\n            }\n        } finally {\n            if (_didIteratorError3) {\n                throw _iteratorError3;\n            }\n        }\n    }\n\n    return { tagsSlug: tagsSlug, tagsToCreate: tagsToCreate, actualizedTags: existingTags };\n}\n\nfunction getFullTag(userAction, tagsInput) {\n    var userActionTags = userAction.tag.split('-');\n    var tags = tagsInput.slice();\n    var result = [];\n\n    var _loop2 = function _loop2() {\n        var currTag = userActionTags.shift();\n        var targetTag = tags.find(function (tag) {\n            return '' + tag.id === currTag;\n        });\n        result.push(targetTag.name);\n        if (targetTag && targetTag.sons) {\n            tags = targetTag.sons;\n            return 'continue';\n        }\n        return 'break';\n    };\n\n    _loop3: while (userActionTags.length) {\n        var _ret2 = _loop2();\n\n        switch (_ret2) {\n            case 'continue':\n                continue;\n\n            case 'break':\n                break _loop3;}\n    }\n\n    return result.join('/');\n}//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiMzAuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vc3JjL2FjdGlvbnMvdXRpbHMuanM/ZTMwNyJdLCJzb3VyY2VzQ29udGVudCI6WyJcbmV4cG9ydCBmdW5jdGlvbiBmaWxsVXB0YWcodGFncywgdmFsPScnKSB7XG4gICAgZm9yIChsZXQgdGFnIG9mIHRhZ3MpIHtcbiAgICAgICAgbGV0IHZhbHVlID0gdmFsID8gdmFsICsgJy0nICsgdGFnLmlkIDogdGFnLmlkICsgJyc7XG4gICAgICAgIHRhZy50YWdfc2x1ZyA9IHZhbHVlO1xuXG4gICAgICAgIGlmICh0YWcuc29ucyAmJiB0YWcuc29ucy5sZW5ndGgpIHtcbiAgICAgICAgICAgIGZpbGxVcHRhZyh0YWcuc29ucywgdmFsdWUpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gZ2V0VGFnc051bWJlcihhY3Rpb25zLCByZXN1bHQpIHtcbiAgICBmdW5jdGlvbiBwbHVzT25lKGtleSkge1xuICAgICAgICBpZiAoIU9iamVjdC5rZXlzKHJlc3VsdCkuaW5jbHVkZXMoa2V5KSkge1xuICAgICAgICAgICAgcmVzdWx0W2tleV0gPSAwO1xuICAgICAgICB9XG4gICAgICAgIHJlc3VsdFtrZXldICs9IDE7XG4gICAgfVxuXG4gICAgZm9yIChsZXQgYWN0aW9uIG9mIGFjdGlvbnMpIHtcbiAgICAgICAgY29uc29sZS5sb2coYWN0aW9uKTtcbiAgICAgICAgY29uc3QgdGFyZ2V0VGFnID0gYWN0aW9uLnRhZztcbiAgICAgICAgaWYgKCF0YXJnZXRUYWcpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBwbHVzT25lKHRhcmdldFRhZyk7XG5cbiAgICAgICAgbGV0IHZhbCA9IHRhcmdldFRhZy5zcGxpdCgnLScpO1xuICAgICAgICB2YWwucG9wKCk7XG4gICAgICAgIHdoaWxlICh2YWwubGVuZ3RoICE9PSAwKSB7XG4gICAgICAgICAgICBwbHVzT25lKHZhbC5qb2luKCctJykpO1xuICAgICAgICAgICAgdmFsLnBvcCgpO1xuICAgICAgICB9XG4gICAgfVxufVxuXG5leHBvcnQgZnVuY3Rpb24gdXBkYXRlU2lkZWJhclRhZ3Moc3RhdGUpIHtcbiAgICAvL2lmICghdGhpcy5zdGF0ZS50YWdTbHVnVG9DcmVhdGUpIHtcbiAgICAvLyAgICByZXR1cm47XG4gICAgLy99XG4gICAgY29uc3QgbmV3VGFncyA9IHN0YXRlLnRhZ3NUb0NyZWF0ZS5zcGxpdCgnLycpO1xuICAgIGxldCBleGlzdGluZ1RhZ3MgPSBzdGF0ZS50YWdzO1xuICAgIGxldCBjdXJyUmFuayA9IDE7XG5cbiAgICBsZXQgdGFnc1NsdWcgPSAnJztcbiAgICBjb25zdCB0YWdzVG9DcmVhdGUgPSBbXTtcblxuICAgIGZvciAoY29uc3QgbmV3VGFnIG9mIG5ld1RhZ3MpIHtcbiAgICAgICAgY29uc3QgdGFnID0gZXhpc3RpbmdUYWdzLmZpbmQoZXhpc3RpbmdUYWcgPT4gZXhpc3RpbmdUYWcubmFtZSA9PT0gbmV3VGFnKTtcblxuICAgICAgICBpZiAoISB0YWcpIHtcbiAgICAgICAgICAgIGNvbnN0IG9iaiA9IHtcbiAgICAgICAgICAgICAgICBuYW1lOiBuZXdUYWcsXG4gICAgICAgICAgICAgICAgcGFyZW50X2lkOiArKHRhZ3NTbHVnLnNwbGl0KCctJykuc2xpY2UoLTEpKSB8fCBudWxsLFxuICAgICAgICAgICAgICAgIHJhbms6IGN1cnJSYW5rLFxuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIHRhZ3NUb0NyZWF0ZS5wdXNoKG9iaik7XG4gICAgICAgICAgICAvLyBleGlzdGluZ1RhZ3MucHVzaChvYmopO1xuXG4gICAgICAgICAgICAvLyB1cGRhdGVkIGxhdGVyIHRvIHRlc3QgP1xuICAgICAgICAgICAgLy90aGlzLnN0b3JlLnVwZGF0ZVN0YXRlKHt0YWdzOiBleGlzdGluZ1RhZ3N9LCAnU0lERUJBUl9UT19VUERBVEUnKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCBuZXdJZCA9ICF0YWcgPyAwIDogdGFnLmlkO1xuICAgICAgICB0YWdzU2x1ZyA9IHRhZ3NTbHVnID8gKHRhZ3NTbHVnICsgJy0nICsgbmV3SWQpIDogdGFnc1NsdWcgKyBuZXdJZDtcbiAgICAgICAgZXhpc3RpbmdUYWdzID0gdGFnID8gKHRhZy5zb25zIHx8IFtdKSA6IFtdO1xuICAgICAgICBjdXJyUmFuayArKztcbiAgICB9XG4gICAgcmV0dXJuIHt0YWdzU2x1ZywgdGFnc1RvQ3JlYXRlLCBhY3R1YWxpemVkVGFnczogZXhpc3RpbmdUYWdzfTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGdldEZ1bGxUYWcodXNlckFjdGlvbiwgdGFnc0lucHV0KSB7XG4gICAgY29uc3QgdXNlckFjdGlvblRhZ3MgPSB1c2VyQWN0aW9uLnRhZy5zcGxpdCgnLScpO1xuICAgIGxldCB0YWdzID0gdGFnc0lucHV0LnNsaWNlKCk7XG4gICAgbGV0IHJlc3VsdCA9IFtdO1xuICAgIHdoaWxlICh1c2VyQWN0aW9uVGFncy5sZW5ndGgpIHtcbiAgICAgICAgY29uc3QgY3VyclRhZyA9IHVzZXJBY3Rpb25UYWdzLnNoaWZ0KCk7XG4gICAgICAgIGNvbnN0IHRhcmdldFRhZyA9IHRhZ3MuZmluZCh0YWcgPT4gJycgKyB0YWcuaWQgPT09IGN1cnJUYWcpO1xuICAgICAgICByZXN1bHQucHVzaCh0YXJnZXRUYWcubmFtZSk7XG4gICAgICAgIGlmICh0YXJnZXRUYWcgJiYgdGFyZ2V0VGFnLnNvbnMpIHtcbiAgICAgICAgICAgIHRhZ3MgPSB0YXJnZXRUYWcuc29ucztcbiAgICAgICAgICAgIGNvbnRpbnVlO1xuICAgICAgICB9XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0LmpvaW4oJy8nKTtcbn1cblxuXG4vLyBXRUJQQUNLIEZPT1RFUiAvL1xuLy8gc3JjL2FjdGlvbnMvdXRpbHMuanMiXSwibWFwcGluZ3MiOiI7Ozs7O0FBQ0E7QUFXQTtBQXlCQTtBQWtDQTtBQXRFQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFEQTtBQUNBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBUkE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQVNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBUEE7QUFBQTtBQUFBO0FBQ0E7QUFEQTtBQVFBO0FBQUE7QUFDQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUF0QkE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQXVCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVZBO0FBQUE7QUFBQTtBQUNBO0FBREE7QUFBQTtBQUFBO0FBQ0E7QUFXQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFIQTtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBN0JBO0FBQ0E7QUFVQTtBQUFBO0FBbUJBO0FBOUJBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQThCQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBSkE7QUFLQTtBQUNBO0FBQUE7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQVpBO0FBQ0E7QUFEQTtBQUlBO0FBQ0E7QUFEQTtBQUFBO0FBTUE7QUFDQTtBQVBBO0FBUUE7QUFDQTtBQUNBO0FBQUE7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==");

/***/ })

})